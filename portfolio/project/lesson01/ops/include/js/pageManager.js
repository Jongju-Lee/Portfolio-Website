(()=>{"use strict";var t={187:t=>{var e,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};e=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var o=Number.isNaN||function(t){return t!=t};function i(){i.init.call(this)}t.exports=i,t.exports.once=function(t,e){return new Promise((function(n,r){function o(n){t.removeListener(e,i),r(n)}function i(){"function"==typeof t.removeListener&&t.removeListener("error",o),n([].slice.call(arguments))}v(t,e,i,{once:!0}),"error"!==e&&function(t,e,n){"function"==typeof t.on&&v(t,"error",e,{once:!0})}(t,o)}))},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var a=10;function c(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function u(t){return void 0===t._maxListeners?i.defaultMaxListeners:t._maxListeners}function l(t,e,n,r){var o,i,a,l;if(c(n),void 0===(i=t._events)?(i=t._events=Object.create(null),t._eventsCount=0):(void 0!==i.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),i=t._events),a=i[e]),void 0===a)a=i[e]=n,++t._eventsCount;else if("function"==typeof a?a=i[e]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(o=u(t))>0&&a.length>o&&!a.warned){a.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=t,s.type=e,s.count=a.length,l=s,console&&console.warn&&console.warn(l)}return t}function s(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},o=s.bind(r);return o.listener=n,r.wrapFn=o,o}function d(t,e,n){var r=t._events;if(void 0===r)return[];var o=r[e];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(o):h(o,o.length)}function p(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function h(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function v(t,e,n,r){if("function"==typeof t.on)r.once?t.once(e,n):t.on(e,n);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function o(i){r.once&&t.removeEventListener(e,o),n(i)}))}}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(t){if("number"!=typeof t||t<0||o(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");a=t}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||o(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},i.prototype.getMaxListeners=function(){return u(this)},i.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var o="error"===t,i=this._events;if(void 0!==i)o=o&&void 0===i.error;else if(!o)return!1;if(o){var a;if(e.length>0&&(a=e[0]),a instanceof Error)throw a;var c=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw c.context=a,c}var u=i[t];if(void 0===u)return!1;if("function"==typeof u)r(u,this,e);else{var l=u.length,s=h(u,l);for(n=0;n<l;++n)r(s[n],this,e)}return!0},i.prototype.addListener=function(t,e){return l(this,t,e,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(t,e){return l(this,t,e,!0)},i.prototype.once=function(t,e){return c(e),this.on(t,f(this,t,e)),this},i.prototype.prependOnceListener=function(t,e){return c(e),this.prependListener(t,f(this,t,e)),this},i.prototype.removeListener=function(t,e){var n,r,o,i,a;if(c(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===e||n[i].listener===e){a=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,o),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,a||e)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},i.prototype.listeners=function(t){return d(this,t,!0)},i.prototype.rawListeners=function(t){return d(this,t,!1)},i.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):p.call(t,e)},i.prototype.listenerCount=p,i.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t={};function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function r(){r=function(){return t};var t={},n=Object.prototype,o=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function f(t,e,n,r){var o=e&&e.prototype instanceof h?e:h,a=Object.create(o.prototype),c=new M(r||[]);return i(a,"_invoke",{value:x(t,n,c)}),a}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var p={};function h(){}function v(){}function g(){}var y={};s(y,c,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(P([])));b&&b!==n&&o.call(b,c)&&(y=b);var w=g.prototype=h.prototype=Object.create(y);function E(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,n){function r(i,a,c,u){var l=d(t[i],t,a);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==e(f)&&o.call(f,"__await")?n.resolve(f.__await).then((function(t){r("next",t,c,u)}),(function(t){r("throw",t,c,u)})):n.resolve(f).then((function(t){s.value=t,c(s)}),(function(t){return r("throw",t,c,u)}))}u(l.arg)}var a;i(this,"_invoke",{value:function(t,e){function o(){return new n((function(n,o){r(t,e,n,o)}))}return a=a?a.then(o,o):o()}})}function x(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=C(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=d(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function C(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,C(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=d(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function M(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function P(t){if(t){var e=t[c];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(o.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:T}}function T(){return{value:void 0,done:!0}}return v.prototype=g,i(w,"constructor",{value:g,configurable:!0}),i(g,"constructor",{value:v,configurable:!0}),v.displayName=s(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s(t,l,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},E(k.prototype),s(k.prototype,u,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new k(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(w),s(w,l,"Generator"),s(w,c,(function(){return this})),s(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=P,M.prototype={constructor:M,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=o.call(i,"catchLoc"),u=o.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),S(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:P(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function o(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function i(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function c(t){o(a,r,i,c,u,"next",t)}function u(t){o(a,r,i,c,u,"throw",t)}c(void 0)}))}}function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,c=[],u=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s(r.key),r)}}function l(t,e,n){return(e=s(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t){var n=function(t,n){if("object"!==e(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,"string");if("object"!==e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===e(n)?n:String(n)}n.r(t),n.d(t,{addGetter:()=>z,addHoverEvent:()=>k,appendOnOffFunction:()=>x,checkWindowParent:()=>g,clearAnnotation:()=>T,createEl:()=>M,findParent:()=>Z,getArrayToString:()=>Q,getBoundingData:()=>S,getEl:()=>O,getElementFromPoint:()=>E,getEventPosition:()=>w,getIsMobile:()=>m,getPath:()=>H,getRoute:()=>U,getZoomRate:()=>b,inViewer:()=>y,inheritanceProperties:()=>Y,isContainsElementFromPoint:()=>C,isSameArray:()=>_,loadScriptFile:()=>q,log:()=>B,loop:()=>R,mathRandom:()=>j,onOffUserSelector:()=>L,parsingJSON:()=>V,removeSpace:()=>N,setFadeInAndOut:()=>P,setOrientation:()=>W,shuffleArray:()=>D,stopPropagation:()=>I});var f=function(){function t(e){var n,o,c=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,"after",(function(t){return c.DOM.after(t),c})),l(this,"before",(function(t){return c.DOM.before(t),c})),l(this,"append",(function(t){return c.DOM.append(t),c})),l(this,"remove",(function(){return c.DOM.remove(),c})),l(this,"removeChild",(function(t){return c.DOM.removeChild(t),c})),l(this,"contains",(function(t){return c.DOM.contains(t)})),l(this,"getter",(function(t,e){return Object.defineProperty(c,t,{get:e}),c})),l(this,"findParent",(function(e){for(var n=c.DOM.parentElement;!n.matches(e);)if((n=n.parentElement)===document.body)return null;return new t(n)})),l(this,"findSibling",(function(e){var n=Array.prototype.filter.call(c.DOM.parentElement.children,(function(t){return t.matches(e)}))[0];return n?new t(n):null})),l(this,"getEl",(function(t){return O(t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],c.DOM)})),l(this,"getComputed",(function(t){return Number(getComputedStyle(c.DOM)[t].split("px")[0])})),l(this,"addClass",(function(){var t;return(t=c.DOM.classList).add.apply(t,arguments),c})),l(this,"removeClass",(function(){var t;return(t=c.DOM.classList).remove.apply(t,arguments),c})),l(this,"replaceClass",(function(t,e){return c.DOM.classList.replace(t,e),c})),l(this,"toggleClass",(function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return c.DOM.classList.toggle(t,e),c})),l(this,"attr",(function(){switch(arguments.length){case 1:return c.DOM.getAttribute(arguments.length<=0?void 0:arguments[0]);case 2:c.DOM.setAttribute(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1])}return c})),l(this,"removeAttr",(function(t){return c.DOM.removeAttribute(t),c})),l(this,"hasAttr",(function(t){return c.DOM.hasAttribute(t)})),l(this,"matches",(function(t){return c.DOM.matches(t)})),l(this,"contains",(function(t){return c.DOM.contains(t)})),l(this,"hover",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"hover";return k(c.DOM,t),c})),l(this,"toggle",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"on";c.DOM.addEventListener("click",(function(){c.DOM.classList.toggle(t)}))})),l(this,"addEvent",(function(t,e){return t.split(" ").forEach((function(t){c.DOM.addEventListener(t,e)})),c})),l(this,"removeEvent",(function(t,e){return t.split(" ").forEach((function(t){c.DOM.removeEventListener(t,e)})),c})),l(this,"onclick",(function(t){c.DOM.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation(),t()}))})),l(this,"style",(function(t){return Object.getOwnPropertyNames(t).forEach((function(e){c.DOM.style[e]=t[e]})),c})),l(this,"setDataset",(function(){for(var t=0,e=Object.entries(c.DOM.dataset);t<e.length;t++){var n=a(e[t],2),r=n[0],o=n[1];c[r]=Number(o)||o}return c})),l(this,"animationend",(n=i(r().mark((function t(e){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t){c.DOM.onanimationend=function(n){n.animationName===e&&t()}}));case 2:case"end":return t.stop()}}),t)}))),function(t){return n.apply(this,arguments)})),l(this,"transitionend",(o=i(r().mark((function t(e){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t){c.DOM.ontransitionend=function(n){n.animationName===e&&t()}}));case 2:case"end":return t.stop()}}),t)}))),function(t){return o.apply(this,arguments)})),this.DOM=e}var e,n;return e=t,(n=[{key:"top",get:function(){return this.DOM.offsetTop}},{key:"left",get:function(){return this.DOM.offsetLeft}},{key:"width",get:function(){return this.DOM.offsetWidth}},{key:"height",get:function(){return this.DOM.offsetHeight}},{key:"bounding",get:function(){return this.DOM.getBoundingClientRect()}},{key:"computed",get:function(){return getComputedStyle(this.DOM)}},{key:"children",get:function(){return Array.prototype.map.call(this.DOM.children,(function(t){return t})).map((function(e){return new t(e)}))}},{key:"clone",get:function(){var e=new t(this.DOM.cloneNode(!0));return e.addClass("isClone"),e.isClone=!0,e}},{key:"parent",get:function(){return new t(this.DOM.parentNode)}},{key:"next",get:function(){return new t(this.DOM.nextElementSibling)}},{key:"prev",get:function(){return new t(this.DOM.previousElementSibling)}},{key:"classList",get:function(){return this.DOM.classList}},{key:"html",get:function(){return this.DOM.innerHTML},set:function(t){this.DOM.innerHTML=t}},{key:"text",get:function(){return this.DOM.innerText},set:function(t){this.DOM.innerText=t}}])&&u(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function p(){p=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new M(o||[]);return r(a,"_invoke",{value:x(t,n,c)}),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f={};function h(){}function v(){}function g(){}var y={};u(y,i,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(P([])));b&&b!==e&&n.call(b,i)&&(y=b);var w=g.prototype=h.prototype=Object.create(y);function E(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function o(r,i,a,c){var u=s(t[r],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==d(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,c)}))}c(u.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function x(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=C(a,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function C(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,C(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=s(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function M(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function P(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return v.prototype=g,r(w,"constructor",{value:g,configurable:!0}),r(g,"constructor",{value:v,configurable:!0}),v.displayName=u(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},E(k.prototype),u(k.prototype,a,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(w),u(w,c,"Generator"),u(w,i,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=P,M.prototype={constructor:M,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),S(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:P(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function h(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function v(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){h(i,r,o,a,c,"next",t)}function c(t){h(i,r,o,a,c,"throw",t)}a(void 0)}))}}var g=function(){return window.frameElement&&null!==window.frameElement?window.parent:window};function y(){var t;return(null===(t=g().parent[0])||void 0===t?void 0:t.GO_PAGE_LOAD)||g().GO_PAGE_LOAD||!1}function m(){return null!=navigator.userAgent.match(/iPad|iPhone|iPod|Android|Windows CE|BlackBerry|Symbian|Windows Phone|webOS|Opera Mini|Opera Mobi|POLARIS|IEMobile|lgtelecom|nokia|SonyEricsson/i)||"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch||!1}function b(t){var e=document.querySelector("div"),n=e.getBoundingClientRect().width/e.offsetWidth;return y()&&g().ZOOMVALUE?g().ZOOMVALUE:n}function w(t){var e=t.type.indexOf("touch")>-1?t.changedTouches[0]||t.touches[0]:t;return{x:e.clientX,y:e.clientY}}function E(t){return document.elementFromPoint(w(t).x,w(t).y)}function k(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hover",n=function(n){if(!m())switch(n.stopPropagation(),n.preventDefault(),n.type){case"mouseenter":case"mouseover":t.classList.add(e);break;case"mouseleave":case"mouseout":t.classList.remove(e)}},r=function(e){e.split(" ").forEach((function(e){t.addEventListener(e,n)}))};r("mouseover"),r("mouseout")}function x(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"on";t.on=v(p().mark((function n(){return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.addClass?t.addClass(e):t.classList.add(e),n.abrupt("return",t);case 2:case"end":return n.stop()}}),n)}))),t.off=v(p().mark((function n(){return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.removeClass?t.removeClass(e):t.classList.remove(e),n.abrupt("return",t);case 2:case"end":return n.stop()}}),n)})))}function C(t,e){var n=E(t);return e.contains(n)}function O(t){for(var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=[],r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:document).querySelectorAll(t),o=0;o<r.length;o++)n.push(r[o]);var i=n.map((function(t){return t?new f(t):null}));return e?i:n}function S(t){return{x:t.getBoundingClientRect().left,y:t.getBoundingClientRect().top,width:t.getBoundingClientRect().width,height:t.getBoundingClientRect().height}}function M(t){var e=t.tag,n=void 0===e?"div":e,r=t.className,o=t.convert,i=void 0===o||o,a=t.parent,c=void 0===a?document.body:a,u=t.html,l=t.text,s=t.prepend,d=void 0!==s&&s,p=document.createElement(n);return r&&r.split(" ").forEach((function(t){return p.classList.add(t)})),u&&p.insertAdjacentHTML("beforeend",u),l&&(p.innerText=l),d?c.prepend(p):c.appendChild(p),i?new f(p):p}function P(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"fadein",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"fadeout",r=[];return x(t),t.fadeIn=v(p().mark((function n(){var o,i=arguments;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=i.length>0&&void 0!==i[0]?i[0]:300,n.next=3,new Promise((function(n){t.addClass(e).on(),t.animationend(e).then((function(){t.removeClass(e),r.push(setTimeout(n,o))}))}));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),n)}))),t.fadeOut=v(p().mark((function e(){var o,i=arguments;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=i.length>0&&void 0!==i[0]?i[0]:300,e.next=3,new Promise((function(e){t.addClass(n),t.animationend(n).then((function(){t.removeClass(n).off(),r.push(setTimeout(e,o))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),t.stop=function(){r.forEach((function(t){return t&&clearTimeout(t)})),t.removeClass(e).off(),t.removeClass(n).off()},t}function T(t){g().API_ANNOTATION_INPUT_DELETE&&g().API_ANNOTATION_INPUT_DELETE(t.id)}function L(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body;e.style.userSelect=t,e.style.msUserSelect=t,e.style.mozUserSelect=t,e.style.webkitUserSelect=t}function I(t){t.stopPropagation()}function j(){return window.crypto.getRandomValues(new Uint32Array(1))[0]/Math.pow(2,32)}function D(t){t.sort((function(){return j()-.5}))}function _(t,e){return t.sort().join(",")===e.sort().join(",")}function N(t){return t.replace(/ /g,"")}var A=0;function B(t){var e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];O(".logText",!1).length>0&&!n?(e=O(".logText",!1)[0]).style.top="0px":((e=document.createElement("div")).className="logText",document.body.appendChild(e),e.style.top="".concat(30*A,"px")),e.style.position="absolute",e.style.left="0px",e.style.fontSize="20px",e.style.color="tomato",e.style.zIndex=100,e.innerText=t,A++}function R(t){return F.apply(this,arguments)}function F(){return(F=v(p().mark((function t(e){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t,n){var r,o=0;r=requestAnimationFrame((function i(){o++,e()?(cancelAnimationFrame(r),t(e())):o>=180?(cancelAnimationFrame(r),n("loop error: "+e)):r=requestAnimationFrame(i)}))}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function W(t){90===t||-90===t||270===t?document.querySelector("div").classList.add("isLandscape"):document.querySelector("div").classList.add("isVertical")}function z(t,e,n){Object.defineProperty(t,e,{get:n})}function V(t,e){return G.apply(this,arguments)}function G(){return(G=v(p().mark((function t(e,n){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t){var r=new XMLHttpRequest;r.open("GET","".concat(e).concat(n,".json")),r.responseType="json",r.send(),r.onload=function(){t(r.response)}}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function q(t,e){var n=document.createElement("script");n.src=t,e&&(n.onload=function(t){e(t)}),document.body.appendChild(n)}function U(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"resource",r=location.href,o=r.includes("/contents/")?"/contents/":"/contents_sub/";switch(r.includes(o)?t=r.split(o)[0]:r.includes("/binder/")?t=r.split("/binder/")[0]:r.includes("/resource/")&&(t=r.split("/resource/")[0]+"/resource"),e=t?t.substring(0,t.lastIndexOf("/")):r.split("/viewer/")[0],n){case"app":return"".concat(e,"/");case"resource":return"".concat(t,"/");case"viewer":return"".concat(e,"/viewer/")}}function H(){var t=window.CONFIG.AUDIO_SRC,e=t.split("/")[0];return"."==e||".."==e?t:"".concat(U()).concat(t)}function Y(t,e){Object.assign(t,e)}function Q(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return t.split(e).map((function(t){return t.trim()}))}function Z(t,e){for(var n=t.parentElement;!e(n);)if((n=n.parentElement)===document.body)return null;return new f(n)}function X(t,e,n){e.split(" ").forEach((function(e){t.addEventListener(e,n)}))}function $(t,e,n){e.split(" ").forEach((function(e){t.removeEventListener(e,n)}))}var K=function(){document.body.style.overscrollBehavior="none",document.querySelector("html").style.overscrollBehavior="none"},J=function(){document.body.style.overscrollBehavior="",document.querySelector("html").style.overscrollBehavior=""};function tt(t){var e=t.dragObj,n=t.container,r=void 0===n?document:n,o=t.callback,i=t.fixedZoom,a=void 0!==i&&i,c=o.start,u=o.move,l=o.end,s={};z(s,"eventPointer",(function(){return w(event)}));var f=function(t){t.preventDefault(),t.stopPropagation();var e=s.starter,n=s.zoomRate;s.moveX=(s.eventPointer.x-e.x)/n,s.moveY=(s.eventPointer.y-e.y)/n,s.movedX=e.left+s.moveX,s.movedY=e.top+s.moveY,u&&u(s,t),E(t)||d(t)},d=function(t){t.stopPropagation(),document.removeEventListener("touchmove",I,{passive:!1}),$(r,"mousemove touchmove",f),$(r,"mouseup touchend",d),document.removeEventListener("touchmove",I,{passive:!1}),L(""),J(),s.dropElement=E(t),l&&l(s,t)};X(e,"mousedown touchstart",(function(t){t.preventDefault(),t.stopPropagation(),s.zoomRate=a?1:b(),s.starter={x:w(t).x,y:w(t).y,top:e.offsetTop,left:e.offsetLeft},s.moveX=0,s.moveY=0,X(r,"mousemove touchmove",f),X(r,"mouseup touchend",d),document.addEventListener("touchmove",I,{passive:!1}),L("none"),K(),document.addEventListener("touchmove",I,{passive:!1}),c&&c(s,t)}))}var et="js-scale",nt="on",rt="off",ot="hide",it="complete",at="selected",ct="active",ut="inactive",lt="click",st="js-player",ft="js-media",dt="videoPosterImage",pt="videoPlayButton",ht="down",vt="pause",gt="muted",yt="isPaused",mt="isPlaying",bt="_player_is_repeating",wt="isFullscreenMode",Et="appendFullscreen",kt="isScriptOn",xt="control-is-hiding",Ct="run-fullscreen",Ot="data-ply-idx",St="data-ply-type",Mt="data-ply-opts",Pt="data-ply-num-idx",Tt="numSync",Lt="sceneReset",It="rolePlay",jt="againPlayMedia",Dt="js-controlBoxContainer",_t="play",Nt="pause",At="stop",Bt="script",Rt="zoom",Ft="volumeToggle",Wt="progress",zt="timer",Vt="volume",Gt="volumeContainer",qt="js-scriptContainer",Ut="js-script",Ht="data-script-idx",Yt="data-label",Qt="data-visible-label",Zt="data-scroll-top",Xt="js-languageContainer",$t="js-languageTarget",Kt="js-numSyncContainer",Jt="js-sceneContainer",te="speedToggle",ee="js-playSpeed",ne="data-ply-speed",re="qualityToggle",oe="js-quality",ie="data-ply-quality",ae="autoRepeatControl",ce="js-roleContainer",ue="js-roleSelectChar",le="roleSelectChar",se="js-roleSyncContainer",fe="rolePlayChar",de="js-roleCheckContainer",pe="roleCheckChar",he="data-roleplay-char",ve="data-select-char",ge="data-speak-type",ye="js-playerRecordStartBtn",me="js-playerRecordEndBtn",be="js-playerRecordPlayBtn",we="data-mp3",Ee="data-mr",ke="js-videoChangeToggle",xe="videoChangeToggle",Ce="videoChangeButton",Oe="data-name",Se="js-drawing",Me="drawed",Pe="data-draw-idx",Te="data-draw-opts",Le="data-draw-area",Ie="aria-label",je="js-slider",De="js-sliderTabs",_e="js-sliderPrevBtn",Ne="js-sliderNextBtn",Ae="js-sliderContent",Be="data-sld-idx",Re="data-sld-cont",Fe="data-sld-opts",We="js-popupContent",ze="js-openPopBtn",Ve="js-closePopBtn",Ge="isOpened",qe="data-pop-idx",Ue="data-pop-opts",He="data-pop-inner",Ye="js-progressControlContainer",Qe="data-ctrl-idx",Ze="data-ctrl-opt",Xe="data-src-idx",$e="data-dot-num",Ke="data-ctrl-start",Je="js-record",tn="data-record-idx",en="data-record-opt",nn="_record_is_start",rn="_record_is_playing",on="isRecording",an="isRecordPlaying",cn="js-scratchContainer",un="data-scratch-idx",ln="data-scratch-size",sn="data-scratch-per",fn="js-scrollContainer",dn="scrollBg",pn="scrollBtnContainer",hn="scrollBtnUp",vn="scrollBtnDown",gn="data-scroll-idx",yn="data-scroll-opt",mn="data-scroll-starty",bn="data-start-pagey",wn="js-selfCheck",En="jello",kn="js-quizContainer",xn="js-quizItem",Cn="js-quizAlert",On="js-quizTarget",Sn="isAnswer",Mn="quiz_finish",Pn="correctAnswer",Tn="hideAnswer",Ln="data-quiz-idx",In="data-quiz-opts",jn="data-quiz-try",Dn="data-item-index",_n="data-answer",Nn="data-prev-idx",An="noAnswer",Bn="multiDrop",Rn="freeDrag",Fn="CHOICE_CORRECT",Wn="CHOICE_INCORRECT",zn="data-multi-length",Vn="js-quizItemBtn",Gn="answer",qn="redo",Un="Correct",Hn="Incorrect",Yn="isDragging",Qn="dropped",Zn="dragged",Xn="nonEvent",$n="ITEM_ANSWERED",Kn="data-idx",Jn="data-type",tr="data-length",er="data-no-answer",nr="data-idx",rr="data-type",or="data-answerd",ir="js-quizHandler",ar="js-quizHandlerItemBtn",cr="data-hdl-quiz",ur="data-handler",lr="hideIcon",sr="viewerSoundToggle",fr="viewerSoundContainer",dr="viewerSound",pr="viewerSoundBar",hr="viewerSoundControl",vr="allVolumePer",gr="js-wordPlay",yr="js-toggleTextItem",mr="js-toggleTextBtn",br="offPointer",wr="data-control-type",Er="data-word-idx",kr="data-control-opts",xr="data-control-slider",Cr="data-move-length",Or="data-play-repeat",Sr="data-play-delay",Mr="data-speak-delay",Pr="sliderPageMove",Tr="toggleText",Lr="noPause",Ir="isSpeaking",jr="data-mp3",Dr="data-type",_r="data-word-options",Nr="data-move-group",Ar="keepClassOnSpeak",Br="js-clickItem",Rr="data-click-idx",Fr="js-comparison",Wr="data-comparison-idx",zr="data-comparison-start",Vr="js-inputDragContainer",Gr="js-inputDropItem",qr="js-magnify",Ur="data-mag-idx",Hr="js-narrationBtn",Yr="isNarrPlaying",Qr="data-narr-idx",Zr="data-narr-target",Xr="data-narr-src",$r="data-narr-opt",Kr="data-target-play",Jr="data-target-type",to="data-playing-idx",eo="data-sound-name",no="data-sound-path";function ro(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var oo={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},io={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},ao=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],co={CSS:{},springs:{}};function uo(t,e,n){return Math.min(Math.max(t,e),n)}function lo(t,e){return t.indexOf(e)>-1}function so(t,e){return t.apply(null,e)}var fo={arr:function(t){return Array.isArray(t)},obj:function(t){return lo(Object.prototype.toString.call(t),"Object")},pth:function(t){return fo.obj(t)&&t.hasOwnProperty("totalLength")},svg:function(t){return t instanceof SVGElement},inp:function(t){return t instanceof HTMLInputElement},dom:function(t){return t.nodeType||fo.svg(t)},str:function(t){return"string"==typeof t},fnc:function(t){return"function"==typeof t},und:function(t){return void 0===t},nil:function(t){return fo.und(t)||null===t},hex:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},rgb:function(t){return/^rgb/.test(t)},hsl:function(t){return/^hsl/.test(t)},col:function(t){return fo.hex(t)||fo.rgb(t)||fo.hsl(t)},key:function(t){return!oo.hasOwnProperty(t)&&!io.hasOwnProperty(t)&&"targets"!==t&&"keyframes"!==t}};function po(t){var e=/\(([^)]+)\)/.exec(t);return e?e[1].split(",").map((function(t){return parseFloat(t)})):[]}function ho(t,e){var n=po(t),r=uo(fo.und(n[0])?1:n[0],.1,100),o=uo(fo.und(n[1])?100:n[1],.1,100),i=uo(fo.und(n[2])?10:n[2],.1,100),a=uo(fo.und(n[3])?0:n[3],.1,100),c=Math.sqrt(o/r),u=i/(2*Math.sqrt(o*r)),l=u<1?c*Math.sqrt(1-u*u):0,s=u<1?(u*c-a)/l:-a+c;function f(t){var n=e?e*t/1e3:t;return n=u<1?Math.exp(-n*u*c)*(1*Math.cos(l*n)+s*Math.sin(l*n)):(1+s*n)*Math.exp(-n*c),0===t||1===t?t:1-n}return e?f:function(){var e=co.springs[t];if(e)return e;for(var n=1/6,r=0,o=0;;)if(1===f(r+=n)){if(++o>=16)break}else o=0;var i=r*n*1e3;return co.springs[t]=i,i}}function vo(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return function(e){return Math.ceil(uo(e,1e-6,1)*t)*(1/t)}}var go,yo,mo=function(){var t=.1;function e(t,e){return 1-3*e+3*t}function n(t,e){return 3*e-6*t}function r(t){return 3*t}function o(t,o,i){return((e(o,i)*t+n(o,i))*t+r(o))*t}function i(t,o,i){return 3*e(o,i)*t*t+2*n(o,i)*t+r(o)}return function(e,n,r,a){if(0<=e&&e<=1&&0<=r&&r<=1){var c=new Float32Array(11);if(e!==n||r!==a)for(var u=0;u<11;++u)c[u]=o(u*t,e,r);return function(u){return e===n&&r===a||0===u||1===u?u:o(function(n){for(var a=0,u=1;10!==u&&c[u]<=n;++u)a+=t;--u;var l=a+(n-c[u])/(c[u+1]-c[u])*t,s=i(l,e,r);return s>=.001?function(t,e,n,r){for(var a=0;a<4;++a){var c=i(e,n,r);if(0===c)return e;e-=(o(e,n,r)-t)/c}return e}(n,l,e,r):0===s?l:function(t,e,n,r,i){var a,c,u=0;do{(a=o(c=e+(n-e)/2,r,i)-t)>0?n=c:e=c}while(Math.abs(a)>1e-7&&++u<10);return c}(n,a,a+t,e,r)}(u),n,a)}}}}(),bo=(go={linear:function(){return function(t){return t}}},yo={Sine:function(){return function(t){return 1-Math.cos(t*Math.PI/2)}},Circ:function(){return function(t){return 1-Math.sqrt(1-t*t)}},Back:function(){return function(t){return t*t*(3*t-2)}},Bounce:function(){return function(t){for(var e,n=4;t<((e=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)}},Elastic:function(){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,e=uo(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,1,10),n=uo(t,.1,2);return function(t){return 0===t||1===t?t:-e*Math.pow(2,10*(t-1))*Math.sin((t-1-n/(2*Math.PI)*Math.asin(1/e))*(2*Math.PI)/n)}}},["Quad","Cubic","Quart","Quint","Expo"].forEach((function(t,e){yo[t]=function(){return function(t){return Math.pow(t,e+2)}}})),Object.keys(yo).forEach((function(t){var e=yo[t];go["easeIn"+t]=e,go["easeOut"+t]=function(t,n){return function(r){return 1-e(t,n)(1-r)}},go["easeInOut"+t]=function(t,n){return function(r){return r<.5?e(t,n)(2*r)/2:1-e(t,n)(-2*r+2)/2}},go["easeOutIn"+t]=function(t,n){return function(r){return r<.5?(1-e(t,n)(1-2*r))/2:(e(t,n)(2*r-1)+1)/2}}})),go);function wo(t,e){if(fo.fnc(t))return t;var n=t.split("(")[0],r=bo[n],o=po(t);switch(n){case"spring":return ho(t,e);case"cubicBezier":return so(mo,o);case"steps":return so(vo,o);default:return so(r,o)}}function Eo(t){try{return document.querySelectorAll(t)}catch(t){return}}function ko(t,e){for(var n=t.length,r=arguments.length>=2?arguments[1]:void 0,o=[],i=0;i<n;i++)if(i in t){var a=t[i];e.call(r,a,i,t)&&o.push(a)}return o}function xo(t){return t.reduce((function(t,e){return t.concat(fo.arr(e)?xo(e):e)}),[])}function Co(t){return fo.arr(t)?t:(fo.str(t)&&(t=Eo(t)||t),t instanceof NodeList||t instanceof HTMLCollection?[].slice.call(t):[t])}function Oo(t,e){return t.some((function(t){return t===e}))}function So(t){var e={};for(var n in t)e[n]=t[n];return e}function Mo(t,e){var n=So(t);for(var r in t)n[r]=e.hasOwnProperty(r)?e[r]:t[r];return n}function Po(t,e){var n=So(t);for(var r in e)n[r]=fo.und(t[r])?e[r]:t[r];return n}function To(t){var e=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(t);if(e)return e[1]}function Lo(t,e){return fo.fnc(t)?t(e.target,e.id,e.total):t}function Io(t,e){return t.getAttribute(e)}function jo(t,e,n){if(Oo([n,"deg","rad","turn"],To(e)))return e;var r=co.CSS[e+n];if(!fo.und(r))return r;var o=document.createElement(t.tagName),i=t.parentNode&&t.parentNode!==document?t.parentNode:document.body;i.appendChild(o),o.style.position="absolute",o.style.width=100+n;var a=100/o.offsetWidth;i.removeChild(o);var c=a*parseFloat(e);return co.CSS[e+n]=c,c}function Do(t,e,n){if(e in t.style){var r=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),o=t.style[e]||getComputedStyle(t).getPropertyValue(r)||"0";return n?jo(t,o,n):o}}function _o(t,e){return fo.dom(t)&&!fo.inp(t)&&(!fo.nil(Io(t,e))||fo.svg(t)&&t[e])?"attribute":fo.dom(t)&&Oo(ao,e)?"transform":fo.dom(t)&&"transform"!==e&&Do(t,e)?"css":null!=t[e]?"object":void 0}function No(t){if(fo.dom(t)){for(var e,n=t.style.transform||"",r=/(\w+)\(([^)]*)\)/g,o=new Map;e=r.exec(n);)o.set(e[1],e[2]);return o}}function Ao(t,e,n,r){switch(_o(t,e)){case"transform":return function(t,e,n,r){var o=lo(e,"scale")?1:0+function(t){return lo(t,"translate")||"perspective"===t?"px":lo(t,"rotate")||lo(t,"skew")?"deg":void 0}(e),i=No(t).get(e)||o;return n&&(n.transforms.list.set(e,i),n.transforms.last=e),r?jo(t,i,r):i}(t,e,r,n);case"css":return Do(t,e,n);case"attribute":return Io(t,e);default:return t[e]||0}}function Bo(t,e){var n=/^(\*=|\+=|-=)/.exec(t);if(!n)return t;var r=To(t)||0,o=parseFloat(e),i=parseFloat(t.replace(n[0],""));switch(n[0][0]){case"+":return o+i+r;case"-":return o-i+r;case"*":return o*i+r}}function Ro(t,e){if(fo.col(t))return function(t){return fo.rgb(t)?(n=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(e=t))?"rgba(".concat(n[1],",1)"):e:fo.hex(t)?function(t){var e=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,n,r){return e+e+n+n+r+r})),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e),r=parseInt(n[1],16),o=parseInt(n[2],16),i=parseInt(n[3],16);return"rgba(".concat(r,",").concat(o,",").concat(i,",1)")}(t):fo.hsl(t)?function(t){var e,n,r,o=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(t),i=parseInt(o[1],10)/360,a=parseInt(o[2],10)/100,c=parseInt(o[3],10)/100,u=o[4]||1;function l(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}if(0==a)e=n=r=c;else{var s=c<.5?c*(1+a):c+a-c*a,f=2*c-s;e=l(f,s,i+1/3),n=l(f,s,i),r=l(f,s,i-1/3)}return"rgba(".concat(255*e,",").concat(255*n,",").concat(255*r,",").concat(u,")")}(t):void 0;var e,n}(t);if(/\s/g.test(t))return t;var n=To(t),r=n?t.substr(0,t.length-n.length):t;return e?r+e:r}function Fo(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Wo(t){for(var e,n=t.points,r=0,o=0;o<n.numberOfItems;o++){var i=n.getItem(o);o>0&&(r+=Fo(e,i)),e=i}return r}function zo(t){if(t.getTotalLength)return t.getTotalLength();switch(t.tagName.toLowerCase()){case"circle":return function(t){return 2*Math.PI*Io(t,"r")}(t);case"rect":return function(t){return 2*Io(t,"width")+2*Io(t,"height")}(t);case"line":return function(t){return Fo({x:Io(t,"x1"),y:Io(t,"y1")},{x:Io(t,"x2"),y:Io(t,"y2")})}(t);case"polyline":return Wo(t);case"polygon":return function(t){var e=t.points;return Wo(t)+Fo(e.getItem(e.numberOfItems-1),e.getItem(0))}(t)}}function Vo(t,e){var n=e||{},r=n.el||function(t){for(var e=t.parentNode;fo.svg(e)&&fo.svg(e.parentNode);)e=e.parentNode;return e}(t),o=r.getBoundingClientRect(),i=Io(r,"viewBox"),a=o.width,c=o.height,u=n.viewBox||(i?i.split(" "):[0,0,a,c]);return{el:r,viewBox:u,x:u[0]/1,y:u[1]/1,w:a,h:c,vW:u[2],vH:u[3]}}function Go(t,e,n){function r(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=e+n>=1?e+n:0;return t.el.getPointAtLength(r)}var o=Vo(t.el,t.svg),i=r(),a=r(-1),c=r(1),u=n?1:o.w/o.vW,l=n?1:o.h/o.vH;switch(t.property){case"x":return(i.x-o.x)*u;case"y":return(i.y-o.y)*l;case"angle":return 180*Math.atan2(c.y-a.y,c.x-a.x)/Math.PI}}function qo(t,e){var n=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,r=Ro(fo.pth(t)?t.totalLength:t,e)+"";return{original:r,numbers:r.match(n)?r.match(n).map(Number):[0],strings:fo.str(t)||e?r.split(n):[]}}function Uo(t){return ko(t?xo(fo.arr(t)?t.map(Co):Co(t)):[],(function(t,e,n){return n.indexOf(t)===e}))}function Ho(t){var e=Uo(t);return e.map((function(t,n){return{target:t,id:n,total:e.length,transforms:{list:No(t)}}}))}function Yo(t,e){var n=So(e);if(/^spring/.test(n.easing)&&(n.duration=ho(n.easing)),fo.arr(t)){var r=t.length;2!==r||fo.obj(t[0])?fo.fnc(e.duration)||(n.duration=e.duration/r):t={value:t}}var o=fo.arr(t)?t:[t];return o.map((function(t,n){var r=fo.obj(t)&&!fo.pth(t)?t:{value:t};return fo.und(r.delay)&&(r.delay=n?0:e.delay),fo.und(r.endDelay)&&(r.endDelay=n===o.length-1?e.endDelay:0),r})).map((function(t){return Po(t,n)}))}var Qo={css:function(t,e,n){return t.style[e]=n},attribute:function(t,e,n){return t.setAttribute(e,n)},object:function(t,e,n){return t[e]=n},transform:function(t,e,n,r,o){if(r.list.set(e,n),e===r.last||o){var i="";r.list.forEach((function(t,e){i+="".concat(e,"(").concat(t,") ")})),t.style.transform=i}}};function Zo(t,e){Ho(t).forEach((function(t){for(var n in e){var r=Lo(e[n],t),o=t.target,i=To(r),a=Ao(o,n,i,t),c=Bo(Ro(r,i||To(a)),a),u=_o(o,n);Qo[u](o,n,c,t.transforms,!0)}}))}function Xo(t,e){return ko(xo(t.map((function(t){return e.map((function(e){return function(t,e){var n=_o(t.target,e.name);if(n){var r=function(t,e){var n;return t.tweens.map((function(r){var o=function(t,e){var n={};for(var r in t){var o=Lo(t[r],e);fo.arr(o)&&1===(o=o.map((function(t){return Lo(t,e)}))).length&&(o=o[0]),n[r]=o}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}(r,e),i=o.value,a=fo.arr(i)?i[1]:i,c=To(a),u=Ao(e.target,t.name,c,e),l=n?n.to.original:u,s=fo.arr(i)?i[0]:l,f=To(s)||To(u),d=c||f;return fo.und(a)&&(a=l),o.from=qo(s,d),o.to=qo(Bo(a,s),d),o.start=n?n.end:0,o.end=o.start+o.delay+o.duration+o.endDelay,o.easing=wo(o.easing,o.duration),o.isPath=fo.pth(i),o.isPathTargetInsideSVG=o.isPath&&fo.svg(e.target),o.isColor=fo.col(o.from.original),o.isColor&&(o.round=1),n=o,o}))}(e,t),o=r[r.length-1];return{type:n,property:e.name,animatable:t,tweens:r,duration:o.end,delay:r[0].delay,endDelay:o.endDelay}}}(t,e)}))}))),(function(t){return!fo.und(t)}))}function $o(t,e){var n=t.length,r=function(t){return t.timelineOffset?t.timelineOffset:0},o={};return o.duration=n?Math.max.apply(Math,t.map((function(t){return r(t)+t.duration}))):e.duration,o.delay=n?Math.min.apply(Math,t.map((function(t){return r(t)+t.delay}))):e.delay,o.endDelay=n?o.duration-Math.max.apply(Math,t.map((function(t){return r(t)+t.duration-t.endDelay}))):e.endDelay,o}var Ko=0,Jo=[],ti=function(){var t;function e(n){for(var r=Jo.length,o=0;o<r;){var i=Jo[o];i.paused?(Jo.splice(o,1),r--):(i.tick(n),o++)}t=o>0?requestAnimationFrame(e):void 0}return"undefined"!=typeof document&&document.addEventListener("visibilitychange",(function(){ni.suspendWhenDocumentHidden&&(ei()?t=cancelAnimationFrame(t):(Jo.forEach((function(t){return t._onDocumentVisibility()})),ti()))})),function(){t||ei()&&ni.suspendWhenDocumentHidden||!(Jo.length>0)||(t=requestAnimationFrame(e))}}();function ei(){return!!document&&document.hidden}function ni(){var t,e=0,n=0,r=0,o=0,i=null;function a(t){var e=window.Promise&&new Promise((function(t){return i=t}));return t.finished=e,e}var c,u,l,s,f,d,p,h,v=(u=Mo(oo,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),l=Mo(io,c),s=function(t,e){var n=[],r=e.keyframes;for(var o in r&&(e=Po(function(t){for(var e=ko(xo(t.map((function(t){return Object.keys(t)}))),(function(t){return fo.key(t)})).reduce((function(t,e){return t.indexOf(e)<0&&t.push(e),t}),[]),n={},r=function(){var r=e[o];n[r]=t.map((function(t){var e={};for(var n in t)fo.key(n)?n==r&&(e.value=t[n]):e[n]=t[n];return e}))},o=0;o<e.length;o++)r();return n}(r),e)),e)fo.key(o)&&n.push({name:o,tweens:Yo(e[o],t)});return n}(l,c),f=Ho(c.targets),d=Xo(f,s),p=$o(d,l),h=Ko,Ko++,Po(u,{id:h,children:[],animatables:f,animations:d,duration:p.duration,delay:p.delay,endDelay:p.endDelay}));function g(){var e=v.direction;"alternate"!==e&&(v.direction="normal"!==e?"normal":"reverse"),v.reversed=!v.reversed,t.forEach((function(t){return t.reversed=v.reversed}))}function y(t){return v.reversed?v.duration-t:t}function m(){e=0,n=y(v.currentTime)*(1/ni.speed)}function b(t,e){e&&e.seek(t-e.timelineOffset)}function w(t){for(var e=0,n=v.animations,r=n.length;e<r;){var o=n[e],i=o.animatable,a=o.tweens,c=a.length-1,u=a[c];c&&(u=ko(a,(function(e){return t<e.end}))[0]||u);for(var l=uo(t-u.start-u.delay,0,u.duration)/u.duration,s=isNaN(l)?1:u.easing(l),f=u.to.strings,d=u.round,p=[],h=u.to.numbers.length,g=void 0,y=0;y<h;y++){var m=void 0,b=u.to.numbers[y],w=u.from.numbers[y]||0;m=u.isPath?Go(u.value,s*b,u.isPathTargetInsideSVG):w+s*(b-w),d&&(u.isColor&&y>2||(m=Math.round(m*d)/d)),p.push(m)}var E=f.length;if(E){g=f[0];for(var k=0;k<E;k++){f[k];var x=f[k+1],C=p[k];isNaN(C)||(g+=x?C+x:C+" ")}}else g=p[0];Qo[o.type](i.target,o.property,g,i.transforms),o.currentValue=g,e++}}function E(t){v[t]&&!v.passThrough&&v[t](v)}function k(c){var u=v.duration,l=v.delay,s=u-v.endDelay,f=y(c);v.progress=uo(f/u*100,0,100),v.reversePlayback=f<v.currentTime,t&&function(e){if(v.reversePlayback)for(var n=o;n--;)b(e,t[n]);else for(var r=0;r<o;r++)b(e,t[r])}(f),!v.began&&v.currentTime>0&&(v.began=!0,E("begin")),!v.loopBegan&&v.currentTime>0&&(v.loopBegan=!0,E("loopBegin")),f<=l&&0!==v.currentTime&&w(0),(f>=s&&v.currentTime!==u||!u)&&w(u),f>l&&f<s?(v.changeBegan||(v.changeBegan=!0,v.changeCompleted=!1,E("changeBegin")),E("change"),w(f)):v.changeBegan&&(v.changeCompleted=!0,v.changeBegan=!1,E("changeComplete")),v.currentTime=uo(f,0,u),v.began&&E("update"),c>=u&&(n=0,v.remaining&&!0!==v.remaining&&v.remaining--,v.remaining?(e=r,E("loopComplete"),v.loopBegan=!1,"alternate"===v.direction&&g()):(v.paused=!0,v.completed||(v.completed=!0,E("loopComplete"),E("complete"),!v.passThrough&&"Promise"in window&&(i(),a(v)))))}return a(v),v.reset=function(){var e=v.direction;v.passThrough=!1,v.currentTime=0,v.progress=0,v.paused=!0,v.began=!1,v.loopBegan=!1,v.changeBegan=!1,v.completed=!1,v.changeCompleted=!1,v.reversePlayback=!1,v.reversed="reverse"===e,v.remaining=v.loop,t=v.children;for(var n=o=t.length;n--;)v.children[n].reset();(v.reversed&&!0!==v.loop||"alternate"===e&&1===v.loop)&&v.remaining++,w(v.reversed?v.duration:0)},v._onDocumentVisibility=m,v.set=function(t,e){return Zo(t,e),v},v.tick=function(t){r=t,e||(e=r),k((r+(n-e))*ni.speed)},v.seek=function(t){k(y(t))},v.pause=function(){v.paused=!0,m()},v.play=function(){v.paused&&(v.completed&&v.reset(),v.paused=!1,Jo.push(v),m(),ti())},v.reverse=function(){g(),v.completed=!v.reversed,m()},v.restart=function(){v.reset(),v.play()},v.remove=function(t){oi(Uo(t),v)},v.reset(),v.autoplay&&v.play(),v}function ri(t,e){for(var n=e.length;n--;)Oo(t,e[n].animatable.target)&&e.splice(n,1)}function oi(t,e){var n=e.animations,r=e.children;ri(t,n);for(var o=r.length;o--;){var i=r[o],a=i.animations;ri(t,a),a.length||i.children.length||r.splice(o,1)}n.length||r.length||e.pause()}ni.version="3.2.1",ni.speed=1,ni.suspendWhenDocumentHidden=!0,ni.running=Jo,ni.remove=function(t){for(var e=Uo(t),n=Jo.length;n--;)oi(e,Jo[n])},ni.get=Ao,ni.set=Zo,ni.convertPx=jo,ni.path=function(t,e){var n=fo.str(t)?Eo(t)[0]:t,r=e||100;return function(t){return{property:t,el:n,svg:Vo(n),totalLength:zo(n)*(r/100)}}},ni.setDashoffset=function(t){var e=zo(t);return t.setAttribute("stroke-dasharray",e),e},ni.stagger=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.direction||"normal",r=e.easing?wo(e.easing):null,o=e.grid,i=e.axis,a=e.from||0,c="first"===a,u="center"===a,l="last"===a,s=fo.arr(t),f=s?parseFloat(t[0]):parseFloat(t),d=s?parseFloat(t[1]):0,p=To(s?t[1]:t)||0,h=e.start||0+(s?f:0),v=[],g=0;return function(t,e,y){if(c&&(a=0),u&&(a=(y-1)/2),l&&(a=y-1),!v.length){for(var m=0;m<y;m++){if(o){var b=u?(o[0]-1)/2:a%o[0],w=u?(o[1]-1)/2:Math.floor(a/o[0]),E=b-m%o[0],k=w-Math.floor(m/o[0]),x=Math.sqrt(E*E+k*k);"x"===i&&(x=-E),"y"===i&&(x=-k),v.push(x)}else v.push(Math.abs(a-m));g=Math.max.apply(Math,function(t){if(Array.isArray(t))return ro(t)}(C=v)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(C)||function(t,e){if(t){if("string"==typeof t)return ro(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ro(t,e):void 0}}(C)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}r&&(v=v.map((function(t){return r(t/g)*g}))),"reverse"===n&&(v=v.map((function(t){return i?t<0?-1*t:-t:Math.abs(g-t)})))}var C;return h+(s?(d-f)/g:f)*(Math.round(100*v[e])/100)+p}},ni.timeline=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=ni(t);return e.duration=0,e.add=function(n,r){var o=Jo.indexOf(e),i=e.children;function a(t){t.passThrough=!0}o>-1&&Jo.splice(o,1);for(var c=0;c<i.length;c++)a(i[c]);var u=Po(n,Mo(io,t));u.targets=u.targets||t.targets;var l=e.duration;u.autoplay=!1,u.direction=e.direction,u.timelineOffset=fo.und(r)?l:Bo(r,l),a(e),e.seek(u.timelineOffset);var s=ni(u);a(s),s.duration,u.timelineOffset,i.push(s);var f=$o(i,t);return e.delay=f.delay,e.endDelay=f.endDelay,e.duration=f.duration,e.seek(0),e.reset(),e.autoplay&&e.play(),e},e},ni.easing=wo,ni.penner=bo,ni.random=function(t,e){return Math.floor(window.crypto.getRandomValues(new Uint32Array(1))[0]/Math.pow(2,32)*(e-t+1))+t};const ii=ni;var ai,ci,ui,li,si,fi=(null===(ai=window.CONFIG)||void 0===ai?void 0:ai.SND_SLIDE_TAB)||"click",di=(null===(ci=window.CONFIG)||void 0===ci?void 0:ci.SND_SLIDE_DOT)||"click",pi=(null===(ui=window.CONFIG)||void 0===ui?void 0:ui.SND_SLIDE_ARROW)||"click",hi={},vi=function(t){if(t.contents.forEach((function(e){return e.removeClass("fadeIn".concat(t.motionDirection,"Short")).off()})),t.currentContent.on(),t.hasMotion&&t.motionDirection&&(t.currentContent.addClass("fadeIn".concat(t.motionDirection,"Short")),t.currentContent.animationend("fadeIn".concat(t.motionDirection,"Short")).then((function(){return t.currentContent.removeClass("fadeIn".concat(t.motionDirection,"Short"))}))),t.isMoveSideMotion)if(t.isVertical){var e=-t.contentHeight*(t.currentContentIndex-1),n=t.showContentLength>1?Math.max(e,t.maxTop):e;ii({targets:t.contents.map((function(t){return t.DOM})),translateY:n,easing:"easeOutExpo",duration:t.motionDirection?1e3:10})}else{var r=-t.contentWidth*(t.currentContentIndex-1),o=t.showContentLength>1?Math.max(r,t.maxLeft):r;ii({targets:t.contents.map((function(t){return t.DOM})),translateX:o,easing:"easeOutExpo",duration:t.motionDirection?1e3:10})}if(t.hasTitle&&t.currentContent.title&&t.titleContainer&&(t.titleContainer.text=t.currentContent.title),t.prevButton&&t.nextButton)switch(t.currentContentIndex){case 1:t.prevButton&&t.prevButton.addClass(rt).attr("tabindex",-1).attr("aria-disabled","true"),t.nextButton&&t.nextButton.removeClass(rt).removeAttr("tabindex").attr("aria-disabled","false");break;case t.length:t.prevButton&&t.prevButton.removeClass(rt).removeAttr("tabindex").attr("aria-disabled","false"),t.nextButton&&t.nextButton.addClass(rt).attr("tabindex",-1).attr("aria-disabled","true");break;default:t.nextButton&&t.nextButton.removeClass(rt).removeAttr("tabindex").attr("aria-disabled","false"),t.prevButton&&t.prevButton.removeClass(rt).removeAttr("tabindex").attr("aria-disabled","false")}var i;t.hasTab&&(t.tabs.forEach((function(t){t.off(),t.attr("aria-pressed","false")})),t.currentTab.on(),t.currentTab.attr("aria-pressed","true")),t.isChianButton&&(null===(i=t.buttons)||void 0===i||i.forEach((function(e){e.off(),e.attr("aria-pressed","false"),e.index===t.currentContentIndex&&(e.on(),e.attr("aria-pressed","true"))}))),hi.pageChange(t),t.callback.pageChange(t)};function gi(t,e){var n={};if(z(n,"currentTab",(function(){return n.tabs.filter((function(t){return t.index===n.currentContentIndex}))[0]})),z(n,"currentContent",(function(){return n.contents.filter((function(t){return t.index===n.currentContentIndex}))[0]})),z(n,"contentWidth",(function(){return n.currentContent.width})),z(n,"contentHeight",(function(){return n.currentContent.height})),z(n,"maxLeft",(function(){return n.container.width-n.currentContent.width*n.length})),z(n,"maxTop",(function(){return n.container.height-n.currentContent.height*n.length})),z(n,"length",(function(){return n.contents.length})),Y(hi,e),n._callback={pageChange:function(t){}},Object.defineProperty(n,"callback",{set:function(t){Y(n._callback,t)},get:function(){return n._callback}}),n.currentContentIndex=1,n.container=t,n.name=t.attr("data-sld-name"),n.index=Number(t.attr(Be)),n.options=n.container.attr(Fe)?n.container.attr(Fe).replace(/ /g,"").split(","):[],n.contents=[].concat(t.getEl(".".concat(Ae,"[").concat(Be,'="').concat(n.index,'"]'))),n.contents.forEach((function(t){t.index=Number(t.attr(Re)),t.title=t.attr("data-sld-title")||null,x(t,at)})),n.showContentLength=Number(t.attr("data-cont-show"))||1,n.motionDirection="Right",n.hasTitle=!1,n.options.includes("title")){var r=O(".".concat("js-sliderTitle","[").concat(Be,'="').concat(n.index,'"]'))[0];r&&(n.titleContainer=r,n.hasTitle=!0)}n.hasMotion=n.options.includes("motion")||null,n.isMoveSideMotion=n.options.includes("moveSideMotion")||null,n.isVertical=n.options.includes("vertical")||null,n.isChianButton=n.options.includes("chianButton")||null,n.resetContents=function(){hi.reset(n)},n.pageChange=function(t){t===n.currentContentIndex?n.motionDirection=null:t>n.currentContentIndex?n.motionDirection="Right":n.motionDirection="Left",n.currentContentIndex=t,vi(n)},n.pageChangeNoMotion=function(t){n.motionDirection=null,n.currentContentIndex=t,vi(n)},n.pageMove=function(t){switch(t){case"prev":n.currentContentIndex>1&&(n.showContentLength>1?n.currentContentIndex<=n.showContentLength?n.currentContentIndex=1:n.currentContentIndex-=n.showContentLength:n.currentContentIndex--,n.motionDirection="Left");break;case"next":n.currentContentIndex<n.length&&(n.showContentLength>1?n.currentContentIndex+n.showContentLength>=n.length?n.currentContentIndex=n.length:n.currentContentIndex+=n.showContentLength:n.currentContentIndex++,n.motionDirection="Right")}vi(n)},n.hasElement=function(t){return n.container.contains(t)},n.initSliderButton=function(t){n.buttons.forEach((function(e){e.off(),e.attr("aria-pressed","false"),e.index===t&&(e.on(),e.attr("aria-pressed","true"))}))},n.reset=function(){n.pageChangeNoMotion(1),n.buttons&&n.buttons.length>0&&n.initSliderButton(1)},n.init=function(){n.showContentLength>1&&(n.isVertical?n.container.style({height:"".concat(n.contentHeight*n.showContentLength,"px")}):n.container.style({width:"".concat(n.contentWidth*n.showContentLength,"px")})),n.pageChangeNoMotion(n.currentContentIndex),n.buttons&&n.buttons.length>0&&n.initSliderButton(n.currentContentIndex)};var o=O(".".concat("js-sliderBtn","[").concat(Be,'="').concat(n.index,'"], .').concat(ze,"[").concat(Be,'="').concat(n.index,'"]'));if(o.length>0&&(n.buttons=[].concat(o),n.buttons.forEach((function(t){t.attr("aria-pressed","false"),t.index=t.attr(Re)-0,k(t.DOM),x(t,at),t.onclick((function(){playEfSound&&playEfSound(fi),n.buttons.forEach((function(t){t.off(),t.attr("aria-pressed","false")})),n.resetContents(),n.pageChangeNoMotion(t.index),t.on(),t.attr("aria-pressed","true")}))}))),n.init(),n.hasTab=t.getEl(".".concat(De,"[").concat(Be,'="').concat(n.index,'"]'))[0]||null,n.hasTab){var i=t.getEl(".".concat(De,"[").concat(Be,'="').concat(n.index,'"]'))[0];i.name=i.attr("data-tab-name")||"slideDot",n.tabs=n.contents.map((function(t,e){var r=i.getEl(".".concat("js-sliderTabBtn","[").concat("data-tab-idx",'="').concat(e+1,'"]'))[0]||M({tag:"button",parent:i.DOM,className:i.name});return r.attr("aria-pressed","false"),r.index=e+1,x(r,ct),r.onclick((function(){playEfSound&&playEfSound(di),n.resetContents(),n.pageChange(r.index)})),r})),n.tabs[0].on(),n.tabs[0].attr("aria-pressed","true")}return n.prevButton=t.getEl(".".concat(_e,"[").concat(Be,'="').concat(n.index,'"]'))[0],n.nextButton=t.getEl(".".concat(Ne,"[").concat(Be,'="').concat(n.index,'"]'))[0],n.prevButton&&n.prevButton.onclick((function(){playEfSound&&playEfSound(pi),n.resetContents(),n.pageMove("prev")})),n.nextButton&&n.nextButton.onclick((function(){playEfSound&&playEfSound(pi),n.resetContents(),n.pageMove("next")})),n.prevButton&&k(n.prevButton.DOM),n.nextButton&&k(n.nextButton.DOM),n}function yi(t){var e=t.attr(Be);[].concat(t.getEl(".".concat(De,", .").concat(_e,", .").concat(Ne,", .").concat(Ae))).forEach((function(t){t.attr(Be,e)}))}var mi,bi,wi=(null===(li=window.CONFIG)||void 0===li?void 0:li.SND_POPUP_OPEN)||"click",Ei=(null===(si=window.CONFIG)||void 0===si?void 0:si.SND_POPUP_CLOSE)||"click",ki={},xi='button, input:not([type="hidden"]), select, iframe, textarea, [href], [tabindex]:not([tabindex="-1"])';function Ci(t,e){var n={};inheritanceProperties(ki,e),n._callback={open:function(t,e){},close:function(t,e){}},Object.defineProperty(n,"callback",{set:function(t){inheritanceProperties(n._callback,t)},get:function(){return n._callback}}),n.isOpened=!1,n.container=t,n.index=Number(t.attr(qe)),n.inners=[],n.tabChild=t.getEl(xi),n.tabChild&&n.tabChild.forEach((function(t){t.addEvent("keydown",(function(e){var r=n.findTabChild("first"),o=n.findTabChild("last");e.shiftKey&&9===(e.keyCode||e.which)&&r.DOM==t.DOM?(e.preventDefault(),o.DOM.focus()):e.shiftKey||9!==(e.keyCode||e.which)||o.DOM!=t.DOM||(e.preventDefault(),r.DOM.focus())}))})),n.index||console.warn("".concat(t.DOM,"에 [").concat(qe,"]가 없습니다!")),n.options=n.container.attr(Ue)?n.container.attr(Ue).replace(/ /g,"").split(","):[],n.hasNoClose=n.options.includes("noClose"),n.hasAutoClose=n.options.includes("autoClose"),n.isHideViewer=n.options.includes("hideMyClassViewer"),n.isNoReset=n.options.includes("noReset"),n.isNoResetCont=n.options.includes("noResetCont"),n.container.DOM.hasAttribute(Qr)&&(n.playNarrationIndex=Number(n.container.attr(Qr))),n.findTabChild=function(e){var n,r=t.getEl(xi);if("first"==e){for(var o=0;o<r.length;o++)if(0!=r[o].DOM.offsetWidth&&"-1"!=r[o].attr("tabindex")){n=r[o];break}}else if("last"==e)for(var i=r.length-1;i>=0;i--)if(0!=r[i].DOM.offsetWidth&&"-1"!=r[i].attr("tabindex")){n=r[i];break}return n},n.toggle=function(t){n.isOpened?n.close(t):n.open(t)},n.open=function(t){n.isInner||n.hasNoClose||ki.closePop(n),n.hasAutoClose&&document.addEventListener("click",(function e(r){n.container.DOM.contains(r.target)||(n.close(t),document.removeEventListener("click",e))})),n.openedBtn=t,g().popupOpenInChild&&g().popupOpenInChild(),n.isHideViewer&&g().hideViewer&&g().hideViewer(),ki.resetNarrWord(n),clearTimeout(bi),clearTimeout(mi),n.isOpened=!0,n.container.on(),bi=setTimeout((function(){n.findTabChild("first")?n.findTabChild("first").DOM.focus():(n.container.attr("tabindex",0),n.container.DOM.focus(),n.container.removeAttr("tabindex"))}),150),t&&(t.addClass(Ge),t.attr("aria-pressed","true")),n.iframeReset(),ki.open(n),n.callback.open(n,t)},n.close=function(t){n.isOpened=!1,n.container.off(),n.isNoResetCont||n.resetContents(),n.buttons&&n.buttons.forEach((function(t){return t.removeClass(Ge)})),clearTimeout(bi),clearTimeout(mi),n.openedBtn&&n.openedBtn.attr("aria-pressed","false"),mi=setTimeout((function(){n.openedBtn&&n.openedBtn.DOM.focus()}),150),g().popupCloseInChild&&g().popupCloseInChild(),n.isHideViewer&&g().showViewer&&g().showViewer(),n.iframeReset(),n.isNoReset||ki.resetNarrWord(n),n.callback.close(n,t)},n.resetContents=function(){ki.reset(n)},n.hasElement=function(t){return n.container.contains(t)},n.iframeReset=function(){var t=n.container.getEl("iframe")[0];t&&setTimeout((function(){return t.DOM.contentDocument.location.reload(!0)}),10)},n.reset=n.close;var r=[].concat(O(".".concat(ze,"[").concat(qe,'="').concat(n.index,'"]'))).filter((function(t){return t}));0===r.length?console.warn("".concat(t.DOM,"과 연동된 ").concat(ze,"이 없습니다!")):(n.buttons=r,r.forEach((function(t){t.attr("aria-pressed","false"),t.onclick((function(){playEfSound&&playEfSound(wi),n.toggle(t)})),k(t.DOM)})));var o=[].concat(n.container.getEl(".".concat(Ve,"[").concat(qe,'="').concat(n.index,'"]'))).filter((function(t){return t}));return o.length>0&&(n.closeButtons=o,o.forEach((function(t){k(t.DOM),t.onclick((function(){playEfSound&&playEfSound(Ei),n.close()}))}))),x(n.container,nt),n}function Oi(t){var e=t.attr(qe);t.getEl(".".concat(Ve))&&[].concat(t.getEl(".".concat(Ve))).forEach((function(t){t.attr(qe,e)}))}function Si(t){return Si="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Si(t)}function Mi(){Mi=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),c=new O(o||[]);return r(a,"_invoke",{value:E(t,n,c)}),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f={};function d(){}function p(){}function h(){}var v={};u(v,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(S([])));y&&y!==e&&n.call(y,i)&&(v=y);var m=h.prototype=d.prototype=Object.create(v);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,a,c){var u=s(t[r],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==Si(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,c)}))}c(u.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function E(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=k(a,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function k(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=s(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:M}}function M(){return{value:void 0,done:!0}}return p.prototype=h,r(m,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:p,configurable:!0}),p.displayName=u(h,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,u(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),u(m,c,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function Pi(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function Ti(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Pi(i,r,o,a,c,"next",t)}function c(t){Pi(i,r,o,a,c,"throw",t)}a(void 0)}))}}var Li,Ii,ji,Di,_i,Ni,Ai,Bi,Ri,Fi="data-alert-type";function Wi(t,e){var n,r;if(e.isNoAlert,!t)return{on:(r=Ti(Mi().mark((function t(){return Mi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),function(){return r.apply(this,arguments)}),off:(n=Ti(Mi().mark((function t(){return Mi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),function(){return n.apply(this,arguments)})};var o,i=Number(t.attr("data-alert-time"))||1.5,a=(o=Ti(Mi().mark((function e(n){return Mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.on(),t.attr(Fi,n),e.next=4,new Promise((function(t){setTimeout((function(){c(),t()}),1e3*i)}));case 4:case"end":return e.stop()}}),e)}))),function(t){return o.apply(this,arguments)}),c=function(){t.off(),t.attr(Fi,"")};return x(t),{on:a,off:c}}function zi(t){return zi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zi(t)}function Vi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qi(r.key),r)}}function Gi(t,e,n){return(e=qi(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qi(t){var e=function(t,e){if("object"!==zi(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==zi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===zi(e)?e:String(e)}function Ui(t,e){var n=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}(t,e);return function(t,e){return e.get?e.get.call(t):e.value}(t,n)}var Hi=(null===(Li=window.CONFIG)||void 0===Li?void 0:Li.SND_QUIZ_ALL_ANS)||"click",Yi=(null===(Ii=window.CONFIG)||void 0===Ii?void 0:Ii.SND_QUIZ_ALL_REDO)||"click",Qi=(null===(ji=window.CONFIG)||void 0===ji?void 0:ji.SND_QUIZ_SHOW)||"click",Zi=(null===(Di=window.CONFIG)||void 0===Di?void 0:Di.SND_QUIZ_HIDE)||"click",Xi=(null===(_i=window.CONFIG)||void 0===_i?void 0:_i.SND_QUIZ_EACH_SHOW_ANSWER)||"click",$i=(null===(Ni=window.CONFIG)||void 0===Ni||Ni.SND_QUIZ_EACH_HIDE_ANSWER,(null===(Ai=window.CONFIG)||void 0===Ai?void 0:Ai.SND_QUIZ_EACH_CORRECT)||"success"),Ki=(null===(Bi=window.CONFIG)||void 0===Bi?void 0:Bi.SND_QUIZ_EACH_INCORRECT)||"fail",Ji=(null===(Ri=window.CONFIG)||void 0===Ri?void 0:Ri.SND_QUIZ_EACH_REDO)||"click";function ta(t){return t?N(t).split(","):[]}var ea,na=["solve","correct","first","second","answer","example"],ra=new WeakMap,oa=function(){function t(e){var n,r,o,i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o={writable:!0,value:{correct:function(t){},incorrect:function(t){},showAnswer:function(t){},reset:function(t){},exshowAnswer:function(t){},exhideAnswer:function(t){}}},function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(n=this,r=ra),r.set(n,o),Gi(this,"setStateButton",(function(){i.isComplete||i.isAutoChangeRedoButton&&i.isCorrect?(i.answerButton&&i.answerButton.off(),i.redoButton&&i.redoButton.on()):(i.redoButton&&i.redoButton.off(),i.isShowButton?i.answerButton&&i.answerButton.on():i.isSolved||i.isNoSolve?i.isShowRedoButton?i.redoButton&&i.redoButton.on():i.answerButton&&i.answerButton.on():i.answerButton&&i.answerButton.off()),i.isToggleAnswerMode&&(i.isShowAnswer?(i.hideAnsButton&&i.hideAnsButton.on(),i.showAnsButton&&i.showAnsButton.off()):(i.hideAnsButton&&i.hideAnsButton.off(),i.showAnsButton&&i.showAnsButton.on())),document.querySelector("div").classList.toggle(Mn,i.isComplete)})),Gi(this,"itemAnsButton",(function(){var t=getEl(".".concat(ar)).filter((function(t){if(i.container.attr(cr)==t.attr(ur))return t}));addGetter(i.container,"itemCompleted",(function(){return t.filter((function(t){return t.isComplete})).length===t.length})),t.forEach((function(t){var e=t.attr(Dn).split("|");x(t),t.itemData=[],e.forEach((function(e,n){if(""!=e){var r=e.split(",");i.quizzes[n].items.forEach((function(e,n){r.filter((function(t){return Number(t)==n})).length>0&&(e.ansButton=t,t.itemData.push(e))}))}})),t.setState=function(){t.isQuizComplete()?(t.removeClass(Gn).addClass(qn),t.isComplete=!0,t.isQuizCorrect()?t.addClass(Un):t.addClass(Hn)):(t.removeClass(qn).addClass(Gn).removeClass(Un).removeClass(Hn),t.isComplete=!1),i.container.itemCompleted?i.quizzes.forEach((function(t){return t.isComplete=!0})):i.quizzes.forEach((function(t){return t.isComplete=!1})),i.setStateButton()},t.isQuizCorrect=function(){return t.itemData.filter((function(t){return t.checkItemCorrect()})),t.itemData.filter((function(t){return t.isCorrect})).length==t.itemData.length},t.isQuizComplete=function(){return t.itemData.filter((function(t){return t.isComplete})).length==t.itemData.length},t.itemReset=function(){return t.itemData.forEach((function(t){return t.reset()}))},t.itemComplete=function(){return t.itemData.forEach((function(t){return t.complete()}))},t.addEvent(lt,(function(e){e.preventDefault(),e.stopPropagation(),t.isQuizComplete()||t.matches(".".concat(qn))?(playEfSound&&playEfSound(Ji),t.itemReset(),i.quizzes.forEach((function(t){return t.isComplete=!1}))):(playEfSound&&playEfSound(Xi),(i.isSolved||i.isNoSolve)&&(t.isQuizCorrect()?(i.isNoSound||playEfSound&&playEfSound($i),t.addClass(Un)):(i.isNoSound||playEfSound&&playEfSound(Ki),t.addClass(Hn)),t.itemComplete())),i.container.itemCompleted?(i.quizzes.forEach((function(t){t.isComplete=!0,t.container.addClass("QUIZ_FINISH"),t.isCorrect?t.container.addClass("QUIZ_CORRECT"):t.container.addClass("QUIZ_INCORRECT")})),i.container.addClass(Mn)):(i.container.removeClass(Mn),i.quizzes.forEach((function(t){t.container.removeClass("QUIZ_CORRECT","QUIZ_INCORRECT","QUIZ_FINISH")}))),i.setStateButton()}))}))})),Gi(this,"init",(function(){[i.answerButton,i.redoButton,i.showAnsButton,i.hideAnsButton].forEach((function(t){t&&x(t)})),i.quizzes.forEach((function(t){return t.setHandler(i)})),i.answerButton&&i.answerButton.onclick((function(){playEfSound&&playEfSound(Hi);var t=sessionStorage.getItem("DTEXT_USER_TYPE");t&&"TE"==t?i.quizzes.forEach((function(t){return t.finish()})):(i.quizzes.forEach((function(t){return t.checkItemCorrect()})),i.isSolved||i.isNoSolve?i.isCorrect?(i.quizzes.forEach((function(t){return t.correct()})),i.callback.correct(i)):(i.quizzes.forEach((function(t){return t.incorrect()})),i.callback.incorrect(i)):(i.isNoAlert||i.alert.on(na[0]),i.quizzes.forEach((function(t){return t.redoAllItem()})))),i.callback.showAnswer(i)})),i.redoButton&&i.redoButton.onclick((function(){playEfSound&&playEfSound(Yi),i.quizzes.forEach((function(t){return t.reset()})),i.callback.reset(i)})),i.showAnsButton&&i.showAnsButton.onclick((function(){playEfSound&&playEfSound(Qi),i.quizzes.forEach((function(t){return t.exshowAnswer()})),i.callback.exshowAnswer(i)})),i.hideAnsButton&&i.hideAnsButton.onclick((function(){playEfSound&&playEfSound(Zi),i.quizzes.forEach((function(t){return t.exhideAnswer()})),i.callback.exhideAnswer(i)})),i.isItemButton&&i.itemAnsButton(i),i.setStateButton()})),this.container=e,this.answerButton=e.getEl(".".concat("js-quizAnsHandler"))[0],this.redoButton=e.getEl(".".concat("js-quizRedoHandler"))[0],this.showAnsButton=e.getEl(".".concat("js-exShowAnswer"))[0],this.hideAnsButton=e.getEl(".".concat("js-exHideAnswer"))[0],this.quizzes=ta(e.attr(cr)).map((function(t){return window.CONTENTS_QUIZ.filter((function(e){return e.index===Number(t)}))[0]})),this.options=ta(e.attr("data-hdl-opts")),getEl(".".concat(ar)).forEach((function(t){t.attr(ur)||t.findParent(".".concat(ir))&&t.attr(ur,t.findParent(".".concat(ir)).attr(cr))})),this.isItemButton=getEl(".".concat(ar)).filter((function(t){return e.attr(cr)==t.attr(ur)})).length>0,this.alert=Wi(getEl(".".concat(Cn))[0],this),this.init()}var e,n;return e=t,(n=[{key:"callback",get:function(){return Ui(this,ra)},set:function(t){inheritanceProperties(Ui(this,ra),t)}},{key:"isComplete",get:function(){return this.quizzes.filter((function(t){return t.isComplete})).length===this.quizzes.length}},{key:"isCorrect",get:function(){return this.quizzes.filter((function(t){return t.isCorrect})).length===this.quizzes.length}},{key:"isAutoChangeRedoButton",get:function(){return this.quizzes.filter((function(t){return t.isAutoChangeRedoButton})).length>0}},{key:"isShowButton",get:function(){return this.quizzes.filter((function(t){return t.isShowButton})).length>0}},{key:"isSolved",get:function(){return this.isAllSolve?this.quizzes.filter((function(t){return t.isSolved})).length==this.quizzes.length:this.quizzes.filter((function(t){return t.isSolved})).length>0}},{key:"isNoSolve",get:function(){return this.quizzes.filter((function(t){return t.isNoSolve})).length>0}},{key:"isShowRedoButton",get:function(){return this.quizzes.filter((function(t){return t.isShowRedoButton})).length>0}},{key:"isNoAlert",get:function(){return this.quizzes.filter((function(t){return t.isNoAlert})).length>0}},{key:"isAllSolve",get:function(){return this.quizzes.filter((function(t){return t.isAllSolve})).length>0}},{key:"isShowAnswer",get:function(){return this.quizzes.filter((function(t){return t.isShowAnswer})).length>0}},{key:"isToggleAnswerMode",get:function(){return this.quizzes.filter((function(t){return t.isToggleAnswerMode})).length>0}},{key:"isNoSound",get:function(){return this.quizzes.filter((function(t){return t.isNoSound})).length>0}}])&&Vi(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function ia(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var aa=(null===(ea=window.CONFIG)||void 0===ea?void 0:ea.DRAWING_OPTIONS)||{line:[{name:"straight",value:"straight"},{name:"curve",value:"curve"}],brush:[{name:"pen",value:"pen"},{name:"highlighter",value:"highlighter"}],eraser:[{name:"eraser",value:"eraser"},{name:"removeline",value:"removeline"},{name:"remove",value:"remove"}],color:[{name:"red",value:"#ea0000"},{name:"orange",value:"#f47025"},{name:"yellow",value:"#ffd400"},{name:"green",value:"#00a651"},{name:"sky",value:"#018dc2"},{name:"blue",value:"#0018fb"},{name:"deepPurple",value:"#4e01c2"},{name:"purple",value:"#914afc"},{name:"pink",value:"#f364e1"},{name:"black",value:"#000000"},{name:"white",value:"#ffffff"}],stroke:[{name:"size_2",value:2},{name:"size_5",value:5},{name:"size_10",value:10},{name:"size_15",value:15},{name:"size_20",value:20,default:!0}]};function ca(t,e,n){var r=t.bounding.top<=e.bounding.top,o=t.bounding.top+t.bounding.height>=Math.floor(e.bounding.top+e.bounding.height);return r?Math.max(t.minY,n):o?Math.min(t.maxY,n):n}function ua(t,e,n){var r=t.bounding.left<=e.bounding.left,o=Math.floor(t.bounding.left+t.bounding.width)>=Math.floor(e.bounding.left+e.bounding.width);return r?Math.max(t.minX,n):o?Math.min(t.maxX,n):n}function la(t){var e=M({parent:t.container.DOM,className:"optionContainer"}),n=M({tag:"button",parent:e.DOM,className:"dragButton"}).attr(Ie,"그리기 툴 이동"),r=M({tag:"button",parent:e.DOM,className:"hideDrawingButton"}),o=M({tag:"button",parent:e.DOM,className:"closeDrawingButton"});return e.attr(Pe,t.index),e.tools=function(t){var e={},n=function(n){var r=M({parent:t.DOM,className:"".concat(n,"List")});e[n]=aa[n].map((function(e){var o=M({tag:"button",parent:r.DOM,className:e.name});return o.value=e.value,o.key=n,o.hover(),o.isDefault="line"===n&&"curve"===e.value||e.default||!1,x(o,ct),e.title&&o.attr(Ie,e.title),"color"===n&&(o.attr("data-code",e.value),o.style({backgroundColor:e.value})),o.onclick((function(){"remove"!==o.value&&"removeline"!==o.value&&t.resetOption(n),"eraser"===o.value&&t.resetOption("brush"),"brush"===o.key&&t.resetOption("eraser"),t.setOption({name:n,button:o})})),o}))};for(var r in aa)n(r);return Object.defineProperty(e,"default",{get:function(){var t={};for(var n in e)"eraser"!==n&&(t[n]=e[n].find((function(t){return t.isDefault}))||e[n][0]);return t}}),e}(e),tt({dragObj:n.DOM,callback:{start:function(r,o){e.minY=Math.floor((t.drawArea.bounding.top-t.container.bounding.top)/r.zoomRate),e.maxY=Math.floor(t.drawArea.height-e.height+e.minY),e.minX=Math.floor((t.drawArea.bounding.left-t.container.bounding.left)/r.zoomRate),e.maxX=Math.floor(t.drawArea.width-e.width+e.minX),e.startValue={x:e.left-n.left,y:e.top-n.top}},move:function(n,r){var o=ua(e,t.drawArea,e.startValue.x+n.movedX);ua(e,t.drawArea,e.startValue.x+n.movedX)>e.maxX&&(o=e.maxX);var i=ca(e,t.drawArea,e.startValue.y+n.movedY);ca(e,t.drawArea,e.startValue.y+n.movedY)>e.maxY&&(i=e.maxY),e.style({top:"".concat(i,"px"),left:"".concat(o,"px")})},end:function(t){}}}),r.onclick((function(){t.isActive?t.inactive():t.active()})),o.onclick((function(){t.close()})),e.resetOption=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var o=0;o<n.length;o++)e.tools[n[o]]&&e.tools[n[o]].forEach((function(t){return t.off()}))},e.setOption=function(e){var n=e.name,r=e.button;"remove"!==r.value&&"removeline"!==r.value&&r.on(),t.setOption({name:n,value:r.value})},e.reset=function(){for(var n in e.resetOption.apply(e,function(t){if(Array.isArray(t))return ia(t)}(r=Object.keys(e.tools))||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(r)||function(t,e){if(t){if("string"==typeof t)return ia(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ia(t,e):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),e.tools.default)e.setOption({name:n,button:e.tools.default[n]});var r;if(t.options.includes("straightOnStart")&&(e.resetOption("line"),e.setOption({name:"line",button:e.tools.line.find((function(t){return"straight"===t.value}))})),t.options.includes("changeToDash")){e.resetOption("line");var o=t.container.attr("data-line-idx")||1;e.tools.line[o].value="dash",e.tools.line[o].removeClass(0===o?"straight":"curve").addClass("dash"),e.setOption({name:"line",button:e.tools.line.find((function(e){return t.options.includes("straightOnStart")?"straight"===e.value:"dash"===e.value}))})}},e}function sa(t){return sa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sa(t)}function fa(){fa=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),c=new O(o||[]);return r(a,"_invoke",{value:E(t,n,c)}),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f={};function d(){}function p(){}function h(){}var v={};u(v,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(S([])));y&&y!==e&&n.call(y,i)&&(v=y);var m=h.prototype=d.prototype=Object.create(v);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,a,c){var u=s(t[r],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==sa(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,c)}))}c(u.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function E(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=k(a,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function k(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=s(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:M}}function M(){return{value:void 0,done:!0}}return p.prototype=h,r(m,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:p,configurable:!0}),p.displayName=u(h,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,u(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),u(m,c,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function da(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,c=[],u=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return pa(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pa(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pa(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ha(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function va(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){ha(i,r,o,a,c,"next",t)}function c(t){ha(i,r,o,a,c,"throw",t)}a(void 0)}))}}function ga(t){return ga="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ga(t)}function ya(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ba(r.key),r)}}function ma(t,e,n){return(e=ba(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ba(t){var e=function(t,e){if("object"!==ga(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==ga(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===ga(e)?e:String(e)}var wa=function(){function t(e){var n=this;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),ma(this,"setOption",(function(t){var e=t.name,r=t.value;switch(e){case"line":n.canvases.forEach((function(t){return t.setLine(r)}));break;case"brush":case"eraser":if("fill"===r?(n.container.addClass("_running_fill"),n.svgItems.forEach((function(t){t.onclick((function(){t.attr("fill",n.color)}))}))):n.container.removeClass("_running_fill"),n.canvases.forEach((function(t){"remove"===r?(t.clear(),t.saveEventData=[]):"removeline"!=r&&t.setOperation(r)})),"removeline"===r){var o=n.drawedData.pop();n.canvases.forEach((function(t){t.removeline(o)}))}break;case"color":n.canvases.forEach((function(t){return t.setColor(r)})),n.color=r;break;case"stroke":n.canvases.forEach((function(t){return t.setSize(r)}))}})),ma(this,"inactive",(function(){n.isActive=!1,n.optionContainer.addClass(ot),n.canvases.forEach((function(t){return t.addClass(ot)}))})),ma(this,"active",(function(){n.isActive=!0,n.optionContainer.removeClass(ot),n.canvases.forEach((function(t){return t.removeClass(ot)}));var t=ua(n.optionContainer,n.container,Math.min(Math.floor(n.container.bounding.width-n.optionContainer.bounding.width),n.optionContainer.left));n.optionContainer.style({left:"".concat(t,"px")})})),ma(this,"reset",(function(){n.svgItems&&n.svgItems.forEach((function(t){return t.attr("fill","")})),n.canvases.forEach((function(t){return t.clear()})),n.optionContainer.reset()})),ma(this,"open",(function(){n.opened=!0,n.container.addClass(nt),document.querySelector("div").classList.add("run-drawing")})),ma(this,"close",(function(){n.opened=!1,n.container.removeClass(nt),document.querySelector("div").classList.remove("run-drawing")})),ma(this,"changeToolOption",(function(t){var e=t.name,r=t.value;n.optionContainer.setOption({name:e,button:n.optionContainer.tools[e].filter((function(t){return t.value===r}))[0]})})),ma(this,"init",(function(){n.canvases.forEach((function(t){return t.init()})),n.optionContainer.reset()})),this.index=e.index,this.container=e,this.color,this.drawArea=e.attr(Le)?e.findParent(".".concat(e.attr(Le))):e,this.container.attr(Pe,this.index),this.options=this.container.attr(Te)?N(this.container.attr(Te)).split(","):[],this.isSvgFill=this.options.includes("svgFill"),this.isSvgFill&&!window.CONFIG.DRAWING_OPTIONS.brush.find((function(t){return"fill"===t.value}))&&window.CONFIG.DRAWING_OPTIONS.brush.push({name:"fill",value:"fill",title:"페인트로 채우기"}),this.drawedData=[],this.canvases=e.getEl(".".concat("js-canvas")).map((function(t,e){return function(t,e,n){var r=document.createElement("canvas"),o=document.createElement("canvas"),i=t.DOM.getContext("2d"),a=r.getContext("2d"),c=o.getContext("2d");t.drawedData=[],t.isEraserMode=!1,t.isRemoveMode=!1,t.isHighlighterMode=!1,t.isDrawed=!1,t._callback={start:function(t){},end:function(t){}},Object.defineProperty(t,"callback",{set:function(e){inheritanceProperties(t._callback,e)},get:function(){return t._callback}});var u,l=function(t){for(var e in t)i[e]=t[e],a[e]=t[e],c[e]=t[e]},s=function(t){var e=n.drawedData[n.drawedData.length-1];e.data.push([w(t).x,w(t).y]),e.path.lineTo(w(t).x,w(t).y)},f=function(){i.clearRect(0,0,t.width,t.height),i.globalAlpha=1,i.drawImage(r,0,0),i.globalAlpha=t.isHighlighterMode?.3:1,i.drawImage(o,0,0)};return va(fa().mark((function e(n){var r,o,u,s,d,p,h;return fa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.size,o=n.color,u=n.mode,s=n.data,d=n.operation,l({lineWidth:r,strokeStyle:o}),t.isHighlighterMode="highlighter"===u,t.isEraserMode="eraser"===u,i.globalCompositeOperation=d,p="eraser"===u?i:c,h=b(t.DOM),s.forEach((function(e,n){var r=da(e,2),o=r[0],i=r[1],a={x:(o-t.bounding.left)/h,y:(i-t.bounding.top)/h};0===n?(p.beginPath(),p.moveTo(a.x,a.y)):(p.lineTo(a.x,a.y),p.stroke(),"eraser"!==s.mode&&f())})),p.closePath(),c.clearRect(0,0,t.width,t.height),a.drawImage(t.DOM,0,0);case 11:case"end":return e.stop()}}),e)}))),t.init=function(){if(t.DOM.width===t.parent.width&&t.DOM.height===t.parent.height)return!1;t.DOM.width=t.parent.width,t.DOM.height=t.parent.height,r.width=t.parent.width,r.height=t.parent.height,o.width=t.parent.width,o.height=t.parent.height,l({lineJoin:"round",lineCap:"round"}),i.imageSmoothingEnabled=!0,c.imageSmoothingEnabled=!0,a.imageSmoothingEnabled=!0},t.clear=function(){i.clearRect(0,0,t.DOM.width,t.DOM.height),a.clearRect(0,0,t.DOM.width,t.DOM.height),c.clearRect(0,0,t.DOM.width,t.DOM.height),t.isDrawed=!1,t.removeClass(Me),t.drawedData=[]},t.setColor=function(t){return l({strokeStyle:t})},t.setSize=function(t){return l({lineWidth:t})},t.setLine=function(e){return t.lineType=e},t.removeline=(u=va(fa().mark((function e(n){return fa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.drawedData.find((function(t){return t.index===n.index}))){e.next=11;break}if(t.drawedData.pop(),0!==t.drawedData.length){e.next=5;break}return t.clear(),e.abrupt("return");case 5:if(!(t.drawedData.length>0)){e.next=11;break}return i.clearRect(0,0,t.width,t.height),i.putImageData(t.drawedData[t.drawedData.length-1].imageData,0,0),a.clearRect(0,0,t.width,t.height),a.drawImage(t.DOM,0,0),e.abrupt("return");case 11:case"end":return e.stop()}}),e)}))),function(t){return u.apply(this,arguments)}),t.setOperation=function(e){switch(t.isEraserMode=!1,t.isRemoveMode=!1,t.isHighlighterMode=!1,i.globalAlpha=1,i.globalCompositeOperation="source-over",e){case"pen":break;case"highlighter":i.globalAlpha=.3,t.isHighlighterMode=!0;break;case"eraser":i.globalCompositeOperation="destination-out",t.isEraserMode=!0}},tt({dragObj:t.DOM,callback:{start:function(e,r){"round"!==i.lineJoin&&l({lineJoin:"round"}),"round"!==i.lineCap&&l({lineCap:"round"}),t.startValue={x:(e.starter.x-t.bounding.left)/e.zoomRate,y:(e.starter.y-t.bounding.top)/e.zoomRate},function(e){var r={index:n.drawedData.length,mode:t.isHighlighterMode?"highlighter":t.isEraserMode?"eraser":"pen",size:i.lineWidth,color:i.strokeStyle,operation:i.globalCompositeOperation,path:new Path2D,data:[]};n.drawedData[n.drawedData.length]=r,t.drawedData[t.drawedData.length]=r,s(e)}(r),t.isEraserMode?(i.beginPath(),i.moveTo(t.startValue.x,t.startValue.y)):(t.isDrawed=!0,t.addClass(Me),c.clearRect(0,0,t.width,t.height),c.beginPath(),c.moveTo(t.startValue.x,t.startValue.y),f()),t.callback.start(t)},move:function(e,n){s(n);var r=t.startValue.x+e.moveX,o=t.startValue.y+e.moveY;t.isEraserMode?(i.lineTo(r,o),i.stroke()):("curve"===t.lineType?(c.lineTo(r,o),c.setLineDash([]),c.stroke()):"dash"===t.lineType?(c.clearRect(0,0,t.width,t.height),c.beginPath(),c.moveTo(t.startValue.x,t.startValue.y),c.lineTo(r,o),c.setLineDash(["".concat(2*i.lineWidth)]),c.stroke(),c.closePath()):(c.clearRect(0,0,t.width,t.height),c.beginPath(),c.moveTo(t.startValue.x,t.startValue.y),c.lineTo(r,o),c.setLineDash([]),c.stroke(),c.closePath()),f())},end:function(e,r){c.clearRect(0,0,t.width,t.height),a.clearRect(0,0,t.width,t.height),a.drawImage(t.DOM,0,0),n.drawedData[n.drawedData.length-1].imageData=i.getImageData(0,0,t.width,t.height),t.callback.end(t)}}}),t.index=e,t.context=i,t.attr("data-canvas-idx",t.index),t}(t,e,n)})),this.optionContainer=la(this),this.isSvgFill&&(this.svgs=e.getEl(".js-svg"),this.svgItems=this.svgs.map((function(t){return t.children})).flat()),this.isChangeCursor=this.options.includes("changeCursor"),this.isChangeCursor){var r=new f(document.querySelector("div")),o=O(".brushList > button");pageManager.drawCursor=pageManager.drawCursor||createEl({parent:r.DOM,className:"drawCursor"}),n.canvases.forEach((function(t){t.addEvent("mouseover touchstart",(function(){t.style({cursor:"none"}),pageManager.drawCursor.addClass(ct),o.forEach((function(t){t.classList.contains(ct)&&pageManager.drawCursor.addClass(t.DOM.classList[0])}))})),t.addEvent("mouseout touchend",(function(){pageManager.drawCursor.removeClass(ct),o.forEach((function(t){t.classList.contains(ct)&&pageManager.drawCursor.removeClass(t.DOM.classList[0])}))})),t.addEvent("mousemove touchmove",(function(t){var e=getZoomRate(r.DOM);pageManager.drawCursor.style({top:"".concat((t.pageY-r.top)/e,"px"),left:"".concat((t.pageX-r.left)/e,"px")})}))}))}this.isActive=!0,this.init()}var e,n;return e=t,(n=[{key:"isActive",get:function(){return this.__isActive},set:function(t){this.__isActive=t}},{key:"isDrawed",get:function(){return this.canvases.filter((function(t){return t.isDrawed})).length>0}}])&&ya(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Ea(t,e){var n=new XMLHttpRequest;n.onreadystatechange=function(){4==n.readyState&&200==n.status&&e(n.responseText)},n.open("GET",t,!0),n.send(null)}function ka(t){function e(t){return 60*(t.split(":")[0]-0)+(t.split(":")[1]-0)}return new Promise((function(n,r){var o=t.split("\n").filter((function(t){return""!==t.replace("\r","")&&"WEBVTT"!==t.replace("\r","")})),i=[],a=[],c=0,u=0;o.forEach((function(t,n){if(t.includes(" --\x3e "))i[c]={},i[c].start=e(t.split(" --\x3e ")[0]),i[c].end=e(t.split(" --\x3e ")[1].split("line")[0]),i[c].line=t.split(" --\x3e ")[1].split("line")[1],i[c].line&&(i[c].line=i[c].line.replace(/ /g,"").split(":")[1]),c++;else{a[u]=a[u]||[];var r=t.replace(/&lt;/g,"<").replace(/&gt;/g,">__changeLine__").replace(/&#160;/g,"__changeLine__");a[u].push(r),o[n+1]&&o[n+1].includes(" --\x3e ")&&(i[u]&&(i[u].line=85-5*(a[u].length-1)),u++)}})),n(i.map((function(t,e){return{time:t,line:t.line,text:a[e].join("").split("__changeLine__")}})))}))}function xa(t){return t.split("/").pop().split(".")[0]}function Ca(t){return t.map((function(t){var e={};return Y(e,t),e.start=Oa(t.start),e.end=Sa(t.end),e}))}function Oa(t){return Array.isArray(t)?t[0]:t}function Sa(t){return Array.isArray(t)?Array.from(t).pop():t}function Ma(t){return Ma="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ma(t)}function Pa(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,La(r.key),r)}}function Ta(t,e,n){return(e=La(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function La(t){var e=function(t,e){if("object"!==Ma(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Ma(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Ma(e)?e:String(e)}function Ia(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function ja(t,e){var n=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}(t,e);return function(t,e){return e.get?e.get.call(t):e.value}(t,n)}var Da=new WeakMap,_a=new WeakMap,Na=function(){function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Ia(this,Da,{writable:!0,value:function(){n.DOM.addEventListener("loadedmetadata",(function(){n.duration?n.afterLoading(n.DOM):ja(n,_a).call(n)})),n.DOM.muted=!0,"video"===n.type&&!n.DOM.hasAttribute("playsinline")&&n.DOM.setAttribute("playsinline",""),n.DOM.load()}}),Ia(this,_a,{writable:!0,value:function(){n.afterLoading(n.DOM)}}),Ta(this,"muted",(function(t){n.DOM.muted=t})),Ta(this,"setCurrentTime",(function(t){n.DOM.currentTime=t})),Ta(this,"play",(function(){return n.DOM.play()})),Ta(this,"pause",(function(){return n.isPlaying=!1,n.isPaused=!0,n.DOM.pause()})),Ta(this,"stop",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;n.isPlaying=!1,n.isPaused=!1,n.DOM.pause(),t&&"IOS"==window.isRunMode?n.DOM.currentTime=.001:n.DOM.currentTime=0})),Ta(this,"changeVolume",(function(t){t>1&&(t/=100),n.DOM.volume=t})),Y(this,e),this.afterLoading=r,this.source=this.DOM.querySelector("source")||this.DOM,this.type=this.DOM.querySelector("source")?"video":"audio",this.src=this.source.src,this.name=xa(this.src),ja(this,Da).call(this)}var e,n;return e=t,(n=[{key:"duration",get:function(){return this.DOM.duration}},{key:"currentTime",get:function(){return this.DOM.currentTime},set:function(t){this.DOM.currentTime=t}},{key:"bounding",get:function(){return this.DOM.getBoundingClientRect()}}])&&Pa(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Aa(t){return Aa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Aa(t)}function Ba(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Fa(r.key),r)}}function Ra(t,e,n){return(e=Fa(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fa(t){var e=function(t,e){if("object"!==Aa(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Aa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Aa(e)?e:String(e)}function Wa(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function za(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,Ga(t,e,"get"))}function Va(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,Ga(t,e,"set"),n),n}function Ga(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var qa=["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange","webkitendfullscreen"];function Ua(t){t.requestFullscreen?t.requestFullscreen():t.webkitEnterFullScreen?t.webkitEnterFullScreen():t.msRequestFullscreen?t.msRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen()}var Ha=new WeakMap,Ya=new WeakMap,Qa=new WeakMap,Za=new WeakMap,Xa=new WeakMap,$a=new WeakMap,Ka=new WeakMap,Ja=new WeakMap,tc=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Wa(this,Za,{get:ec,set:void 0}),Wa(this,Ha,{writable:!0,value:void 0}),Wa(this,Ya,{writable:!0,value:void 0}),Wa(this,Qa,{writable:!0,value:!1}),Ra(this,"documentFullscreenOnPopMode",!1),Ra(this,"isCurrentPlayer",!1),Ra(this,"isEntered",!1),Ra(this,"isRunningOnIOS",!1),Wa(this,Xa,{writable:!0,value:function(){if(n.button.onclick(n.toggleFullscreen),qa.forEach((function(t){n.media.addEvent(t,n.runFullscreen),document.body.addEventListener(t,n.runFullscreen)})),za(n,Ha).isPopMode){var t=function(t){n.documentFullscreen&&("Escape"!==t.code&&"Escape"!==t.key&&27!=t.keyCode||n.exitFullscreen())};document.addEventListener("keydown",t),g().addEventListener("keydown",t)}void 0!==["mac","iphone"].find((function(t){var e;return null===(e=navigator.platform)||void 0===e?void 0:e.toLowerCase().includes(t)}))&&(n.isRunningOnIOS=!0)}}),Wa(this,$a,{writable:!0,value:function(){n.FIRSTDIV.addClass(wt),n.FIRSTDIV.append(n.playerContainer.DOM),n.FIRSTDIV.DOM!=n.controlsContainer.DOM&&n.FIRSTDIV.append(n.controlsContainer.DOM),document.body.classList.add(Et)}}),Wa(this,Ka,{writable:!0,value:function(){n.FIRSTDIV.removeClass(wt),n.playerParent.append(n.playerContainer.DOM),n.FIRSTDIV.DOM!=n.controlsContainer.DOM&&n.controlsParent.append(n.controlsContainer.DOM),document.body.classList.remove(Et)}}),Ra(this,"toggleFullscreen",(function(){n.isCurrentPlayer=!0,Va(n,Qa,za(n,Ha).isPlaying),n.documentFullscreen?za(n,Ha).isPopMode?n.exitFullscreen():document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():n.enterFullscreen()})),Wa(this,Ja,{writable:!0,value:function(t){za(n,Ha).textTrack.mode=t}}),Ra(this,"enterFullscreen",(function(){za(n,Ha).isPopMode?(n.runFullscreen(),n.documentFullscreenOnPopMode=!0):n.isRunningOnIOS?(Ua(n.media.DOM),n.isEntered=!0,za(n,Za)&&za(n,Ja).call(n,"showing"),za(n,Ha).stopTimeupdate()):Ua(n.FIRSTDIV.DOM),za(n,Ha).isFullscreenMode=!0,n.callback.enterFullscreen(n),za(n,Ha).callbackOnDT.interacted()})),Ra(this,"exitFullscreen",(function(){if(za(n,Ha).isPopMode)n.runFullscreen(),n.documentFullscreenOnPopMode=!1;else if(n.isRunningOnIOS){var t,e=null===(t=Object.values(za(n,Ha).textTracks).find((function(t){return"showing"===t.mode})))||void 0===t?void 0:t.label;za(n,Ha).setTextTrackIndex(e),za(n,Ha).afterExitFullscreen(e),za(n,Za)&&za(n,Ja).call(n,"hidden"),za(n,Za)&&za(n,Ja).call(n,"disabled"),za(n,Ha).update(n.media.currentTime),za(n,Ha).pause()}za(n,Ha).isFullscreenMode=!1,n.callback.exitFullscreen(n),za(n,Ha).callbackOnDT.interacted()})),Ra(this,"runFullscreen",(function(){n.isCurrentPlayer&&(za(n,Ha).isPopMode&&(za(n,Ha).isPlaying||za(n,Ha).isPaused)&&za(n,Ha).pause(),n.isEntered?(n.isEntered=!1,n.isCurrentPlayer=!1,!za(n,Ha).isPopMode&&n.exitFullscreen(),za(n,Ka).call(n),n.hasUI&&g().document.querySelector("div").classList.remove(Ct),g().showViewer&&g().showViewer()):(n.isEntered=!0,za(n,$a).call(n),n.hasUI&&g().document.querySelector("div").classList.add(Ct),g().hideViewer&&g().hideViewer()),!n.isRunningOnIOS&&za(n,Qa)&&za(n,Ha).play(),n.callback.runFullscreen(n))})),Va(this,Ha,e),Va(this,Ya,e.controls),this.callback=e.callback,e.isFullscreenMode=!1,this.button=za(this,Ya).zoomButton,this.playerContainer=za(this,Ha).container,this.playerParent=this.playerContainer.parent,this.controlsContainer=za(this,Ya).container.parent,this.controlsParent=this.controlsContainer.parent,za(this,Xa).call(this)}var e,n;return e=t,(n=[{key:"FIRSTDIV",get:function(){return za(this,Ha).FIRSTDIV}},{key:"media",get:function(){return za(this,Ha).media}},{key:"documentFullscreen",get:function(){return za(this,Ha).isPopMode?this.documentFullscreenOnPopMode:document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen||document.webkitDisplayingFullscreen||null}},{key:"hasUI",get:function(){return g().CONTENTS_UI}}])&&Ba(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function ec(){return za(this,Ha).hasScript&&za(this,Ha).textTrack&&za(this,Ha).script.isShowing}function nc(t){return nc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nc(t)}function rc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ic(r.key),r)}}function oc(t,e,n){return(e=ic(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ic(t){var e=function(t,e){if("object"!==nc(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==nc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===nc(e)?e:String(e)}function ac(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function cc(t,e){var n=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}(t,e);return function(t,e){return e.get?e.get.call(t):e.value}(t,n)}var uc=new WeakMap,lc=new WeakMap,sc=new WeakMap,fc=new WeakMap,dc=new WeakMap,pc=new WeakMap,hc=function(){function t(e){var n,r=this,o=e.values,i=e.container,a=e.controlsContainer,c=e.changeVideoSource;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),ac(this,uc,{writable:!0,value:{changeVideoSource:function(t){}}}),ac(this,lc,{writable:!0,value:{open:function(){},close:function(){},changeVideoSource:function(t){}}}),ac(this,sc,{writable:!0,value:function(t){M({tag:"button",parent:t.DOM,className:"".concat(xe,"Btn")}).hover();var e=M({parent:t.DOM,className:"".concat("videoChangeContainer")});r.values.forEach((function(t){M({tag:"button",parent:e.DOM,className:Ce,html:t.name}).attr(Oe,t.name).hover()}))}}),ac(this,fc,{writable:!0,value:function(t){r.buttons.forEach((function(t){return t.off()})),r.buttons.find((function(e){return e.name===t})).on(),r.values.forEach((function(t){return t.off()})),r.values.find((function(e){return e.name===t})).on()}}),ac(this,dc,{writable:!0,value:function(t){var e=getElementFromPoint(t);r.opened&&!r.toggleContainer.DOM.contains(e)&&r.close()}}),ac(this,pc,{writable:!0,value:function(){r.buttons.forEach((function(t,e){t.getter("selected",(function(){return btn.matches(".$".concat(nt))})),t.name=r.values[e].name,t.src=r.values[e].src,t.onclick((function(){r.update(t),r.close()})),x(t)})),r.value=r.buttons[0].name,r.update(r.buttons[0]),r.toggleContainer&&(r.toggleButton.onclick(r.toggle),x(r.container),x(r.toggleContainer,ct),document.addEventListener("touchstart",cc(r,dc)),document.addEventListener("mousedown",cc(r,dc)))}}),oc(this,"toggle",(function(){r.container.matches(".".concat(nt))?r.close():r.open()})),oc(this,"open",(function(){r.container.on(),r.toggleContainer.on(),r.callback.open()})),oc(this,"close",(function(){r.container.off(),r.toggleContainer.off(),r.callback.close()})),oc(this,"reset",(function(){r.update(r.buttons[0])})),oc(this,"update",(function(t){var e;r.value=t.name,cc(r,fc).call(r,t.name),null===(e=r.toggleContainer)||void 0===e||e.attr(Oe,t.name),cc(r,uc).changeVideoSource(t),r.callback.changeVideoSource(t)})),Y(cc(this,uc),{changeVideoSource:c}),this.values=o.map((function(t,e){var n=t.DOM.querySelector("source");return t.name=t.attr(Oe),t.src=n.src,0!==e&&(t.DOM.volume=0),x(t),t})),0===i.getEl(".".concat(Ce)).length){var u=i.getEl(".".concat(ke))[0]||a.getEl(".".concat(ke))[0]||M({parent:a.DOM,className:"".concat(ke," ").concat(xe)});cc(this,sc).call(this,u)}this.toggleContainer=i.getEl(".".concat(ke))[0]||a.getEl(".".concat(ke))[0],this.toggleButton=null===(n=this.toggleContainer)||void 0===n?void 0:n.getEl(".".concat(xe,"Btn"))[0],this.buttons=(this.toggleContainer||i).getEl(".".concat(Ce)),this.container=this.buttons[0].parent,cc(this,pc).call(this)}var e,n;return e=t,(n=[{key:"callback",get:function(){return cc(this,lc)},set:function(t){Y(cc(this,lc),t)}},{key:"opened",get:function(){return this.container.matches(".".concat(nt))}}])&&rc(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function vc(t){return vc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vc(t)}function gc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mc(r.key),r)}}function yc(t,e,n){return(e=mc(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mc(t){var e=function(t,e){if("object"!==vc(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==vc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===vc(e)?e:String(e)}function bc(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function wc(t,e){var n=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}(t,e);return function(t,e){return e.get?e.get.call(t):e.value}(t,n)}var Ec=new WeakMap,kc=new WeakMap,xc=new WeakMap,Cc=new WeakMap,Oc=new WeakMap,Sc=new WeakMap,Mc=new WeakMap,Pc=new WeakMap,Tc=new WeakMap,Lc=new WeakMap,Ic=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),bc(this,xc,{get:jc,set:void 0}),bc(this,Ec,{writable:!0,value:{name:"progress",type:"horizon"}}),bc(this,kc,{writable:!0,value:{start:function(){},move:function(t){},end:function(t){},keydown:function(t){},click:function(t){}}}),bc(this,Cc,{writable:!0,value:function(){tt({dragObj:n.handler.DOM,callback:{start:wc(n,Oc),move:wc(n,Sc),end:wc(n,Mc)}}),n.bar.addEvent("keydown",(function(t){switch(t.keyCode){case 37:case 40:wc(n,kc).keydown("down");break;case 38:case 39:wc(n,kc).keydown("up")}})),n.bar.addEvent("click",(function(t){var e=wc(n,Pc).call(n,t)/b(n.bar.DOM)/wc(n,xc);n.update({rate:e}),wc(n,kc).start(e),wc(n,kc).move(e),wc(n,kc).end(e),wc(n,kc).click(e)}))}}),bc(this,Oc,{writable:!0,value:function(t,e){e.stopPropagation(),n.handler.startValue=n.isHorizon?n.handler.left:n.handler.top,getComputedStyle(n.bar.DOM)["background-image"],wc(n,kc).start()}}),bc(this,Sc,{writable:!0,value:function(t,e){e.stopPropagation();var r=n.handler.startValue+(n.isHorizon?t.moveX:t.moveY),o=Math.min(Math.max(r,0),wc(n,xc));n.isHorizon?n.handler.style({left:"".concat(o,"px")}):n.handler.style({top:"".concat(o,"px")}),wc(n,Tc).call(n,n.rate),wc(n,kc).move(n.rate)}}),bc(this,Mc,{writable:!0,value:function(t,e){e.stopPropagation(),wc(n,kc).end(n.rate)}}),bc(this,Pc,{writable:!0,value:function(t){return n.isHorizon?w(t).x-n.bar.bounding.left:w(t).y-n.bar.bounding.top}}),bc(this,Tc,{writable:!0,value:function(t){if("none"!=getComputedStyle(n.bar.DOM)["background-image"]){var e=getComputedStyle(n.bar.DOM)["background-image"],r=e.split(", "),o=e.split("rgb"),i=100*t,a=n.isHorizon?r[0].split("(")[1]:"to bottom",c="rgb".concat(o[1].split(")")[0],")"),u="rgb".concat(o[2].split(")")[0],")");n.bar.style({backgroundImage:"linear-gradient(".concat(a,", ").concat(c," ").concat(i,"%, ").concat(u," ").concat(i,"%)")})}}}),bc(this,Lc,{writable:!0,value:function(t){n.handler.style(n.isHorizon?{left:"".concat(n.bar.width*t,"px")}:{top:"".concat(n.bar.height*t,"px")})}}),yc(this,"update",(function(t){var e=t.rate;wc(n,Tc).call(n,e),wc(n,Lc).call(n,e)})),yc(this,"reset",(function(){n.update({rate:0})})),Y(wc(this,Ec),e),Y(wc(this,kc),e.dragCallback),this.container=wc(this,Ec).container,this.bar=wc(this,Ec).container.getEl(".".concat(wc(this,Ec).name,"Bar"))[0]||M({parent:wc(this,Ec).container.DOM,className:"".concat(wc(this,Ec).name,"Bar")}),this.handler=wc(this,Ec).container.getEl(".".concat(wc(this,Ec).name,"Control"))[0]||M({parent:wc(this,Ec).container.DOM,className:"".concat(wc(this,Ec).name,"Control")}),wc(this,Cc).call(this)}var e,n;return e=t,(n=[{key:"isHorizon",get:function(){return"horizon"===wc(this,Ec).type}},{key:"rate",get:function(){return this.isHorizon?this.handler.left/this.bar.width:this.handler.top/this.bar.height}}])&&gc(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function jc(){return this.isHorizon?this.bar.width:this.bar.height}function Dc(t){return Dc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dc(t)}function _c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ac(r.key),r)}}function Nc(t,e,n){return(e=Ac(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ac(t){var e=function(t,e){if("object"!==Dc(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Dc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Dc(e)?e:String(e)}function Bc(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function Rc(t,e){var n=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}(t,e);return function(t,e){return e.get?e.get.call(t):e.value}(t,n)}var Fc=new WeakMap,Wc=new WeakMap,zc=new WeakMap,Vc=new WeakMap,Gc=new WeakMap,qc=new WeakMap,Uc=new WeakMap,Hc=function(){function t(e){var n=this,r=e.values,o=e.container,i=e.controlsContainer,a=e.changeVideoQuality;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Bc(this,zc,{get:Yc,set:void 0}),Bc(this,Fc,{writable:!0,value:{changeVideoQuality:function(t){}}}),Bc(this,Wc,{writable:!0,value:{open:function(){},close:function(){},changeVideoQuality:function(t){}}}),Nc(this,"defaultValue",720),Nc(this,"values",[480,720,1080]),Bc(this,Vc,{writable:!0,value:function(t){var e=M({parent:t.DOM,className:re}),r=M({parent:e.DOM,className:"".concat("qualityContainer")});n.values.forEach((function(t){var e=M({tag:"button",parent:r.DOM,className:oe,html:t}).attr(ie,t).hover();return e.value=t,e.attr("aria-label","해상도".concat(t)),e.attr("aria-pressed","false"),e.value===n.defaultValue&&(e.addClass(nt),e.attr("aria-pressed","true")),e}))}}),Bc(this,Gc,{writable:!0,value:function(t){n.buttons.forEach((function(t){return t.off()})),n.buttons.forEach((function(t){return t.attr("aria-pressed","false")})),n.buttons.find((function(e){return e.value===t})).on(),n.buttons.find((function(e){return e.value===t})).attr("aria-pressed","true")}}),Bc(this,qc,{writable:!0,value:function(t){var e=getElementFromPoint(t);n.opened&&!n.toggleContainer.DOM.contains(e)&&n.close()}}),Bc(this,Uc,{writable:!0,value:function(){n.buttons.forEach((function(t){t.getter("selected",(function(){return btn.matches(".$".concat(nt))})),t.value=Number(t.attr(ie)),t.onclick((function(){n.update(t.value),n.close()})),x(t)})),n.defaultValue=Rc(n,zc).value,n.value=Rc(n,zc).value,n.update(n.value),n.toggleContainer&&(n.toggleButton.onclick(n.toggle),x(n.container),x(n.toggleContainer,ct),document.addEventListener("touchstart",Rc(n,qc)),document.addEventListener("mousedown",Rc(n,qc)))}}),Nc(this,"toggle",(function(){n.container.matches(".".concat(nt))?n.close():n.open()})),Nc(this,"open",(function(){n.toggleButton.attr("aria-pressed","true"),n.toggleButton.attr("aria-expanded","true"),n.container.on(),n.toggleContainer.attr("tabindex",0),n.toggleContainer.DOM.focus(),n.toggleContainer.removeAttr("tabindex"),n.toggleContainer.on(),n.callback.open()})),Nc(this,"close",(function(){n.toggleButton.attr("aria-pressed","false"),n.toggleButton.attr("aria-expanded","false"),n.container.off(),n.toggleContainer.off(),n.callback.close()})),Nc(this,"reset",(function(){n.update(n.defaultValue)})),Nc(this,"update",(function(t){var e;n.value=t,Rc(n,Gc).call(n,t),null===(e=n.toggleContainer)||void 0===e||e.attr(ie,t),Rc(n,Fc).changeVideoQuality(t),n.callback.changeVideoQuality(t)})),Y(Rc(this,Fc),{changeVideoQuality:a}),r&&(this.values=Q(r).map((function(t){return Number(t)}))),0===o.getEl(".".concat(oe)).length&&Rc(this,Vc).call(this,o,i),this.buttons=o.getEl(".".concat(oe)),this.container=this.buttons[0].parent,this.toggleContainer=i.getEl(".".concat(re))[0],this.toggleButton=M({tag:"button",parent:this.toggleContainer.DOM,className:"".concat(re,"Btn")}).hover(),this.toggleButton.attr("aria-pressed","false"),this.toggleButton.attr("aria-expanded","false"),Rc(this,Uc).call(this)}var e,n;return e=t,(n=[{key:"callback",get:function(){return Rc(this,Wc)},set:function(t){Y(Rc(this,Wc),t)}},{key:"opened",get:function(){return this.container.matches(".".concat(nt))}}])&&_c(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Yc(){return this.buttons.find((function(t){return t.matches(".".concat(nt))}))}function Qc(t){return Qc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qc(t)}function Zc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$c(r.key),r)}}function Xc(t,e,n){return(e=$c(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $c(t){var e=function(t,e){if("object"!==Qc(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Qc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Qc(e)?e:String(e)}function Kc(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function Jc(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,eu(t,e,"set"),n),n}function tu(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,eu(t,e,"get"))}function eu(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var nu=new WeakMap,ru=new WeakMap,ou=new WeakMap,iu=new WeakMap,au=new WeakMap,cu=new WeakMap,uu=function(){function t(e){var n=this,r=e.parent,o=e.toggleButton,i=e.callback;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Kc(this,nu,{writable:!0,value:{drag:function(t){},open:function(){},close:function(){}}}),Kc(this,ru,{writable:!0,value:{drag:function(t){},open:function(){},close:function(){},update:function(t){},reset:function(){}}}),Kc(this,ou,{writable:!0,value:void 0}),Kc(this,iu,{writable:!0,value:{start:0,end:1}}),Kc(this,au,{writable:!0,value:function(t,e){switch(tu(n,ou)||Jc(n,ou,n.bar.width),t){case 37:case 40:e.update(e.left-10);break;case 38:case 39:e.update(e.left+10)}}}),Kc(this,cu,{writable:!0,value:function(){x(n.container,ct),x(n.toggleButton,ct),n.toggleButton.onclick((function(){return n.toggle()})),n.startHandler.update=function(t){var e=n.endHandler.left;n.startHandler.style({left:"".concat(Math.min(Math.max(t,0),e),"px")}),n.bar.style({left:"".concat(n.startHandler.left,"px")}),tu(n,iu).start=n.startHandler.left/tu(n,ou),tu(n,nu).drag(tu(n,iu)),n.callback.drag(tu(n,iu))},tt({dragObj:n.startHandler.DOM,callback:{start:function(){tu(n,ou)||Jc(n,ou,n.bar.width)},move:function(t,e){n.startHandler.update(t.movedX)}}}),n.startHandler.addEvent("keydown",(function(t){tu(n,au).call(n,t.keyCode,n.startHandler)})),n.endHandler.update=function(t){var e=n.startHandler.left;n.endHandler.style({left:"".concat(Math.min(Math.max(t,e),tu(n,ou)),"px")}),n.bar.style({right:"".concat(tu(n,ou)-n.endHandler.left,"px")}),tu(n,iu).end=n.endHandler.left/tu(n,ou),tu(n,nu).drag(tu(n,iu)),n.callback.drag(tu(n,iu))},tt({dragObj:n.endHandler.DOM,callback:{start:function(){tu(n,ou)||Jc(n,ou,n.bar.width)},move:function(t,e){tu(n,ou)||Jc(n,ou,n.bar.width),n.endHandler.update(t.movedX)}}}),n.endHandler.addEvent("keydown",(function(t){tu(n,au).call(n,t.keyCode,n.endHandler)}))}}),Xc(this,"toggle",(function(){n.opened?n.close():n.open()})),Xc(this,"open",(function(){n.container.on(),n.container.attr("tabindex",0),n.container.DOM.focus(),n.container.removeAttr("tabindex"),n.toggleButton.on(),tu(n,nu).open(),n.callback.open()})),Xc(this,"close",(function(){n.container.off(),n.toggleButton.off(),tu(n,nu).close(),n.callback.close()})),Xc(this,"reset",(function(){n.close(),n.startHandler.style({left:""}),n.endHandler.style({left:""}),n.bar.style({left:"",right:""}),tu(n,iu).start=0,tu(n,iu).end=1,n.callback.reset()})),Y(tu(this,nu),i),this.toggleButton=o,this.container=M({parent:r.DOM,className:"autoRepeatContainer"}),this.bar=M({parent:this.container.DOM,className:"autoRepeatBar"}),this.startHandler=M({tag:"button",parent:this.container.DOM,className:"".concat(ae," ").concat(ae,"_First")}).hover(),this.endHandler=M({tag:"button",parent:this.container.DOM,className:"".concat(ae," ").concat(ae,"_Second")}).hover(),tu(this,cu).call(this)}var e,n;return e=t,(n=[{key:"callback",get:function(){return tu(this,ru)},set:function(t){Y(tu(this,ru),t)}},{key:"opened",get:function(){return this.container.matches(".".concat(ct))}}])&&Zc(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function lu(t){return lu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lu(t)}function su(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,du(r.key),r)}}function fu(t,e,n){return(e=du(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function du(t){var e=function(t,e){if("object"!==lu(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==lu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===lu(e)?e:String(e)}function pu(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function hu(t,e){var n=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}(t,e);return function(t,e){return e.get?e.get.call(t):e.value}(t,n)}var vu=new WeakMap,gu=new WeakMap,yu=new WeakMap,mu=new WeakMap,bu=new WeakMap,wu=new WeakMap,Eu=new WeakMap,ku=function(){function t(e){var n,r,o,i=this,a=e.values,c=e.container,u=e.controlsContainer,l=e.changePlaybackRate;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),pu(this,yu,{get:xu,set:void 0}),pu(this,vu,{writable:!0,value:{changePlaybackRate:function(t){}}}),pu(this,gu,{writable:!0,value:{open:function(){},close:function(){},changePlaybackRate:function(t){}}}),fu(this,"defaultValue",1),fu(this,"values",[.7,1,1.5]),pu(this,mu,{writable:!0,value:function(t){M({tag:"button",parent:t.DOM,className:"".concat(te,"Btn")}).hover();var e=M({parent:t.DOM,className:"".concat("playSpeedContainer")});i.values.forEach((function(t){var n=M({tag:"button",parent:e.DOM,className:ee,html:t}).attr(ne,t).hover();return n.value=t,n.attr("aria-label","".concat(t,"배속")),n.attr("aria-pressed","false"),n.value===i.defaultValue&&(n.addClass(nt),n.attr("aria-pressed","true")),n}))}}),pu(this,bu,{writable:!0,value:function(t){i.buttons.forEach((function(t){return t.off()})),i.buttons.forEach((function(t){return t.attr("aria-pressed","false")})),i.buttons.find((function(e){return e.value===t})).on(),i.buttons.find((function(e){return e.value===t})).attr("aria-pressed","true")}}),pu(this,wu,{writable:!0,value:function(t){var e=getElementFromPoint(t);i.opened&&!i.toggleContainer.DOM.contains(e)&&i.close()}}),pu(this,Eu,{writable:!0,value:function(){x(i.container),i.buttons.forEach((function(t){t.getter("selected",(function(){return btn.matches(".$".concat(nt))})),t.value=Number(t.attr(ne)),t.onclick((function(){i.update(t.value),i.toggleContainer&&i.close()})),x(t)})),i.defaultValue=hu(i,yu).value,i.value=hu(i,yu).value,i.update(i.value),i.toggleContainer&&(i.toggleButton.onclick(i.toggle),x(i.toggleContainer,ct),document.addEventListener("touchstart",hu(i,wu)),document.addEventListener("mousedown",hu(i,wu)))}}),fu(this,"toggle",(function(){i.container.matches(".".concat(nt))?i.close():i.open()})),fu(this,"open",(function(){var t,e;null===(t=i.toggleButton)||void 0===t||t.attr("aria-pressed","true"),null===(e=i.toggleButton)||void 0===e||e.attr("aria-expanded","true"),i.container.on(),i.toggleContainer.on(),i.callback.open()})),fu(this,"close",(function(){var t,e;null===(t=i.toggleButton)||void 0===t||t.attr("aria-pressed","false"),null===(e=i.toggleButton)||void 0===e||e.attr("aria-expanded","false"),i.container.off(),i.toggleContainer.off(),i.callback.close()})),fu(this,"update",(function(t){var e;i.value=t,hu(i,bu).call(i,t),null===(e=i.toggleContainer)||void 0===e||e.attr(ne,t),hu(i,vu).changePlaybackRate(t),i.callback.changePlaybackRate(t)})),fu(this,"reset",(function(){i.update(i.defaultValue)})),Y(hu(this,vu),{changePlaybackRate:l}),a&&(this.values=Q(a).map((function(t){return Number(t)}))),0===c.getEl(".".concat(ee)).length){var s=c.getEl(".".concat(te))[0]||u.getEl(".".concat(te))[0]||M({parent:u.DOM,className:te});hu(this,mu).call(this,s)}this.toggleContainer=c.getEl(".".concat(te))[0]||u.getEl(".".concat(te))[0],this.toggleButton=null===(n=this.toggleContainer)||void 0===n?void 0:n.getEl(".".concat(te,"Btn"))[0],null===(r=this.toggleButton)||void 0===r||r.attr("aria-pressed","false"),null===(o=this.toggleButton)||void 0===o||o.attr("aria-expanded","false"),this.buttons=(this.toggleContainer||c).getEl(".".concat(ee)),this.container=this.buttons[0].parent,hu(this,Eu).call(this)}var e,n;return e=t,(n=[{key:"callback",get:function(){return hu(this,gu)},set:function(t){Y(hu(this,gu),t)}},{key:"opened",get:function(){return this.container.matches(".".concat(nt))}}])&&su(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function xu(){return this.buttons.find((function(t){return t.matches(".".concat(nt))}))}function Cu(t){return Cu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cu(t)}function Ou(t,e,n){return(e=Su(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Su(t){var e=function(t,e){if("object"!==Cu(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Cu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Cu(e)?e:String(e)}var Mu="current",Pu="total";function Tu(t){return{minuts:Math.floor(t/60).toFixed(0).padStart(2,"0"),seconds:Math.floor(t%60).toFixed(0).padStart(2,"0")}}var Lu,Iu=(Lu=function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Ou(this,"update",(function(t){var e=t.current,r=t.duration,o=void 0===r?null:r,i=Tu(e);if(n.current.html="".concat(i.minuts,":").concat(i.seconds),o){var a=Tu(o);n.total.html="".concat(a.minuts,":").concat(a.seconds)}})),Ou(this,"reset",(function(){n.update({current:0})})),this.current=e.getEl(".".concat(Mu))[0]||M({tag:"span",parent:e.DOM,className:Mu}),this.total=e.getEl(".".concat(Pu))[0]||M({tag:"span",parent:e.DOM,className:Pu})},Object.defineProperty(Lu,"prototype",{writable:!1}),Lu);function ju(t){return ju="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ju(t)}function Du(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Nu(r.key),r)}}function _u(t,e,n){return(e=Nu(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nu(t){var e=function(t,e){if("object"!==ju(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==ju(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===ju(e)?e:String(e)}function Au(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function Bu(t,e){var n=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}(t,e);return function(t,e){return e.get?e.get.call(t):e.value}(t,n)}var Ru=new WeakMap,Fu=new WeakMap,Wu=new WeakMap,zu=new WeakMap,Vu=new WeakMap,Gu=function(){function t(e){var n=this,r=e.container,o=e.type,i=e.callback;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Au(this,Ru,{writable:!0,value:{open:function(){},changeVolume:function(){}}}),Au(this,Fu,{writable:!0,value:{open:function(){},close:function(){},changeVolume:function(t){}}}),_u(this,"value",1),_u(this,"savedValue",1),Au(this,Wu,{writable:!0,value:function(t){var e=E(t);n.opened&&!n.toggleContainer.DOM.contains(e)&&n.close()}}),Au(this,zu,{writable:!0,value:function(){n.toggleButton.addEvent("click",(function(t){t.target===n.toggleButton.DOM&&(window.isRunMode&&"IOS"==window.isRunMode?n.toggleMute():n.toggle())})),n.muteButton.onclick(n.toggleMute),sessionStorage.getItem(vr)&&Bu(n,Vu).call(n),document.addEventListener("touchstart",Bu(n,Wu)),document.addEventListener("mousedown",Bu(n,Wu))}}),Au(this,Vu,{writable:!0,value:function(){var t=JSON.parse(sessionStorage.getItem(vr));n.changeVolume(Number(t)),n.progress.update({rate:Number(t)})}}),_u(this,"toggle",(function(){n.opened?n.close():n.open()})),_u(this,"open",(function(){n.toggleButton.attr("aria-pressed","true"),n.toggleButton.attr("aria-expanded","true"),loop((function(){return n.progress.bar.width>0})).then((function(t){n.progress.update({rate:n.isVerticalMode?1-n.value:n.value}),n.progress.bar.attr("tabindex",0),n.progress.bar.DOM.focus()})),n.container.addClass(ct),n.toggleContainer.addClass(ct),Bu(n,Ru).open(),n.callback.open()})),_u(this,"close",(function(){n.toggleButton.attr("aria-pressed","false"),n.toggleButton.attr("aria-expanded","false"),n.progress.bar.removeAttr("tabindex"),n.container.removeClass(ct),n.toggleContainer.removeClass(ct),n.callback.close()})),_u(this,"toggleMute",(function(){n.muted?n.offMute():n.onMute()})),_u(this,"onMute",(function(){n.savedValue=n.value,n.changeVolume(0),n.progress.update({rate:0})})),_u(this,"offMute",(function(){n.changeVolume(n.savedValue),n.progress.update({rate:n.savedValue})})),_u(this,"changeVolume",(function(t){n.value=Number(Math.max(0,Math.min(n.isVerticalMode?1-t:t,1)).toFixed(2)),n.toggleContainer.toggleClass(gt,0===n.value),Bu(n,Ru).changeVolume(n.value),n.callback.changeVolume(n.value)})),Y(Bu(this,Ru),i),this.type=o,this.toggleContainer=r,this.toggleButton=M({tag:"button",parent:this.toggleContainer.DOM,className:"".concat(Ft,"Btn")}).hover(),this.toggleButton.attr("aria-pressed","false"),this.toggleButton.attr("aria-expanded","false"),this.container=r.getEl(".".concat(Gt))[0]||M({parent:this.toggleContainer.DOM,className:Gt}).hover(),this.progress=new Ic({container:this.container,name:"volume",type:this.type,dragCallback:{move:this.changeVolume,end:this.changeVolume,keydown:function(t){var e;e="up"===t?n.value<1?n.value+.1:n.value:n.value>0?n.value-.1:n.value,n.changeVolume(n.isVerticalMode?1-e:e),n.progress.update({rate:n.isVerticalMode?1-e:e})}}}),this.progress.bar.attr(Ie,"음량 조절 바"),this.muteButton=this.container.getEl(".".concat(Vt))[0]||M({tag:"button",parent:this.container.DOM,className:Vt}).hover(),Bu(this,zu).call(this)}return function(t,e,n){e&&Du(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"callback",get:function(){return Bu(this,Fu)},set:function(t){Y(Bu(this,Fu),t)}},{key:"opened",get:function(){return this.container.matches(".".concat(ct))}},{key:"isVerticalMode",get:function(){return"vertical"===this.type}},{key:"muted",get:function(){return 0===this.value}}]),t}();function qu(t){return qu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qu(t)}function Uu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Yu(r.key),r)}}function Hu(t,e,n){return(e=Yu(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yu(t){var e=function(t,e){if("object"!==qu(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==qu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===qu(e)?e:String(e)}function Qu(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function Zu(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,$u(t,e,"get"))}function Xu(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,$u(t,e,"set"),n),n}function $u(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var Ku=new WeakMap,Ju=new WeakMap,tl=new WeakMap,el=new WeakMap,nl=new WeakMap,rl=new WeakMap,ol=new WeakMap,il=new WeakMap,al=function(){function t(e,n){var r=this;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),Qu(this,Ku,{writable:!0,value:["play","pause","stop","timer","progress","zoom","volumeToggle","script"]}),Qu(this,Ju,{writable:!0,value:void 0}),Hu(this,"playerIsPlaying",!1),Hu(this,"isMovingProgress",!1),Qu(this,tl,{writable:!0,value:{enter:function(){},cancel:function(){}}}),Qu(this,el,{writable:!0,value:void 0}),Qu(this,nl,{writable:!0,value:.5}),Qu(this,rl,{writable:!0,value:function(t){var e;switch(t){case _t:case Nt:case At:e=M({tag:"button",parent:r.container.DOM,className:t}).hover();break;case Bt:Zu(r,Ju).isMultiTracks?Zu(r,Ju).media.getEl("track").forEach((function(n){(e=M({tag:"button",parent:r.container.DOM,className:"".concat(t," ").concat(n.DOM.label)}).hover()).attr(Yt,n.DOM.label)})):e=M({tag:"button",parent:r.container.DOM,className:t}).hover();break;case Rt:"video"===Zu(r,Ju).type&&(e=M({tag:"button",parent:r.container.DOM,className:t}).hover());break;case Ft:case Wt:case zt:M({parent:r.container.DOM,className:t})}e&&Zu(r,il).call(r,e,t)}}),Qu(this,ol,{writable:!0,value:function(){r.isNoControl||(r.container.toggleClass(mt,Zu(r,Ju).isPlaying),r.container.toggleClass(yt,Zu(r,Ju).isPaused),r.parent.toggleClass(mt,Zu(r,Ju).isPlaying),r.parent.toggleClass(yt,Zu(r,Ju).isPaused))}}),Qu(this,il,{writable:!0,value:function(t,e){var n,o,i=null===(n=window.CONFIG)||void 0===n?void 0:n.PLAYER_TITLE;t&&(null==i||null===(o=i[Zu(r,Ju).type])||void 0===o?void 0:o[e])&&t.attr("aria-label",window.CONFIG.PLAYER_TITLE[Zu(r,Ju).type][e])}}),Hu(this,"play",(function(){Zu(r,ol).call(r)})),Hu(this,"pause",(function(){Zu(r,ol).call(r)})),Hu(this,"stop",(function(){var t,e;Zu(r,ol).call(r),r.container.removeClass(ot),Zu(r,tl).cancel(),null===(t=r.timer)||void 0===t||t.reset(),null===(e=r.progress)||void 0===e||e.reset()})),Hu(this,"reset",(function(){var t,e,n,o;null===(t=r.speed)||void 0===t||t.reset(),null===(e=r.videoQuality)||void 0===e||e.reset(),null===(n=r.multiSources)||void 0===n||n.reset(),null===(o=r.repeat)||void 0===o||o.reset()})),Hu(this,"update",(function(t){var e,n,o=t.currentTime,i=t.rate;null===(e=r.timer)||void 0===e||e.update({current:o}),null===(n=r.progress)||void 0===n||n.update({rate:i})})),Hu(this,"initPlayButton",(function(t){var e=t.play;return r.playButton.onclick((function(){return e()}))})),Hu(this,"initPauseButton",(function(t){var e=t.pause;return r.pauseButton.onclick((function(){return e()}))})),Hu(this,"initStopButton",(function(t){var e=t.stop;return r.stopButton.onclick((function(){return e()}))})),Hu(this,"initFullscreen",(function(t){r.fullscreen=new tc(t)})),Hu(this,"initProgress",(function(t){var e={container:r.progressContainer,dragCallback:{start:function(){t.media.resetAudioTime&&t.media.resetAudioTime(),r.isMovingProgress=!0,r.playerIsPlaying=t.isPlaying&&!t.isStopOnProgress,t.isPlaying&&t.pause(),t.moveStartTime=t.currentTime},move:function(e){var n;if(t.duration){var o=t.duration*e;t.currentTime=o,t.syncupdate(o),t.callbackOnDT.seeked(),null===(n=r.timer)||void 0===n||n.update({current:o})}},end:function(e){e>=1?t.stop():(r.playerIsPlaying&&(r.playerIsPlaying=!1,setTimeout((function(){return t.play()}),100),t.controlBtn&&t.controlBtn.addClass("ON")),r.isMovingProgress=!1,t.callbackOnDT.seekEnd())},click:function(e){t.clickedProgress()},keydown:function(e){var n="up"===e?t.currentTime+2:t.currentTime-2;t.update(Math.min(Math.max(n,0),t.duration))}}};r.progress=new Ic(e),r.progress.bar.attr("tabindex",0).attr(Ie,"재생 바")})),Hu(this,"initVolume",(function(t){var e=t.options,n=t.media,o={container:r.volumeContainer,type:e.includes("verticalVolume")?"vertical":"horizon",callback:{open:function(){},changeVolume:function(e){n.changeVolume(e),t.callbackOnDT.interacted()}}};r.volume=new Gu(o),r.volume.toggleButton&&Zu(r,il).call(r,r.volume.toggleButton,"volume")})),Hu(this,"initTime",(function(t){!function(t){if(null==t)throw new TypeError("Cannot destructure "+t)}(t),r.timer=new Iu(r.timerContainer)})),Hu(this,"initSpeed",(function(t){var e=t.changePlaybackRate;r.speed=new ku({values:Zu(r,Ju).container.attr("data-speed-btn"),container:Zu(r,Ju).container,controlsContainer:r.container,changePlaybackRate:e}),r.speed.toggleButton&&Zu(r,il).call(r,r.speed.toggleButton,"speed")})),Hu(this,"initVideoQuality",(function(t){var e=t.changeVideoQuality;r.videoQuality=new Hc({values:Zu(r,Ju).container.attr("data-quality-btn"),container:r.container,controlsContainer:r.container,changeVideoQuality:e})})),Hu(this,"initRepeat",(function(t){var e=t.setRepeatTime,n=t.activeRepeat,o=r.container.getEl(".".concat("js-autoRepeatBtn"))[0]||M({tag:"button",parent:r.container.DOM,className:"autoRepeatBtn"}).hover();r.repeat=new uu({parent:r.progress.container,toggleButton:o,callback:{drag:function(t){var n=t.start,r=t.end;return e({start:n,end:r})},open:function(){return n(!0)},close:function(){return n(!1)}}}),r.repeat.toggleButton&&Zu(r,il).call(r,r.repeat.toggleButton,"repeat")})),Hu(this,"initMultiSources",(function(t,e){r.multiSources=new hc({values:t,container:r.container,controlsContainer:r.container,changeVideoSource:e})})),Hu(this,"initAutoHiding",(function(t){var e=t.enter,n=t.cancel;r.isAutoHidingMode=!0,Zu(r,tl).enter=e,Zu(r,tl).cancel=n;var o=function(){r.container.addClass(ot),e()},i=function(){r.container.removeClass(ot),n()};Zu(r,Ju).media.addEvent("play",(function(){clearTimeout(Zu(r,el)),Xu(r,el,setTimeout((function(){var t;null!==(t=r.fullscreen)&&void 0!==t&&t.isFullscreenMode&&r.isPlaying&&o(),r.isPlaying&&o()}),1e3*Zu(r,nl)))})),Zu(r,Ju).media.addEvent("pause",(function(){clearTimeout(Zu(r,el)),i()})),document.addEventListener("mousemove",(function(t){r.isPlaying&&function(t){var e,n,a=E(t),c=(null===(e=r.volume)||void 0===e?void 0:e.opened)||(null===(n=r.speed)||void 0===n?void 0:n.opened),u=r.container.contains(a),l=Zu(r,Ju).container.contains(a);c||u||l&&w(t).y>Zu(r,Ju).media.bounding.height+Zu(r,Ju).container.bounding.top-(r.container.bounding.height+20)?i():o()}(t)}))})),Xu(this,Ju,n),this.container=O(".".concat(Dt,"[").concat(Ot,'="').concat(Zu(this,Ju).index,'"]'))[0]||M({parent:n.container.DOM,className:"".concat(Dt," control")}),"none"!==e?(""===e||(e?Q(e):Zu(this,Ku)).forEach(Zu(this,rl)),this.playButton=this.container.getEl("button.".concat(_t))[0],this.pauseButton=this.container.getEl("button.".concat(Nt))[0],this.stopButton=this.container.getEl("button.".concat(At))[0],this.scriptButton=this.container.getEl("button.".concat(Bt))[0],Zu(this,Ju).isMultiTracks&&(this.scriptButtons=this.container.getEl("button.".concat(Bt)).map((function(t){return t.label=t.attr(Yt),t.removeAttr(Yt),t}))),this.zoomButton=this.container.getEl("button.".concat(Rt))[0],this.volumeContainer=this.container.getEl(".".concat(Ft))[0],this.progressContainer=this.container.getEl(".".concat(Wt))[0],this.timerContainer=this.container.getEl(".".concat(zt))[0],this.parent=this.container.parent,this.parentContainer=this.container.parent.parent):this.isNoControl=!0}return function(t,e,n){e&&Uu(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"isPlaying",get:function(){return Zu(this,Ju).isPlaying}}]),t}();function cl(t){return cl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cl(t)}function ul(t,e,n){return(e=ll(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ll(t){var e=function(t,e){if("object"!==cl(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==cl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===cl(e)?e:String(e)}var sl=new WeakMap,fl=function(t,e,n){return Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,n){var r,o,i,a=this,c=n.index;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),ul(this,"playingIndex",null),i={writable:!0,value:function(){}},function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(r=this,o=sl),o.set(r,i),ul(this,"play",(function(){a.playingIndex=a.index,a.removeClass(vt).addClass(nt)})),ul(this,"pause",(function(){a.playingIndex&&a.removeClass(nt).addClass(vt)})),ul(this,"stop",(function(){a.playingIndex&&(a.removeClass(nt,vt),a.playingIndex=null)})),Y(this,e),this.index=c,this.value=e.attr(Ot).split(",").map((function(t){return Number(t)})),function(t,e){var n=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}(t,e);return function(t,e){return e.get?e.get.call(t):e.value}(t,n)}(this,sl).call(this)}));function dl(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function pl(t,e){var n=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}(t,e);return function(t,e){return e.get?e.get.call(t):e.value}(t,n)}var hl=new WeakMap,vl=new WeakMap,gl=function(t,e,n){return Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){var n=this,r=e.container,o=e.data,i=e.callback;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),dl(this,hl,{writable:!0,value:{update:function(t){}}}),dl(this,vl,{writable:!0,value:function(t){var e=t.time,r=t.rate,o=t.char,i=M({tag:"button",parent:n.container.DOM,className:"bookMarkItem"}).hover();return i.time=e,i.style({left:"".concat(r,"%")}),o&&i.attr(he,o),i.onclick((function(){return pl(n,hl).update(e)})),i}}),Y(pl(this,hl),i),this.container=r,this.data=o,this.items=o.map(pl(this,vl))}));function yl(t){return yl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yl(t)}function ml(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,El(r.key),r)}}function bl(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function wl(t,e,n){return(e=El(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function El(t){var e=function(t,e){if("object"!==yl(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==yl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===yl(e)?e:String(e)}function kl(t,e){var n=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}(t,e);return function(t,e){return e.get?e.get.call(t):e.value}(t,n)}var xl=new WeakMap,Cl=new WeakMap,Ol=function(){function t(e){var n=this,r=e.container,o=e.data;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),wl(this,"currentTime",0),bl(this,xl,{writable:!0,value:{open:function(){},close:function(){},play:function(){},stop:function(){},timeupdate:function(t,e){}}}),bl(this,Cl,{writable:!0,value:function(){n.targets.forEach((function(t){return x(t)}))}}),wl(this,"play",(function(){n.targets.forEach((function(t){return t.addClass(ut)})),n.callback.play()})),wl(this,"stop",(function(){n.offTargets(),n.targets.forEach((function(t){return t.removeClass(ut)})),n.callback.stop()})),wl(this,"onTarget",(function(t){return t.on()})),wl(this,"offTargets",(function(t){n.targets.forEach((function(e,n){return n!==t&&e.off()}))})),wl(this,"update",(function(t){n.currentTime=t,n.callback.timeupdate(t,n.targets[n.currentIndex]),n.currentIndex<0||(n.offTargets(n.currentIndex),n.onTarget(n.targets[n.currentIndex]))})),this.times=o,this.container=r,this.targets=this.container.getEl(".".concat("js-syncTarget")),kl(this,Cl).call(this)}return function(t,e,n){e&&ml(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"callback",get:function(){return kl(this,xl)},set:function(t){inheritanceProperties(kl(this,xl),t)}},{key:"currentIndex",get:function(){var t=this;return this.times.findIndex((function(e){var n=e.start,r=e.end;return t.currentTime>=n&&t.currentTime<r}))}}]),t}();function Sl(t){return Sl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sl(t)}function Ml(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Tl(r.key),r)}}function Pl(t,e,n){return(e=Tl(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tl(t){var e=function(t,e){if("object"!==Sl(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Sl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Sl(e)?e:String(e)}function Ll(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function Il(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,Dl(t,e,"set"),n),n}function jl(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,Dl(t,e,"get"))}function Dl(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var _l=new WeakMap,Nl=new WeakMap,Al=new WeakMap,Bl=new WeakMap,Rl=function(){function t(e){var n=this,r=e.playerContainer,o=e.container,i=e.data,a=e.callback,c=void 0===a?{}:a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Ll(this,_l,{writable:!0,value:{open:function(){},close:function(){},play:function(){},stop:function(){},afterInit:function(t,e){},autoScroll:function(t,e){}}}),Ll(this,Nl,{writable:!0,value:{open:function(){},close:function(){},play:function(){},stop:function(){},update:function(t,e){}}}),Ll(this,Al,{writable:!0,value:!1}),Ll(this,Bl,{writable:!0,value:void 0}),Pl(this,"scrollIndex",void 0),Pl(this,"toggle",(function(){n.isShowing?n.close():n.open()})),Pl(this,"open",(function(){n.container.on(),jl(n,_l).open(),n.callback.open()})),Pl(this,"close",(function(){n.container.off(),jl(n,_l).close(),n.callback.close()})),Pl(this,"play",(function(){n.scriptList.forEach((function(t){return t.addClass(ut)})),jl(n,_l).play(),n.callback.play()})),Pl(this,"stop",(function(){n.listOff(),Il(n,Al,!1),n.scriptList.forEach((function(t){return t.removeClass(ut)})),n.container.width&&n.isRunningAutoScroll&&n.scriptList[0].isScrollMove&&jl(n,_l).autoScroll(0,n.scrollIndex),jl(n,_l).stop(),n.callback.stop()})),Pl(this,"listOn",(function(t,e){if(!t)return console.error("리스트가 없습니다");e?t.addClass(ct).off():t.removeClass(ct).on(),t.removeClass(ut),jl(n,Bl).attr(Pt,t.index),t.hasItems()&&t.update(n.currentTime),jl(n,Al)||isNaN(t.scrollTop)||(jl(n,_l).autoScroll(t.scrollTop,n.scrollIndex),Il(n,Al,!0))})),Pl(this,"listOff",(function(t){n.scriptList.forEach((function(e,n){n!==t&&(e.addClass(ut).removeClass(ct).off(),e.hasItems()&&e.itemOff())})),t!==Number(jl(n,Bl).attr(Pt))&&(jl(n,Bl).DOM.removeAttribute(Pt),Il(n,Al,!1))})),Pl(this,"update",(function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n.currentTime=t,n.listOff(n.currentIndex),0===t||n.currentIndex<0)return Il(n,Al,!1),void n.callback.update(t,null);n.listOn(n.scriptList[n.currentIndex],e),n.callback.update(t,n.scriptList[n.currentIndex])})),Y(jl(this,_l),c),Il(this,Bl,r),this.container=o,this.scrollIndex=Number(this.container.attr(gn))||null,this.times=Ca(i)}return function(t,e,n){e&&Ml(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"callback",get:function(){return jl(this,Nl)},set:function(t){Y(jl(this,Nl),t)}},{key:"isShowing",get:function(){return this.container.matches(".".concat(nt))}},{key:"isRunningAutoScroll",get:function(){return this.scriptList.find((function(t){return t.scrollTop}))}},{key:"currentIndex",get:function(){var t=this;return this.times.findIndex((function(e){var n=e.start,r=e.end;return t.currentTime>=n&&t.currentTime<r}))}}]),t}();function Fl(t,e){return t.map((function(t,n){return t.index=n,t.attr(Ht,n),t.items=t.getEl("i"),t.data=e[n],t.scrollTop=t.hasAttr(Zt)?Number(t.attr(Zt)):void 0,t.isScrollMove=!1!==JSON.parse(t.attr("data-scroll-move")),t.attr("line")&&(t.line=Number(t.attr("line"))),t.update=function(e){var n=Array.isArray(t.data.start)?function(t,e){var n=t.start,r=t.end;return n.findIndex((function(t,n){return e>=t&&e<r[n]}))}(t.data,e):0;if(!(n<0)){var r=Array.isArray(t.data.start)?{start:t.data.start[n],end:t.data.end[n]}:t.data,o=r.end-r.start,i=e+.12-r.start;t.getEl("i")[n].style({width:"".concat(Math.min(i/o*100,100),"%")}),t.getEl("i").forEach((function(t,e){e>n&&t.style({width:"0%"}),e<n&&t.style({width:"100%"})}))}},t.itemOff=function(){t.getEl("i").forEach((function(t){return t.style({width:"0%"})}))},t.hasItems=function(){return t.items.length>0},x(t),t}))}function Wl(t){return Wl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wl(t)}function zl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Hl(r.key),r)}}function Vl(t,e){return Vl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Vl(t,e)}function Gl(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ql(t){return ql=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ql(t)}function Ul(t,e,n){return(e=Hl(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hl(t){var e=function(t,e){if("object"!==Wl(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Wl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Wl(e)?e:String(e)}function Yl(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function Ql(t,e){var n=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}(t,e);return function(t,e){return e.get?e.get.call(t):e.value}(t,n)}var Zl=new WeakMap,Xl=new WeakMap,$l=new WeakMap,Kl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vl(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ql(e);if(n){var o=ql(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return function(t,e){if(e&&("object"===Wl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Gl(t)}(this,t)});function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),Yl(Gl(e=r.call(this,t)),Zl,{writable:!0,value:{open:function(){},close:function(){},afterInit:function(t,e){},autoScroll:function(t,e){},changeScript:function(){}}}),Ul(Gl(e),"open",(function(){e.container.on(),e.container.hasAttr(Qt)||e.container.attr(Qt,e.toggleButtons[0].label),Ql(Gl(e),Zl).open(),e.callback.open()})),Ul(Gl(e),"close",(function(){e.container.removeAttr(Qt).off(),Ql(Gl(e),Zl).close(),e.callback.close()})),Yl(Gl(e),Xl,{writable:!0,value:function(){x(e.container),e.toggleButtons.forEach((function(t){x(t),t.label=t.label||"script",t.addClass(ct).onclick((function(){return Ql(Gl(e),$l).call(Gl(e),t)}))})),Ql(Gl(e),Zl).afterInit(e.scriptList.length,e.times.length)}}),Yl(Gl(e),$l,{writable:!0,value:function(t){e.toggleButtons.forEach((function(t){return t.off()})),e.container.attr(Qt)===t.label?(e.container.removeAttr(Qt),e.close()):(e.container.attr(Qt,t.label),e.open(),t.on()),Ql(Gl(e),Zl).changeScript(t.label)}}),Y(Ql(Gl(e),Zl),t.callback),e.button=t.toggleButton,t.toggleButtons&&(e.buttons=t.toggleButtons),e.scriptList=Fl(e.container.getEl(".".concat(Ut)),t.data),Ql(Gl(e),Xl).call(Gl(e)),e}return function(t,e,n){e&&zl(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1})}(o,[{key:"toggleButtons",get:function(){return[].concat(this.buttons||this.button)}}]),o}(Rl);function Jl(t){return Jl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jl(t)}function ts(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ns(r.key),r)}}function es(t,e,n){return(e=ns(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ns(t){var e=function(t,e){if("object"!==Jl(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Jl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Jl(e)?e:String(e)}function rs(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function os(t,e){var n=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}(t,e);return function(t,e){return e.get?e.get.call(t):e.value}(t,n)}var is=new WeakMap,as=new WeakMap,cs=new WeakMap,us=new WeakMap,ls=new WeakMap,ss=function(){function t(e){var n=this,r=e.parent,o=e.data,i=e.callback,a=void 0===i?{}:i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),rs(this,is,{writable:!0,value:{click:function(t){}}}),rs(this,as,{writable:!0,value:{play:function(){},stop:function(){},click:function(t){},update:function(t,e){}}}),es(this,"clickedItem",void 0),rs(this,cs,{writable:!0,value:function(){n.sentenceItems.forEach(os(n,us))}}),rs(this,us,{writable:!0,value:function(t,e){var r=n.times[e];t.index=e,t.getter("hasOnlyData",(function(){return!Array.isArray(r.start)})),t.time=n.times[e],t.on=function(){return t.addClass(mt,nt)},t.off=function(){return t.removeClass(mt,nt)},t.onclick((function(){n.clickedItem=t,os(n,is).click(t),n.callback.click(t)}))}}),rs(this,ls,{writable:!0,value:function(t){n.sentenceItems.forEach((function(e,n){n!==t&&e.addClass(ut).off()}))}}),es(this,"targetOn",(function(t){t.on(),t.removeClass(ut)})),es(this,"play",(function(){n.sentenceItems.forEach((function(t){return t.addClass(ut)})),n.callback.play()})),es(this,"stop",(function(){os(n,ls).call(n),n.sentenceItems.forEach((function(t){return t.removeClass(ut)})),n.callback.stop()})),es(this,"update",(function(t){n.currentTime=t,n.callback.update(t,n.sentenceItems[n.currentIndex]),os(n,ls).call(n,n.currentIndex),n.currentIndex>-1&&n.targetOn(n.sentenceItems[n.currentIndex])})),Y(os(this,is),a),this.times=Ca(o),this.index=Number(r.attr(Ot)),this.container=getEl(".".concat(Kt,"[").concat(Ot,'="').concat(this.index,'"]'))[0]||M({parent:r.DOM,className:"".concat(Kt," ").concat("numSyncContainer")}),this.sentenceItems=o.map((function(t,e){return M({tag:"button",parent:n.container.DOM,className:"numSyncTarget",html:e+1}).hover()})),os(this,cs).call(this)}return function(t,e,n){e&&ts(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"callback",get:function(){return os(this,as)},set:function(t){Y(os(this,as),t)}},{key:"currentIndex",get:function(){var t=this;return this.times.findIndex((function(e){var n=e.start,r=e.end;return t.currentTime>=n&&t.currentTime<r}))}}]),t}();function fs(t){return fs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fs(t)}function ds(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hs(r.key),r)}}function ps(t,e,n){return(e=hs(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hs(t){var e=function(t,e){if("object"!==fs(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==fs(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===fs(e)?e:String(e)}function vs(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function gs(t,e){var n=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}(t,e);return function(t,e){return e.get?e.get.call(t):e.value}(t,n)}var ys=new WeakMap,ms=new WeakMap,bs=new WeakMap,ws=new WeakMap,Es=function(){function t(e){var n=this,r=e.parent,o=e.container,i=e.targets,a=e.data,c=e.callback,u=void 0===c?{}:c;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),vs(this,ys,{writable:!0,value:{click:function(t){},play:function(){},stop:function(){}}}),vs(this,ms,{writable:!0,value:{play:function(){},stop:function(){},click:function(t){},update:function(t,e){}}}),vs(this,bs,{writable:!0,value:function(){n.targets.forEach(gs(n,ws))}}),vs(this,ws,{writable:!0,value:function(t,e){t.index=e,t.time=n.times[e],t.on=function(){return t.addClass(mt,nt)},t.off=function(){return t.removeClass(mt,nt)},t.onclick((function(){n.currentIndex=t.index,gs(n,ys).click(t),n.callback.click(t)}))}}),ps(this,"play",(function(){n.targets.forEach((function(t){return t.addClass(ut)})),gs(n,ys).play(),n.callback.play()})),ps(this,"stop",(function(){n.targetOff(),n.targets.forEach((function(t){return t.removeClass(ut)})),gs(n,ys).stop(),n.callback.stop()})),ps(this,"targetOff",(function(t){n.targets.forEach((function(e,n){n!==t&&e.addClass(ut).off()}))})),ps(this,"targetOn",(function(t){t.removeClass(ut).on()})),ps(this,"update",(function(t){n.currentTime=t,n.targetOff(n.currentIndex),n.currentIndex<0?n.callback.update(t,null):(n.targetOn(n.targets[n.currentIndex]),n.callback.update(t,n.targets[n.currentIndex]))})),Y(gs(this,ys),u),this.times=a,this.index=Number(r.attr(Ot)),this.container=o||M({parent:r.DOM,className:"".concat(Jt," ").concat("sceneContainer")}),this.targets=i||a.map((function(){return M({tag:"button",parent:n.container.DOM,className:"sceneTarget"}).hover()})),gs(this,bs).call(this)}return function(t,e,n){e&&ds(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"callback",get:function(){return gs(this,ms)},set:function(t){Y(gs(this,ms),t)}}]),t}();function ks(t){return ks="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ks(t)}function xs(t,e,n){return xs=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}()?Reflect.construct.bind():function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&Cs(o,n.prototype),o},xs.apply(null,arguments)}function Cs(t,e){return Cs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Cs(t,e)}function Os(){Os=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),c=new O(o||[]);return r(a,"_invoke",{value:E(t,n,c)}),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f={};function d(){}function p(){}function h(){}var v={};u(v,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(S([])));y&&y!==e&&n.call(y,i)&&(v=y);var m=h.prototype=d.prototype=Object.create(v);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,a,c){var u=s(t[r],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==ks(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,c)}))}c(u.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function E(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=k(a,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function k(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=s(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:M}}function M(){return{value:void 0,done:!0}}return p.prototype=h,r(m,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:p,configurable:!0}),p.displayName=u(h,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,u(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),u(m,c,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function Ss(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function Ms(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ts(r.key),r)}}function Ps(t,e,n){return(e=Ts(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ts(t){var e=function(t,e){if("object"!==ks(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==ks(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===ks(e)?e:String(e)}function Ls(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function Is(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,Ds(t,e,"set"),n),n}function js(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,Ds(t,e,"get"))}function Ds(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var _s=new WeakMap,Ns=new WeakMap,As=new WeakMap,Bs=new WeakMap,Rs=new WeakMap,Fs=new WeakMap,Ws=new WeakMap,zs=function(){function t(e){var n,r,o=this,i=e.parent,a=void 0===i?document.body:i,c=e.data,u=void 0===c?[{start:0,end:0}]:c,l=e.callback,s=void 0===l?{}:l;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Ls(this,_s,{writable:!0,value:void 0}),Ls(this,Ns,{writable:!0,value:0}),Ls(this,As,{writable:!0,value:{beforePlay:function(t){},play:function(t){},stop:function(t){},timeupdate:function(t){}}}),Ls(this,Bs,{writable:!0,value:{play:function(t){},stop:function(t){},timeupdate:function(t){}}}),Ps(this,"isLast",!1),Ps(this,"playIndex",null),Ps(this,"isPlayedIndex",null),Ps(this,"speed",1),Ls(this,Rs,{writable:!0,value:function(){x(o.container)}}),Ls(this,Fs,{writable:!0,value:function(t){Is(o,_s,requestAnimationFrame((function e(){var n;Is(o,Ns,(n=js(o,Ns),++n));var r=o.times[t],i=r.end-r.start,a=js(o,Ns)/60*(r.speed||1)*o.speed;o.progress.update({rate:a/i}),js(o,As).timeupdate(a,i),o.callback.timeupdate(a,i),a>=i?o.stop():Is(o,_s,requestAnimationFrame(e))})))}}),Ls(this,Ws,{writable:!0,value:function(){o.isPlaying=!1,o.playIndex=null,Is(o,Ns,0),o.container.removeAttr(Ht).off(),o.progress.update({rate:0}),cancelAnimationFrame(js(o,_s))}}),Ps(this,"play",(n=Os().mark((function t(e){return Os().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o.isPlayedIndex=e,o.isPlaying=!0,o.playIndex=null,js(o,As).beforePlay(o.currentData),t.next=6,new Promise((function(t){return setTimeout(t,100)}));case 6:cancelAnimationFrame(js(o,_s)),o.container.attr(Ht,e).on(),js(o,Fs).call(o,e),js(o,As).play(o.currentData),o.callback.play(o.currentData);case 11:case"end":return t.stop()}}),t)})),r=function(){var t=this,e=arguments;return new Promise((function(r,o){var i=n.apply(t,e);function a(t){Ss(i,r,o,a,c,"next",t)}function c(t){Ss(i,r,o,a,c,"throw",t)}a(void 0)}))},function(t){return r.apply(this,arguments)})),Ps(this,"stop",(function(){js(o,Ws).call(o),js(o,As).stop(o.currentData),o.callback.stop(o.currentData)})),Ps(this,"update",(function(t){o.currentTime=t,o.isPlayedIndex===o.playIndex&&(o.playIndex=null),o.currentData&&null==o.playIndex&&(o.playIndex=o.times.findIndex((function(t){return t.end===o.currentData.end})))})),Ps(this,"reset",(function(){o.isPlayedIndex=null,js(o,Ws).call(o)})),Y(js(this,As),s),this.times=Ca(u);var f=M({parent:a,className:"againContainer"}),d=M({parent:f.DOM,className:"againBox"}),p=M({parent:d.DOM,className:"againProgress"});this.progress=new Ic({name:"againProgress",container:p}),this.container=f,js(this,Rs).call(this)}return function(t,e,n){e&&Ms(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"callback",get:function(){return js(this,Bs)},set:function(t){Y(js(this,Bs),t)}},{key:"currentData",get:function(){var t=this;return this.times.find((function(e){var n=e.start,r=e.end;return t.currentTime>n&&t.currentTime<r}))}}]),t}();function Vs(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return xs(zs,e)}function Gs(t){return Gs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gs(t)}function qs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Hs(r.key),r)}}function Us(t,e,n){return(e=Hs(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hs(t){var e=function(t,e){if("object"!==Gs(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Gs(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Gs(e)?e:String(e)}function Ys(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function Qs(t,e){var n=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}(t,e);return function(t,e){return e.get?e.get.call(t):e.value}(t,n)}var Zs=new WeakMap,Xs=new WeakMap,$s=new WeakMap,Ks=new WeakMap,Js=function(){function t(e){var n=this,r=e.parent,o=e.type,i=e.data,a=e.callback,c=void 0===a?{}:a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Ys(this,$s,{get:tf,set:void 0}),Ys(this,Zs,{writable:!0,value:{play:function(t){},stop:function(t){},update:function(t){}}}),Ys(this,Xs,{writable:!0,value:{play:function(t){},stop:function(t){},update:function(t){}}}),Ys(this,Ks,{writable:!0,value:function(){x(n.container)}}),Us(this,"play",(function(){n.container.attr(Ht,n.currentIndex).on(),Qs(n,Zs).play(n.currentData),n.callback.play(n.currentData)})),Us(this,"stop",(function(){n.container.removeAttr(Ht).off(),n.progress.update({rate:0}),Qs(n,Zs).stop(n.currentData),n.callback.stop(n.currentData)})),Us(this,"update",(function(t){if(n.currentTime=t,Qs(n,Zs).update(n.currentTime),n.callback.update(n.currentTime),n.currentIndex<0)n.stop();else{var e=t-n.currentData.start;n.progress.update({rate:e/Qs(n,$s)})}})),Y(Qs(this,Zs),c),this.times=i,this.index=Number(r.attr(Ot));var u=getEl(".".concat("js-speakContainer","[").concat(Ot,'="').concat(this.index,'"][').concat(ge,'="').concat(o,'"]'))[0]||M({parent:r.DOM,className:"speakContainer"}),l=M({parent:u.DOM,className:"speakBox"}),s=M({parent:l.DOM,className:"speakProgress"});u.attr(ge,o),this.progress=new Ic({name:"speakProgress",container:s}),this.container=u,Qs(this,Ks).call(this)}return function(t,e,n){e&&qs(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"callback",get:function(){return Qs(this,Xs)},set:function(t){Y(Qs(this,Xs),t)}},{key:"currentData",get:function(){return this.currentIndex>=0?this.times[this.currentIndex]:null}},{key:"currentIndex",get:function(){var t=this;return this.times.findIndex((function(e){var n=e.start,r=e.end;return t.currentTime>=n&&t.currentTime<r}))}},{key:"isPlaying",get:function(){return this.container.matches(".".concat(nt))}}]),t}();function tf(){return this.currentData.end-this.currentData.start}function ef(t){return ef="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ef(t)}function nf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,of(r.key),r)}}function rf(t,e,n){return(e=of(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function of(t){var e=function(t,e){if("object"!==ef(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==ef(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===ef(e)?e:String(e)}function af(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function cf(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,uf(t,e,"get"))}function uf(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var lf=new WeakMap,sf=new WeakMap,ff=new WeakMap,df=new WeakMap,pf=new WeakMap,hf=new WeakMap,vf=new WeakMap,gf=new WeakMap,yf=new WeakMap,mf=new WeakMap,bf=new WeakMap,wf=new WeakMap,Ef=new WeakMap,kf=function(){function t(e){var n,r,o=this,i=e.container,a=e.data,c=e.callback;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),af(this,lf,{writable:!0,value:{afterInit:function(t){},clickedCharItem:function(t){},clickedSyncItem:function(t){},reset:function(){},speakPlay:function(){},speakStop:function(){}}}),af(this,sf,{writable:!0,value:{play:function(){},stop:function(){},update:function(t){},reset:function(){},speakPlay:function(){},speakStop:function(){},speakUpdate:function(t){}}}),af(this,ff,{writable:!0,value:[]}),rf(this,"selectedValues",[]),rf(this,"clickedItem",void 0),af(this,df,{writable:!0,value:function(){o.items.forEach(cf(o,gf)),o.syncItems.forEach(cf(o,bf)),o.checkItems.forEach((function(t){t.value=Number(t.attr(he)),x(t,mt)})),cf(o,lf).afterInit(o.items.length)}}),af(this,pf,{writable:!0,value:function(t,e,n){var r=t||M({parent:e.DOM,className:"".concat("roleContainer"," ").concat(ce)});r.attr(Ot,o.index),(r.getEl(".".concat(ue,'[data-roleplay-char="all"]'))[0]||M({tag:"button",parent:r.DOM,className:"".concat(le," ").concat(fe)})).attr(he,"all"),n.forEach((function(t){(r.getEl(".".concat(ue,'[data-roleplay-char="').concat(t,'"]'))[0]||M({tag:"button",parent:r.DOM,className:"".concat(le," ").concat(fe)})).attr(he,t)}))}}),af(this,hf,{writable:!0,value:function(t,e,n){var r=t||M({parent:e.DOM,className:"".concat("roleSyncContainer"," ").concat(se)});r.attr(Ot,o.index),n.forEach((function(t){(r.getEl(".".concat("js-rolePlayChar",'[data-roleplay-char="').concat(t.char.join(","),'"]'))[0]||M({tag:"button",parent:r.DOM,className:fe})).attr(he,t.char.join(","))}))}}),af(this,vf,{writable:!0,value:function(t,e,n){var r=t||M({parent:e.DOM,className:"".concat("roleCheckContainer"," ").concat(de)});r.attr(Ot,o.index),n.forEach((function(t){(r.getEl(".".concat("js-roleCheckChar",'[data-roleplay-char="').concat(t,'"]'))[0]||M({parent:r.DOM,className:pe})).attr(he,t)}))}}),af(this,gf,{writable:!0,value:function(t){t.getter("isChecked",(function(){return t.matches(".".concat(ct))})),t.isAllSelect="all"===t.attr(he),t.value=Number(t.attr(he)),t.hover(),t.on=function(){t.isAllSelect?(o.items.forEach((function(t){return t.addClass(ct)})),o.selectedValues=cf(o,ff)):(o.switchRolePlayCharacter&&o.items.filter((function(e){return e.value!==t.value})).forEach((function(t){return t.off()})),t.addClass(ct),o.selectedValues.push(t.value)),cf(o,yf).call(o)},t.off=function(){t.isAllSelect?(o.items.forEach((function(t){return t.removeClass(ct)})),o.selectedValues=[]):(t.removeClass(ct),o.selectedValues=o.selectedValues.filter((function(e){return e!==t.value}))),cf(o,yf).call(o)},t.onclick((function(){if(o.switchRolePlayCharacter&&o.allSelectItem.isChecked&&t!==o.allSelectItem)return o.items.forEach((function(t){return t.off()})),void t.on();t.matches(".".concat(ct))?t.off():t.on()}))}}),af(this,yf,{writable:!0,value:function(){cf(o,mf).call(o),cf(o,lf).clickedCharItem(o.selectedValues)}}),af(this,mf,{writable:!0,value:function(){o.allSelectItem.toggleClass(ct,_(o.selectedValues,cf(o,ff)))}}),af(this,bf,{writable:!0,value:function(t,e){t.values=t.attr(he).replace(/ /g,"").split(",").map((function(t){return Number(t)})),t.index=e,t.time=o.times[e],t.hover(),x(t,mt),t.onclick((function(){cf(o,wf).call(o),t.on(),o.clickedItem=t,cf(o,lf).clickedSyncItem(t)}))}}),af(this,wf,{writable:!0,value:function(t){o.syncItems.forEach((function(e,n){n!==t&&e.off()}))}}),rf(this,"syncPlay",(function(){o.callback.play()})),rf(this,"syncStop",(function(){cf(o,wf).call(o),o.callback.stop()})),rf(this,"reset",(function(){o.selectedValues=[],o.items.forEach((function(t){return t.off()})),cf(o,wf).call(o),cf(o,lf).reset(),o.callback.reset()})),rf(this,"inactiveCharacters",(function(){o.checkItems.forEach((function(t){return t.off()}))})),rf(this,"activeCharacter",(function(t){t.forEach((function(t){o.checkItems.find((function(e){return e.value===t})).on()}))})),af(this,Ef,{writable:!0,value:function(t){o.speak.update(t),o.isPlayingSelectedItem?!o.speak.isPlaying&&o.speak.play():o.speak.isPlaying&&o.speak.stop()}}),rf(this,"update",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o.currentTime=t,!e.isMovingProgress&&cf(o,Ef).call(o,t),o.inactiveCharacters(),o.callback.update(t),o.currentIndex<0||(cf(o,wf).call(o,o.currentIndex),o.syncItems[o.currentIndex].on(),o.activeCharacter(o.times[o.currentIndex].char))})),Y(cf(this,lf),c),r=[],function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(n=this,uf(n,ff,"set"),r),a.forEach((function(t){!cf(o,ff).includes(t.char)&&!Array.isArray(t.char)&&cf(o,ff).push(t.char),t.char=Array.isArray(t.char)?t.char:[t.char]})),cf(this,ff).sort((function(t,e){return t-e})),this.index=Number(i.attr(Ot)),cf(this,pf).call(this,getEl(".".concat(ce,"[").concat(Ot,'="').concat(this.index,'"]'))[0],i,cf(this,ff)),cf(this,hf).call(this,getEl(".".concat(se,"[").concat(Ot,'="').concat(this.index,'"]'))[0],i,a),cf(this,vf).call(this,getEl(".".concat(de,"[").concat(Ot,'="').concat(this.index,'"]'))[0],i,cf(this,ff)),this.times=Ca(a),this.container=getEl(".".concat(ce,"[").concat(Ot,'="').concat(this.index,'"]'))[0],this.items=this.container.getEl(".".concat(le)),this.syncContainer=getEl(".".concat(se,"[").concat(Ot,'="').concat(this.index,'"]'))[0],this.syncItems=this.syncContainer.getEl(".".concat(fe)),this.checkContainer=getEl(".".concat(de,"[").concat(Ot,'="').concat(this.index,'"]'))[0],this.checkItems=this.checkContainer.getEl(".".concat(pe)),this.speak=new Js({parent:i,data:this.times,type:"rolePlay",callback:{play:function(){cf(o,lf).speakPlay(),o.callback.speakPlay()},stop:function(){cf(o,lf).speakStop(),o.callback.speakStop()}}}),cf(this,df).call(this)}return function(t,e,n){e&&nf(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"callback",get:function(){return cf(this,sf)},set:function(t){Y(cf(this,sf),t)}},{key:"currentIndex",get:function(){var t=this;return this.times.findIndex((function(e){var n=e.start,r=e.end;return t.currentTime>=n&&t.currentTime<r}))}},{key:"currentSyncItem",get:function(){return this.syncItems[this.currentIndex]}},{key:"isPlayingSelectedItem",get:function(){var t=this;return!!this.currentSyncItem&&this.selectedValues.findIndex((function(e){return t.currentSyncItem.values.includes(e)}))>-1}},{key:"allSelectItem",get:function(){return this.items.find((function(t){return t.isAllSelect}))}}]),t}();function xf(t){return xf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xf(t)}function Cf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Sf(r.key),r)}}function Of(t,e,n){return(e=Sf(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sf(t){var e=function(t,e){if("object"!==xf(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==xf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===xf(e)?e:String(e)}function Mf(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function Pf(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,Lf(t,e,"set"),n),n}function Tf(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,Lf(t,e,"get"))}function Lf(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var If=new WeakMap,jf=new WeakMap,Df=new WeakMap,_f=new WeakMap,Nf=new WeakMap,Af=function(){function t(e){var n=this,r=e.targets,o=e.data,i=e.callback;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Mf(this,If,{writable:!0,value:void 0}),Mf(this,jf,{writable:!0,value:{targetPlay:function(){},targetStop:function(){},targetClick:function(){}}}),Mf(this,Df,{writable:!0,value:{click:function(){},play:function(){},stop:function(){},timeupdate:function(t){},autoScroll:function(t,e){}}}),Mf(this,_f,{writable:!0,value:void 0}),Mf(this,Nf,{writable:!0,value:function(){n.targets.forEach((function(t){t.onclick((function(){Pf(n,_f,t.index),n.target=t,n.callback.click(),Tf(n,jf).targetClick(n),n.play()}))}))}}),Of(this,"play",(function(){cancelAnimationFrame(Tf(n,If)),n.callback.play(),Tf(n,jf).targetPlay()})),Of(this,"stop",(function(){cancelAnimationFrame(Tf(n,If)),n.targets.forEach((function(t){t.off(),n.target.hasItems()&&n.target.itemOff()})),Pf(n,_f,null),n.target=null,n.callback.stop(),Tf(n,jf).targetStop()})),Of(this,"update",(function(t){n.target.hasItems()&&n.target.update(t),n.endTime<=t&&(n.target.hasItems()&&n.target.itemOff(),n.stop())})),Y(Tf(this,jf),i),this.times=Ca(o),this.targets=Fl(r,o),Tf(this,Nf).call(this)}return function(t,e,n){e&&Cf(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"callback",get:function(){return Tf(this,Df)},set:function(t){Y(Tf(this,Df),t)}},{key:"startTime",get:function(){var t;return null===(t=this.times[Tf(this,_f)])||void 0===t?void 0:t.start}},{key:"endTime",get:function(){var t;return null===(t=this.times[Tf(this,_f)])||void 0===t?void 0:t.end}}]),t}();function Bf(t){return Bf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bf(t)}function Rf(t,e){return Rf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Rf(t,e)}function Ff(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wf(t){return Wf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Wf(t)}function zf(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function Vf(t,e){var n=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}(t,e);return function(t,e){return e.get?e.get.call(t):e.value}(t,n)}var Gf=new WeakMap,qf=new WeakMap,Uf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rf(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=Wf(e);if(n){var o=Wf(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return function(t,e){if(e&&("object"===Bf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ff(t)}(this,t)});function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),zf(Ff(e=r.call(this,t)),Gf,{writable:!0,value:{targetPlay:function(){},targetStop:function(){},targetClick:function(){},afterInit:function(t,e){},autoScroll:function(t,e){}}}),zf(Ff(e),qf,{writable:!0,value:function(){Vf(Ff(e),Gf).afterInit(e.scriptList.length,e.times.length),e.scriptList.forEach((function(t){return t.hover()}))}}),Y(Vf(Ff(e),Gf),t.callback),e.scriptList=Fl(e.container.getEl(".".concat($t)),t.data),e.clickPlay=new Af({targets:e.scriptList,data:t.data,callback:Vf(Ff(e),Gf)}),Vf(Ff(e),qf).call(Ff(e)),e}return function(t,e,n){return Object.defineProperty(t,"prototype",{writable:!1}),t}(o)}(Rl);function Hf(t){return Hf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hf(t)}function Yf(){Yf=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),c=new O(o||[]);return r(a,"_invoke",{value:E(t,n,c)}),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f={};function d(){}function p(){}function h(){}var v={};u(v,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(S([])));y&&y!==e&&n.call(y,i)&&(v=y);var m=h.prototype=d.prototype=Object.create(v);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,a,c){var u=s(t[r],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==Hf(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,c)}))}c(u.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function E(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=k(a,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function k(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=s(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:M}}function M(){return{value:void 0,done:!0}}return p.prototype=h,r(m,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:p,configurable:!0}),p.displayName=u(h,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,u(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),u(m,c,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function Qf(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function Zf(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Qf(i,r,o,a,c,"next",t)}function c(t){Qf(i,r,o,a,c,"throw",t)}a(void 0)}))}}function Xf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Kf(r.key),r)}}function $f(t,e,n){return(e=Kf(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kf(t){var e=function(t,e){if("object"!==Hf(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Hf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Hf(e)?e:String(e)}function Jf(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function td(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,nd(t,e,"get"))}function ed(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,nd(t,e,"set"),n),n}function nd(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var rd=new WeakMap,od=new WeakMap,id=new WeakMap,ad=new WeakMap,cd=new WeakMap,ud=new WeakMap,ld=new WeakMap,sd=new WeakMap,fd=new WeakMap,dd=function(){function t(e,n){var r,o,i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Jf(this,rd,{writable:!0,value:new Audio}),Jf(this,od,{writable:!0,value:void 0}),Jf(this,id,{writable:!0,value:0}),$f(this,"playIndex",0),Jf(this,ad,{writable:!0,value:[]}),Jf(this,cd,{writable:!0,value:function(t){return t.getEl(".".concat($t)).map((function(t,e){return t.index=e,t.src=t.attr(we),t.audio=new Audio(t.attr(we)),t.audio.preload="none",t}))}}),Jf(this,ud,{writable:!0,value:(r=Zf(Yf().mark((function t(){var e,n;return Yf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=Yf().mark((function t(e){return Yf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t){var n=td(i,ad)[e];n.audio.onloadedmetadata=function(){ed(i,id,td(i,id)+n.audio.duration),n.duration=n.audio.duration,t()},n.audio.src=n.src,n.audio.load()}));case 2:case"end":return t.stop()}}),t)})),n=0;case 2:if(!(n<td(i,ad).length)){t.next=7;break}return t.delegateYield(e(n),"t0",4);case 4:n++,t.next=2;break;case 7:case"end":return t.stop()}}),t)}))),function(){return r.apply(this,arguments)})}),Jf(this,ld,{writable:!0,value:function(t){return td(i,ad).filter((function(e){return e.index<t})).reduce((function(t,e){return{duration:+(t.duration+e.duration).toFixed(3)}})).duration}}),Jf(this,sd,{writable:!0,value:function(t,e){var n=Number(t.prevDuration);return t.getEl("i").length>1?{start:t.getEl("i").map((function(t){return Number(t.attr("data-start"))+n})),end:t.getEl("i").map((function(t){return Number(t.attr("data-end"))+n}))}:{start:+(t.prevDuration+(0===e?0:.001)).toFixed(3),end:+(t.prevDuration+t.duration-(e===td(i,ad).length-1?0:.03)).toFixed(3)}}}),Jf(this,fd,{writable:!0,value:(o=Zf(Yf().mark((function t(){return Yf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:td(i,ad).forEach((function(t){t.audio.onloadedmetadata=function(){ed(i,id,td(i,id)+ +t.audio.duration.toFixed(3)),t.duration=+t.audio.duration.toFixed(3),t.audio.remove(),t.audio=null},t.audio.muted=!0,t.audio.src=t.src,t.audio.load(),t.getter("currentTime",(function(){return+(t.prevDuration+t.audio.currentTime).toFixed(3)})),t.DOM.hasAttribute(Ee)&&(t.data.mr=Number(t.attr(Ee)))})),loop((function(){return td(i,ad).every((function(t){return t.duration}))})).then((function(){td(i,ad).forEach((function(t,e){t.prevDuration=0===t.index?0:td(i,ld).call(i,t.index),t.data=td(i,sd).call(i,t,e)})),i.changeSrc(0),td(i,od).call(i,i)}));case 2:case"end":return t.stop()}}),t)}))),function(){return o.apply(this,arguments)})}),$f(this,"muted",(function(t){i.DOM.muted=t})),$f(this,"setCurrentTime",(function(t){i.currentTime=t})),$f(this,"changeSrc",(function(t){i.playIndex=t,i.DOM.src=td(i,ad)[t].src})),$f(this,"play",Zf(Yf().mark((function t(){return Yf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i.isEnded=!1,i.isPlaying=!0,i.isPaused=!1,t.abrupt("return",i.DOM.play());case 4:case"end":return t.stop()}}),t)})))),$f(this,"pause",(function(){return i.isPlaying=!1,i.isPaused=!0,i.DOM.pause()})),$f(this,"stop",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;i.isPlaying=!1,i.isPaused=!1,i.DOM.pause(),i.changeSrc(0),t&&"IOS"==window.isRunMode?i.currentTime=.001:i.currentTime=0})),$f(this,"changeVolume",(function(t){i.DOM.volume=t})),ed(this,ad,td(this,cd).call(this,e)),ed(this,od,n),this.type="language",this.name=xa(td(this,ad)[0].src),td(this,rd).preload="none",td(this,fd).call(this)}return function(t,e,n){e&&Xf(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"DOM",get:function(){return td(this,rd)}},{key:"src",get:function(){return this.currentList.src}},{key:"currentList",get:function(){return td(this,ad)[this.playIndex||0]}},{key:"duration",get:function(){return td(this,id)}},{key:"bounding",get:function(){return this.DOM.getBoundingClientRect()}},{key:"list",get:function(){return td(this,ad)}},{key:"currentTime",get:function(){return+(this.currentList.prevDuration+this.DOM.currentTime).toFixed(3)},set:function(t){var e=td(this,ad).find((function(e){return e.prevDuration+e.duration>=t}));this.playIndex=e.index,this.DOM.src=e.src,this.DOM.currentTime=+(t-this.currentList.prevDuration).toFixed(3)}}]),t}();function pd(t){return pd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pd(t)}function hd(){hd=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),c=new O(o||[]);return r(a,"_invoke",{value:E(t,n,c)}),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f={};function d(){}function p(){}function h(){}var v={};u(v,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(S([])));y&&y!==e&&n.call(y,i)&&(v=y);var m=h.prototype=d.prototype=Object.create(v);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,a,c){var u=s(t[r],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==pd(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,c)}))}c(u.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function E(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=k(a,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function k(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=s(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:M}}function M(){return{value:void 0,done:!0}}return p.prototype=h,r(m,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:p,configurable:!0}),p.displayName=u(h,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,u(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),u(m,c,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function vd(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function gd(t,e,n){return(e=yd(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yd(t){var e=function(t,e){if("object"!==pd(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==pd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===pd(e)?e:String(e)}function md(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function bd(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,Ed(t,e,"set"),n),n}function wd(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,Ed(t,e,"get"))}function Ed(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function kd(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xd(t){var e,n=Math.max.apply(Math,function(t){if(Array.isArray(t))return kd(t)}(e=t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(t,e){if(t){if("string"==typeof t)return kd(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kd(t,e):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=Math.pow(n,-1);return t.map((function(t){return t*r}))}var Cd=new WeakMap,Od=new WeakMap,Sd=new WeakMap,Md=new WeakMap,Pd=new WeakMap,Td=function(t,e,n){return Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){var n,r,o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),md(this,Cd,{writable:!0,value:null}),gd(this,"filteredData",[]),md(this,Od,{writable:!0,value:(n=hd().mark((function t(){var e,n,r,i,a,c,u,l,s,f,d,p,h,v;return hd().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(o.src);case 2:return e=t.sent,t.next=5,e.arrayBuffer();case 5:return n=t.sent,r=new AudioContext,t.next=9,r.decodeAudioData(n);case 9:for(i=t.sent,a=o.length,c=i.duration,u=i.sampleRate,l=i.getChannelData(0),s=c*a,f=Math.floor(u/a),d=0;d<s;d++){for(p=f*d,h=0,v=0;v<f;v++)l[p+v]&&(h+=Math.abs(l[p+v]));o.filteredData.push(h/f)}xd(o.filteredData),wd(o,Md).call(o);case 19:case"end":return t.stop()}}),t)})),r=function(){var t=this,e=arguments;return new Promise((function(r,o){var i=n.apply(t,e);function a(t){vd(i,r,o,a,c,"next",t)}function c(t){vd(i,r,o,a,c,"throw",t)}a(void 0)}))},function(){return r.apply(this,arguments)})}),md(this,Sd,{writable:!0,value:function(t){var e=o.canvas.getContext("2d"),n=o.canvas.width,r=o.canvas.height,i=window.devicePixelRatio||1;e.scale(i,i),e.clearRect(0,0,n,r),e.fillStyle="transparent",e.fillRect(0,0,n,r);var a=n/o.filteredData.length,c=0;e.beginPath(),e.moveTo(0,r),e.strokeStyle=o.color,e.fillStyle=o.fill,e.lineWidth=o.width,o.filteredData.forEach((function(o,i){if(i<=t){var u=a*i;e.lineTo(u,r-Math.abs(o*(2.5*r))),c=a*(i+1)>=n?n:u}})),e.stroke(),c==n&&(e.lineTo(c,r),e.moveTo(0,0),e.closePath(),e.stroke(),o.finish())}}),md(this,Md,{writable:!0,value:function(){var t=null;bd(o,Cd,requestAnimationFrame((function e(n){wd(o,Sd).call(o,function(e){return t||(t=e),(e-t)/(100/o.length*10)}(n)),bd(o,Cd,requestAnimationFrame(e))})))}}),md(this,Pd,{writable:!0,value:function(){o.canvas.getContext("2d").clearRect(0,0,o.canvas.width,o.canvas.height)}}),gd(this,"finish",(function(){cancelAnimationFrame(wd(o,Cd))})),gd(this,"stop",(function(){wd(o,Pd).call(o),cancelAnimationFrame(wd(o,Cd))})),gd(this,"reset",(function(){o.stop(),o.filteredData=[]})),inheritanceProperties(this,e),this.fill=e.fill||"gray",wd(this,Od).call(this)}));function Ld(t){return Ld="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ld(t)}function Id(){Id=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),c=new O(o||[]);return r(a,"_invoke",{value:E(t,n,c)}),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f={};function d(){}function p(){}function h(){}var v={};u(v,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(S([])));y&&y!==e&&n.call(y,i)&&(v=y);var m=h.prototype=d.prototype=Object.create(v);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,a,c){var u=s(t[r],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==Ld(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,c)}))}c(u.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function E(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=k(a,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function k(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=s(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:M}}function M(){return{value:void 0,done:!0}}return p.prototype=h,r(m,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:p,configurable:!0}),p.displayName=u(h,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,u(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),u(m,c,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function jd(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function Dd(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){jd(i,r,o,a,c,"next",t)}function c(t){jd(i,r,o,a,c,"throw",t)}a(void 0)}))}}function _d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ad(r.key),r)}}function Nd(t,e,n){return(e=Ad(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ad(t){var e=function(t,e){if("object"!==Ld(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Ld(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Ld(e)?e:String(e)}function Bd(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function Rd(t,e){var n=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}(t,e);return function(t,e){return e.get?e.get.call(t):e.value}(t,n)}var Fd=new WeakMap,Wd=new WeakMap,zd=new WeakMap,Vd=new WeakMap,Gd=new WeakMap,qd=function(){function t(e,n,r){var o,i,a=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Bd(this,Fd,{writable:!0,value:{start:function(){},end:function(){},play:function(){},stop:function(){},reset:function(){},onePageReset:function(){}}}),Bd(this,Wd,{writable:!0,value:{start:function(){},end:function(){},play:function(){},stop:function(){},reset:function(){}}}),Nd(this,"audio",new Audio),Nd(this,"autoStart",!0),Nd(this,"isRecording",!1),Nd(this,"isPlaying",!1),Nd(this,"mediaRecorder",null),Nd(this,"audioArray",[]),Nd(this,"audioBox",[]),Bd(this,zd,{writable:!0,value:function(){var t,e,n;a.audio.preload="none",a.audio.addEventListener("ended",(function(){return a.autoStart&&a.stop()})),a.audio.src=a.mp3||"",null===(t=a.startButton)||void 0===t||t.onclick(a.start),null===(e=a.endButton)||void 0===e||e.onclick(a.end),null===(n=a.playButton)||void 0===n||n.onclick(a.togglePlay),a.isDrawWaveMode&&(a.waveData={canvas:a.container.getEl(".".concat("js-waveCanvas"))[0].DOM,color:a.container.attr("data-wave-color")||"blue",width:Number(a.container.attr("data-wave-width"))||1,length:Number(a.container.attr("data-wave-length"))||100}),Rd(a,Vd).call(a)}}),Bd(this,Vd,{writable:!0,value:function(){var t,e,n,r;a.isPlayMediaMode?null===(t=a.playButton)||void 0===t||t.removeClass(ut):null===(e=a.playButton)||void 0===e||e.toggleClass(ut,!a.isRecorded),null===(n=a.startButton)||void 0===n||n.toggleClass(ut,a.isRecording||a.isPlaying),null===(r=a.endButton)||void 0===r||r.toggleClass(ut,!a.isRecording||a.isPlaying),a.container.toggleClass(on,a.isRecording),a.FIRSTDIV.toggleClass(nn,a.isRecording),a.container.toggleClass(an,a.isPlaying),a.FIRSTDIV.toggleClass(rn,a.isPlaying)}}),Bd(this,Gd,{writable:!0,value:(o=Dd(Id().mark((function t(){return Id().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(navigator.mediaDevices){t.next=2;break}return t.abrupt("return",console.error("https 환경에서 실행해주세요."));case 2:return t.next=4,navigator.mediaDevices.getUserMedia({audio:!0}).then((function(t){a.mediaRecorder=new MediaRecorder(t),a.mediaRecorder.ondataavailable=function(t){a.audioArray.push(t.data)}})).catch((function(t){console.error(t)}));case 4:case"end":return t.stop()}}),t)}))),function(){return o.apply(this,arguments)})}),Nd(this,"start",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!a.isReady)return console.error("No Media Recorder.");Rd(a,Fd).onePageReset(),a.autoStart&&a.startMediaRecorder(e),a.isRecording=!0,Rd(a,Vd).call(a),Rd(a,Fd).start(),a.callback.start()})),Nd(this,"end",(function(){var t;a.isRecording=!1,null===(t=a.mediaRecorder)||void 0===t||t.stop(),Rd(a,Vd).call(a),Rd(a,Fd).end(),a.callback.end()})),Nd(this,"togglePlay",(function(){a.isPlaying?a.stop():a.play()})),Nd(this,"play",(i=Dd(Id().mark((function t(e){var n,r=arguments;return Id().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=r.length>1&&void 0!==r[1]?r[1]:0,Rd(a,Fd).onePageReset(),a.isPlaying=!0,Rd(a,Vd).call(a),a.isPlayMediaMode?a.playAudio():a.autoStart&&a.playRecordedAudio(n),Rd(a,Fd).play(),a.callback.play();case 7:case"end":return t.stop()}}),t)}))),function(t){return i.apply(this,arguments)})),Nd(this,"stop",(function(){var t;a.isPlaying=!1,Rd(a,Vd).call(a),a.audio.pause(),a.audio.currentTime=0,null===(t=a.drawWave)||void 0===t||t.stop(),Rd(a,Fd).stop(),a.callback.stop()})),Nd(this,"startMediaRecorder",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!a.isReady)return console.error("No Media Recorder.");a.mediaRecorder.start(),a.mediaRecorder.onstop=function(){var e=new Blob(a.audioArray,{type:"audio/ogg codecs=opus"}),n=window.URL.createObjectURL(e);a.audioArray.splice(0),a.audioBox[t]=n,!a.isRecording&&Rd(a,Vd).call(a)}})),Nd(this,"stopMediaRecorder",(function(){var t;null===(t=a.mediaRecorder)||void 0===t||t.stop()})),Nd(this,"playRecordedAudio",(function(t){a.audioBox[t]&&(a.audio.src=a.audioBox[t],a.playAudio())})),Nd(this,"playAudio",(function(){a.isDrawWaveMode&&a.playDrawWave(),a.audio.play()})),Nd(this,"playDrawWave",(function(){a.waveData.src=a.audio.src,a.drawWave=new Td(a.waveData)})),Nd(this,"stopRecordedAudio",(function(){a.audio.pause()})),Nd(this,"onePageReset",(function(){var t;a.isRecording&&a.end(),a.isPlaying&&a.stop(),null===(t=a.drawWave)||void 0===t||t.stop(),Rd(a,Vd).call(a)})),Nd(this,"reset",(function(){var t;a.mediaRecorder&&(a.mediaRecorder.onstop=function(){}),a.isRecording&&a.end(),a.isPlaying&&a.stop(),null===(t=a.drawWave)||void 0===t||t.reset(),a.audioArray=[],a.audioBox=[],Rd(a,Vd).call(a),Rd(a,Fd).reset(),a.callback.reset()})),!e.hasAttr(tn)&&e.attr(tn,n),Y(Rd(this,Fd),r),this.FIRSTDIV=getEl("div")[0],this.container=e,this.index=Number(this.container.attr(tn)),this.startButton=this.container.getEl(".".concat("js-recordStartBtn"))[0],this.endButton=this.container.getEl(".".concat("js-recordEndBtn"))[0],this.playButton=this.container.getEl(".".concat("js-recordPlayBtn"))[0],this.options=this.container.attr(en)?Q(this.container.attr(en)):[],this.mp3=this.container.attr("data-wave-mp3"),Rd(this,zd).call(this)}return function(t,e,n){e&&_d(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"callback",get:function(){return Rd(this,Wd)},set:function(t){Y(Rd(this,Wd),t)}},{key:"isReady",get:function(){var t;return null===(t=this.mediaRecorder)||void 0===t?void 0:t.state}},{key:"isRecorded",get:function(){return void 0!==this.audioBox.find((function(t){return t}))}},{key:"isDrawWaveMode",get:function(){return this.options.includes("wave")}},{key:"isPlayMediaMode",get:function(){return this.options.includes("mp3")}},{key:"isRecordingOnMediaRecorder",get:function(){var t;return"recording"===(null===(t=this.mediaRecorder)||void 0===t?void 0:t.state)}},{key:"isPlayingOnRecordedMedia",get:function(){return!this.audio.paused}},{key:"ready",get:function(){return Rd(this,Gd)}}]),t}();function Ud(t,e,n){return new qd(t,e,n)}function Hd(t){return Hd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hd(t)}function Yd(){Yd=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),c=new O(o||[]);return r(a,"_invoke",{value:E(t,n,c)}),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f={};function d(){}function p(){}function h(){}var v={};u(v,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(S([])));y&&y!==e&&n.call(y,i)&&(v=y);var m=h.prototype=d.prototype=Object.create(v);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,a,c){var u=s(t[r],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==Hd(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,c)}))}c(u.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function E(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=k(a,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function k(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=s(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:M}}function M(){return{value:void 0,done:!0}}return p.prototype=h,r(m,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:p,configurable:!0}),p.displayName=u(h,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,u(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),u(m,c,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function Qd(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function Zd(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Qd(i,r,o,a,c,"next",t)}function c(t){Qd(i,r,o,a,c,"throw",t)}a(void 0)}))}}function Xd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Jd(r.key),r)}}function $d(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function Kd(t,e,n){return(e=Jd(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jd(t){var e=function(t,e){if("object"!==Hd(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Hd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Hd(e)?e:String(e)}function tp(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,np(t,e,"set"),n),n}function ep(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,np(t,e,"get"))}function np(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var rp=new WeakMap,op=new WeakMap,ip=new WeakMap,ap=new WeakMap,cp=new WeakMap,up=new WeakMap,lp=new WeakMap,sp=new WeakMap,fp=new WeakMap,dp=new WeakMap,pp=new WeakMap,hp=new WeakMap,vp=new WeakMap,gp=new WeakMap,yp=new WeakMap,mp=new WeakMap,bp=new WeakMap,wp=new WeakMap,Ep=new WeakMap,kp=new WeakMap,xp=new WeakMap,Cp=new WeakMap,Op=new WeakMap,Sp=new WeakMap,Mp=new WeakMap,Pp=new WeakMap,Tp=new WeakMap,Lp=new WeakMap,Ip=new WeakMap,jp=new WeakMap,Dp=new WeakMap,_p=new WeakMap,Np=new WeakMap,Ap=new WeakMap,Bp=new WeakMap,Rp=new WeakMap,Fp=new WeakMap,Wp=new WeakMap,zp=new WeakMap,Vp=new WeakMap,Gp=new WeakMap,qp=new WeakMap,Up=new WeakMap,Hp=new WeakMap,Yp=new WeakMap,Qp=new WeakMap,Zp=new WeakMap,Xp=new WeakMap,$p=new WeakMap,Kp=new WeakMap,Jp=new WeakMap,th=function(){function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),$d(this,Lp,{get:ih,set:void 0}),$d(this,Tp,{get:oh,set:void 0}),$d(this,Pp,{get:rh,set:void 0}),$d(this,Mp,{get:nh,set:void 0}),$d(this,xp,{get:eh,set:void 0}),Kd(this,"instance",{afterLoading:function(){},play:function(){},pause:function(){},stop:function(){},timeupdate:function(t){},reset:function(){}}),$d(this,rp,{writable:!0,value:void 0}),$d(this,op,{writable:!0,value:void 0}),$d(this,ip,{writable:!0,value:void 0}),$d(this,ap,{writable:!0,value:{}}),$d(this,cp,{writable:!0,value:void 0}),$d(this,up,{writable:!0,value:void 0}),$d(this,lp,{writable:!0,value:void 0}),$d(this,sp,{writable:!0,value:void 0}),Kd(this,"isPlayAgainMode",void 0),$d(this,fp,{writable:!0,value:void 0}),$d(this,dp,{writable:!0,value:void 0}),$d(this,pp,{writable:!0,value:void 0}),$d(this,hp,{writable:!0,value:void 0}),$d(this,vp,{writable:!0,value:void 0}),$d(this,gp,{writable:!0,value:void 0}),$d(this,yp,{writable:!0,value:void 0}),$d(this,mp,{writable:!0,value:void 0}),Kd(this,"multiVideoes",[]),$d(this,bp,{writable:!0,value:!1}),Kd(this,"isPlaying",!1),Kd(this,"isPaused",!1),$d(this,wp,{writable:!0,value:{play:function(){},pause:function(){},stop:function(){},reset:function(){},timeupdate:function(t,e){},changePlaybackRate:function(t){},hidingControl:function(){},showingControl:function(){},enterFullscreen:function(){},exitFullscreen:function(){},runFullscreen:function(){},changeMediaIndex:function(t){},addSync:function(){},addBookmark:function(){},addScript:function(){},addLanguageScript:function(){},addScene:function(){},addData:function(){},syncupdate:function(t){}}}),$d(this,Ep,{writable:!0,value:{beforePlay:function(t){},autoScroll:function(t,e){},onePageReset:function(){}}}),$d(this,kp,{writable:!0,value:{initialized:function(){},afterLoading:function(){},played:function(){},pause:function(){},stop:function(){},seeked:function(){},seekEnd:function(){},completed:function(){},interacted:function(){},terminated:function(t){}}}),$d(this,Cp,{writable:!0,value:function(){ep(n,xp)&&n.multiVideoes.forEach((function(t){t.DOM.playbackRate=n.speed,t.play()}))}}),$d(this,Op,{writable:!0,value:function(){ep(n,xp)&&n.multiVideoes.forEach((function(t){return t.pause()}))}}),$d(this,Sp,{writable:!0,value:function(){ep(n,xp)&&n.multiVideoes.forEach((function(t){return t.stop()}))}}),Kd(this,"play",Zd(Yd().mark((function t(){var e,r,o,i,a,c,u,l,s;return Yd().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(null===(e=window.event)||void 0===e?void 0:e.target)===(null===(r=n.controls.playButton)||void 0===r?void 0:r.DOM)&&(n.isClickedTargetPlayMode&&(n.stop(),n.languageScript.clickPlay.stop()),null===(u=n.sentencePlay)||void 0===u||u.reset(),n.options.includes(Lt)||null===(l=n.scenePlay)||void 0===l||l.reset(),null===(s=n.playAgain)||void 0===s||s.reset(),ep(n,dp)&&n.rolePlay.stop(),n.controlBtn&&n.controlBtn.addClass("ON")),ep(n,Ep).beforePlay(n.index),n.media.DOM.playbackRate=n.speed,ep(n,ip)&&ep(n,qp).call(n),n.isPlaying=!0,n.isPaused=!1,n.stopTimeupdate(),ep(n,Cp).call(n),n.media.play(),n.isClickedTargetPlayMode||(ep(n,Gp).call(n),n.controls.play()),n.targets.forEach((function(t){return t.play()})),null===(o=n.sync)||void 0===o||o.play(),null===(i=n.script)||void 0===i||i.play(),null===(a=n.sentencePlay)||void 0===a||a.play(),null===(c=n.scenePlay)||void 0===c||c.play(),ep(n,Rp).call(n),n.instance.play(),n.callback.play(),n.callbackOnDT.played();case 19:case"end":return t.stop()}}),t)})))),Kd(this,"pause",Zd(Yd().mark((function t(){var e;return Yd().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.isPlaying=!1,n.isPaused=!0,tp(n,Bp,0),n.stopTimeupdate(),n.controlBtn&&n.controlBtn.removeClass("ON"),ep(n,Gp).call(n),ep(n,Op).call(n),n.media.pause(),n.controls.pause(),n.targets.forEach((function(t){return t.pause()})),null!==(e=n.playAgain)&&void 0!==e&&e.isPlaying&&(n.playAgain.reset(),n.FIRSTDIV.removeClass(bt)),n.instance.pause(),n.callback.pause(),n.callbackOnDT.pause();case 14:case"end":return t.stop()}}),t)})))),Kd(this,"stop",Zd(Yd().mark((function t(){var e,r,o,i,a,c,u;return Yd().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.isPlaying=!1,n.isPaused=!1,tp(n,Bp,0),n.controlBtn&&n.controlBtn.removeClass("ON"),n.callbackOnDT.stop(),n.stopTimeupdate(),ep(n,Gp).call(n),ep(n,Sp).call(n,n.isFullscreenMode),n.media.stop(n.isFullscreenMode),n.controls.stop(),n.targets.forEach((function(t){return t.stop()})),null===(e=n.sync)||void 0===e||e.stop(),null===(r=n.sentencePlay)||void 0===r||r.reset(),null===(o=n.scenePlay)||void 0===o||o.reset(),null===(i=n.rolePlay)||void 0===i||i.stop(),null===(a=n.speak)||void 0===a||a.stop(),n.script&&(n.script.stop(),n.options.includes("scriptReset")&&(n.script.close(),n.isMultiTracks&&n.script.buttons.forEach((function(t){return t.off()})))),null===(c=n.languageScript)||void 0===c||c.stop(),null===(u=n.playAgain)||void 0===u||u.reset(),ep(n,hp)&&ep(n,jp).call(n),ep(n,vp)&&ep(n,Np).call(n),n.instance.stop(),n.callback.stop();case 23:case"end":return t.stop()}}),t)})))),Kd(this,"active",(function(t){n.container.toggleClass(ct,t),!n.controls.isNoControl&&n.controls.container.toggleClass(ct,t)})),Kd(this,"stopTimeupdate",(function(){cancelAnimationFrame(ep(n,op))})),Kd(this,"syncupdate",(function(t){var e,r,o,i,a,c,u;n.isPaused=!0,ep(n,Gp).call(n),tp(n,Bp,t),n.isClickedTargetPlayMode&&(n.isClickedTargetPlayMode=!1,n.stopTimeupdate()),ep(n,cp)&&n.sentencePlay.reset(),null===(e=n.scenePlay)||void 0===e||e.reset(),null===(r=n.playAgain)||void 0===r||r.reset(),null===(o=n.sync)||void 0===o||o.update(t),null===(i=n.script)||void 0===i||i.update(t),null===(a=n.languageScript)||void 0===a||a.update(t,n.isMovingProgress),null===(c=n.sentencePlay)||void 0===c||c.update(t),ep(n,lp)&&n.scenePlay.update(t),null===(u=n.rolePlay)||void 0===u||u.update(t,{isMovingProgress:n.controls.isMovingProgress}),ep(n,xp)&&n.multiVideoes.forEach((function(e){return e.currentTime=t})),n.callback.syncupdate(t)})),Kd(this,"clickedProgress",(function(){var t;null===(t=n.sentencePlay)||void 0===t||t.reset(),ep(n,lp)&&n.scenePlay.reset()})),Kd(this,"update",(function(t){var e;n.currentTime=t,n.syncupdate(t),null===(e=n.controls)||void 0===e||e.update(n)})),Kd(this,"reset",(function(){var t,e,r,o,i,a,c,u,l;n.stop(),null===(t=n.sync)||void 0===t||t.stop(),null===(e=n.script)||void 0===e||e.close(),null===(r=n.controls)||void 0===r||r.reset(),null===(o=n.sentencePlay)||void 0===o||o.reset(),null===(i=n.scenePlay)||void 0===i||i.reset(),null===(a=n.rolePlay)||void 0===a||a.reset(),null===(c=n.speak)||void 0===c||c.stop(),null===(u=n.playAgain)||void 0===u||u.reset(),n.isOpenScript&&(null===(l=n.script)||void 0===l||l.open()),n.instance.reset(n),n.callback.reset(n)})),$d(this,Ip,{writable:!0,value:function(){tp(n,hp,!0),n.container.addClass(on),n.FIRSTDIV.addClass(nn),!n.isPlaying&&n.play(),n.record.start()}}),$d(this,jp,{writable:!0,value:function(){tp(n,hp,!1),n.stop(),n.record.end(),n.container.removeClass(on),n.FIRSTDIV.removeClass(nn)}}),$d(this,Dp,{writable:!0,value:function(){n.record.isPlaying?ep(n,Np).call(n):ep(n,_p).call(n)}}),$d(this,_p,{writable:!0,value:function(){n.stop(),tp(n,vp,!0),n.container.addClass(an),n.FIRSTDIV.addClass(rn),setTimeout((function(){n.play(),n.record.play()}),10)}}),$d(this,Np,{writable:!0,value:function(){tp(n,vp,!1),n.container.removeClass(an),n.FIRSTDIV.removeClass(rn),n.stop(),n.record.stop()}}),$d(this,Ap,{writable:!0,value:function(){n.rolePlay.isPlayingSelectedItem?ep(n,hp)?!n.record.isRecordingOnMediaRecorder&&n.record.startMediaRecorder(n.rolePlay.currentIndex):ep(n,vp)&&!n.record.isPlayingOnRecordedMedia&&n.record.playRecordedAudio(n.rolePlay.currentIndex):(n.record.isRecordingOnMediaRecorder&&n.record.stopMediaRecorder(),n.record.isPlayingOnRecordedMedia&&n.record.stopRecordedAudio())}}),$d(this,Bp,{writable:!0,value:0}),$d(this,Rp,{writable:!0,value:function(){tp(n,op,requestAnimationFrame((function t(){if(n.duration&&n.isPlaying&&n.media.DOM.currentTime>0&&ep(n,Bp)<n.currentTime){var e,r,o,i;if(tp(n,Bp,n.currentTime),!n.isClickedTargetPlayMode&&n.controls.update(n),null===(e=n.sync)||void 0===e||e.update(n.currentTime),null===(r=n.script)||void 0===r||r.update(n.currentTime),null===(o=n.languageScript)||void 0===o||o.update(n.currentTime),ep(n,fp)&&n.rolePlay.update(n.currentTime),n.isPlayAgainMode&&n.playAgain.update(n.currentTime),ep(n,gp)&&n.speak.update(n.currentTime),n.instance.timeupdate(n.currentTime,n.duration),n.callback.timeupdate(n.currentTime,n.duration),n.isMovingProgress)return;if(ep(n,ip)&&n.currentTime>ep(n,ap).end&&(tp(n,Bp,0),n.currentTime=ep(n,ap).start),ep(n,fp)?(n.media.muted(n.rolePlay.isPlayingSelectedItem),n.record&&ep(n,Ap).call(n)):n.media.muted((null===(i=n.currentTimeData)||void 0===i?void 0:i.mute)||!1),ep(n,Mp))return n.pause(),void(n.isPlayAgainMode?(n.playAgain.play(n.rolePlay.clickedItem.index),n.rolePlay.clickedItem=null):(n.syncupdate(0),n.rolePlay.stop()));if(ep(n,Pp))return"language"!==n.type&&(n.media.pause(),ep(n,xp)&&n.multiVideoes.forEach((function(t){return t.pause()}))),n.stopTimeupdate(),n.playAgain.isLast=n.playAgain.playIndex===ep(n,rp).length-1,void n.playAgain.play(n.playAgain.playIndex);if(n.sentencePlay&&n.sentencePlay.update(n.currentTime),ep(n,Tp))return n.pause(),n.syncupdate(0),n.sentencePlay.reset(),void(n.options.includes("noResetNumSync")&&n.sentencePlay.targetOn(n.sentencePlay.clickedItem));if(ep(n,lp)&&n.scenePlay.update(n.currentTime),ep(n,Lp))return n.scenePlay.reset(),n.syncupdate(0),void(n.options.includes(Lt)||"language"==n.type&&n.isLastPlaying?n.stop():n.pause());if(n.isClickedTargetPlayMode&&n.languageScript.clickPlay.update(n.currentTime),Number(n.currentTime.toFixed(3))>=Number(n.duration.toFixed(3)))return n.callbackOnDT.completed(),n.stop(),void ep(n,Fp).call(n)}tp(n,op,requestAnimationFrame(t))})))}}),$d(this,Fp,{writable:!0,value:function(){var t;(null===(t=n.languageScript)||void 0===t?void 0:t.isRunningAutoScroll)&&!n.isClickedTargetPlayMode&&ep(n,Ep).autoScroll(0,ep(n,$p).call(n,{scrollIndex:n.languageScript.scrollIndex}))}}),$d(this,Wp,{writable:!0,value:function(){n.controls=new al(n.container.attr("data-ply-controls"),n),n.controls.playButton&&n.controls.initPlayButton(n),n.controls.pauseButton&&n.controls.initPauseButton(n),n.controls.stopButton&&n.controls.initStopButton(n),n.controls.volumeContainer&&n.controls.initVolume(n),n.controls.progressContainer&&n.controls.initProgress(n),n.controls.timerContainer&&n.controls.initTime(n),n.controlBtn=O(".".concat("js-playerControlBtn","[").concat(Ot,'="').concat(n.index,'"]'))[0],n.controlBtn&&n.controlBtn.addEvent("click",(function(){n.isClickedTargetPlayMode=!1,n.stop(),n.controlBtn.addClass("ON"),n.play()})),n.targets=[].concat(O(".".concat("js-mediaTarget")).filter((function(t){return t.attr(Ot).includes(n.index)}))).map((function(t){return new fl(t,n)})),tp(n,yp,Number(n.controls.container.attr(gn))||Number(n.container.attr(gn))),n.options.forEach((function(t){var e,r,o,i;switch(t){case"speed":n.controls.initSpeed({changePlaybackRate:ep(n,Vp)});break;case"autoRepeat":n.controls.initRepeat({setRepeatTime:function(t){var e=t.start,r=t.end;tp(n,ap,{start:n.duration*e,end:n.duration*r})},activeRepeat:function(t){tp(n,ip,t)}});break;case"record":n.record=new qd(n.container,n.index,{onePageReset:ep(n,Ep).onePageReset}),n.record.autoStart=!1,n.record.ready(),n.recordStartButton=n.container.getEl(".".concat(ye))[0]||M({tag:"button",parent:n.container.DOM,className:"".concat(ye," ").concat("playerRecordStartBtn")}),n.recordEndButton=n.container.getEl(".".concat(me))[0]||M({tag:"button",parent:n.container.DOM,className:"".concat(me," ").concat("playerRecordEndBtn")}),n.recordPlayButton=n.container.getEl(".".concat(be))[0]||M({tag:"button",parent:n.container.DOM,className:"".concat(be," ").concat("playerRecordPlayBtn")}),n.record.startButton=n.recordStartButton,n.record.endButton=n.recordEndButton,n.record.playButton=n.recordPlayButton,null===(e=n.recordPlayButton)||void 0===e||e.addClass("inactive"),null===(r=n.recordStartButton)||void 0===r||r.hover().onclick(ep(n,Ip)),null===(o=n.recordEndButton)||void 0===o||o.hover().onclick(ep(n,jp)),null===(i=n.recordPlayButton)||void 0===i||i.hover().onclick(ep(n,Dp))}})),window.addEventListener("pagehide",(function(){n.callbackOnDT.terminated()}))}}),$d(this,zp,{writable:!0,value:function(){n.controls.timer&&n.controls.timer.update({current:0,duration:n.duration}),n.instance.afterLoading(),n.callbackOnDT.afterLoading(),n.callbackOnDT.initialized()}}),$d(this,Vp,{writable:!0,value:function(t){var e;n.container.attr(ne,t),null===(e=n.controls.container)||void 0===e||e.attr(ne,t),n.media.DOM.playbackRate=t,ep(n,xp)&&n.multiVideoes.forEach((function(e){return e.DOM.playbackRate=t})),n.callback.changePlaybackRate(t),n.callbackOnDT.interacted()}}),$d(this,Gp,{writable:!0,value:function(){n.FIRSTDIV.toggleClass("_player_is_playing",n.isPlaying),n.container.toggleClass(mt,n.isPlaying),n.FIRSTDIV.toggleClass("_player_is_paused",n.isPaused),n.container.toggleClass(yt,n.isPaused),!n.previewThumbnail||n.isPaused||n.isPlaying||n.previewThumbnail.load()}}),$d(this,qp,{writable:!0,value:function(){n.media.currentTime=n.media.currentTime<ep(n,ap).start||n.media.currentTime>ep(n,ap).end?ep(n,ap).start:n.media.currentTime}}),$d(this,Up,{writable:!0,value:function(t){tp(n,gp,!0);var e=t.map((function(t){return null==t.mr?{start:0,end:0}:{start:Oa(t.start),end:Sa(t.end)}}));n.speak=new Js({parent:n.container,type:"ARMR",data:e,callback:{play:function(t){n.FIRSTDIV.addClass(bt)},stop:function(t){n.FIRSTDIV.removeClass(bt)},update:function(t){n.speak.currentData&&t<n.duration?!n.speak.isPlaying&&n.speak.play():n.speak.isPlaying&&n.speak.stop()}}})}}),$d(this,Hp,{writable:!0,value:function(t){var e;tp(n,fp,!0),n.rolePlay=new kf({data:t,container:n.container,controlsContainer:null===(e=n.controls)||void 0===e?void 0:e.container,callback:{afterInit:function(t){n.container.attr(he,t)},clickedCharItem:function(t){var e,r,o,i,a;t.length>0?(null===(r=n.script)||void 0===r||r.container.attr(ve,t),null===(o=n.languageScript)||void 0===o||o.container.attr(ve,t),n.container.attr(ve,t)):(null===(i=n.script)||void 0===i||i.container.DOM.removeAttribute(ve),null===(a=n.languageScript)||void 0===a||a.container.DOM.removeAttribute(ve),n.container.DOM.removeAttribute(ve)),null===(e=n.record)||void 0===e||e.reset()},clickedSyncItem:function(t){var e,r;n.pause(),null===(e=n.scenePlay)||void 0===e||e.reset(),null===(r=n.sentencePlay)||void 0===r||r.reset(),tp(n,dp,!0),tp(n,pp,t.time.end),n.currentTime=t.time.start,n.play()},speakPlay:function(){n.FIRSTDIV.addClass(bt)},speakStop:function(){n.FIRSTDIV.removeClass(bt)},reset:function(){n.rolePlay.stop()}}}),n.rolePlay.stop=function(){n.rolePlay.syncStop(),n.rolePlay.speak.stop(),tp(n,dp,!1),tp(n,pp,null)}}}),$d(this,Yp,{writable:!0,value:function(t){var e;n.isPlayAgainMode=!0,n.playAgain=new zs({data:t,parent:n.container.DOM,callback:{beforePlay:function(t){n.options.includes(jt)&&(n.media.muted(!0),n.media.DOM.currentTime=t.start,n.media.DOM.playbackRate=t.speed)},play:(e=Zd(Yd().mark((function t(e){var r,o,i;return Yd().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:null===(r=n.speak)||void 0===r||r.stop(),null===(o=n.rolePlay)||void 0===o||o.speak.stop(),n.playAgain.speed=n.speed,n.FIRSTDIV.addClass(bt),n.container.addClass("isPlayAgaing"),null===(i=n.languageScript)||void 0===i||i.update(n.currentTime-.1),n.options.includes(jt)&&n.media.play();case 7:case"end":return t.stop()}}),t)}))),function(t){return e.apply(this,arguments)}),stop:function(){if(n.options.includes(jt)&&(n.media.DOM.playbackRate=n.speed),n.FIRSTDIV.removeClass(bt),n.container.removeClass("isPlayAgaing"),!n.isMovingProgress&&n.isPlaying){if("language"===n.type&&(n.playAgain.isLast||n.isClickedTargetPlayMode))return n.playAgain.isLast=!1,n.stop(),void ep(n,Fp).call(n);n.playAgain.playIndex=null,"language"===n.type?n.nextMediaPlay():(n.media.play(),ep(n,xp)&&n.multiVideoes.forEach((function(t){return t.play()}))),ep(n,Rp).call(n)}}}})}}),$d(this,Qp,{writable:!0,value:function(t){n.sentencePlay=new ss({data:t,parent:n.container,callback:{click:function(t){var e,r,o;n.pause(),null===(e=n.controls.repeat)||void 0===e||e.close(),null===(r=n.scenePlay)||void 0===r||r.reset(),null===(o=n.playAgain)||void 0===o||o.reset(),tp(n,cp,!0),tp(n,up,t.time.end),n.currentTime=t.time.start,n.isClickedTargetPlayMode=!1,n.play()}}}),n.sentencePlay.reset=function(){n.sentencePlay.stop(),tp(n,cp,!1),tp(n,up,null)}}}),$d(this,Zp,{writable:!0,value:function(t){var e=JSON.parse(JSON.stringify(t)),n=[];return e.find((function(t){return t.group}))?e.forEach((function(t){t.group&&n.find((function(e){return e.group===t.group}))?n.find((function(e){return e.group===t.group})).end=t.end:n.push(t)})):e.forEach((function(t){return n.push(t)})),n}}),$d(this,Xp,{writable:!0,value:function(t){var e=ep(n,Zp).call(n,t);tp(n,rp,e),n.options.forEach((function(t){switch(t){case"language":if(!n.script)return;n.script.container.addClass("languageScriptContainer"),n.script.mode="language";break;case Tt:ep(n,Qp).call(n,e);break;case"again":ep(n,Yp).call(n,e);break;case It:e.find((function(t){return t.char}))&&ep(n,Hp).call(n,e)}})),t.find((function(t){return t.mr}))&&ep(n,Up).call(n,t)}}),$d(this,$p,{writable:!0,value:function(t){return t.scrollIndex||ep(n,yp)}}),$d(this,Kp,{writable:!0,value:function(t){n.container.toggleClass(kt,t),!n.controls.isNoControl&&n.controls.container.toggleClass(kt,t)}}),Kd(this,"addSync",(function(t){var e=O(".".concat("js-syncContainer")).find((function(t){return t.attr(Ot).includes(n.index)}));e&&(n.sync=new Ol({container:e,data:t}),n.callback.addSync())})),Kd(this,"addBookmark",(function(t){loop((function(){return n.duration})).then((function(){n.bookmark=new gl({container:n.controls.progress.container,data:t.map((function(t){return t.rate=t.time/n.duration*100,t})),callback:{update:function(t){tp(n,Bp,0),n.currentTime=t,n.controls.update(n)}}}),n.callback.addBookmark()}))})),$d(this,Jp,{writable:!0,value:function(t){t.switchRolePlayCharacter&&n.rolePlay&&(n.rolePlay.switchRolePlayCharacter=!0),t.stopOnProgress&&tp(n,bp,!0)}}),Kd(this,"addScript",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=O(".".concat(qt)).find((function(t){return t.attr(Ot).includes(n.index)}));r&&n.controls.scriptButton?(n.script=new Kl({data:t,container:r,playerContainer:n.container,toggleButton:n.controls.scriptButton,toggleButtons:n.controls.scriptButtons,playerIndex:n.index,multiScript:e.multiScript,callback:{open:function(){ep(n,Kp).call(n,!0)},close:function(){ep(n,Kp).call(n,!1)},afterInit:function(t,e){t!==e&&console.error("스크립트 갯수 오류! ---\x3e index: ".concat(n.index,", script: ").concat(t,", time: ").concat(e))},autoScroll:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;ep(n,Ep).autoScroll(t,ep(n,$p).call(n,{scrollIndex:e}))},changeScript:function(t){n.script.isShowing&&n.setTextTrackIndex(t)}}}),n.isOpenScript&&n.script.open()):n.controls.scriptButton,ep(n,Xp).call(n,t),ep(n,Jp).call(n,e),n.callback.addScript()})),Kd(this,"setTextTrackIndex",(function(t){t&&(n.selectedTextTrackIndex=Object.values(n.textTracks).findIndex((function(e){return e.label===t})))})),Kd(this,"afterExitFullscreen",(function(t){0!==n.textTracks.length&&(t?n.isMultiTracks?n.script.buttons.find((function(e){return e.label===t})).DOM.click():n.script.button.DON.click():n.script.close())})),Kd(this,"addLanguageScript",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=O(".".concat(Xt)).find((function(t){return t.attr(Ot).includes(n.index)}));r&&(n.languageScript=new Uf({data:t,container:r,playerContainer:n.container,callback:{open:function(){ep(n,Kp).call(n,!0)},close:function(){ep(n,Kp).call(n,!1)},afterInit:function(t,e){t!==e&&console.error("스크립트 갯수 오류! ---\x3e index: ".concat(n.index,", script: ").concat(t,", time: ").concat(e))},autoScroll:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;!n.isClickedTargetPlayMode&&ep(n,Ep).autoScroll(t,ep(n,$p).call(n,{scrollIndex:e}))},targetPlay:function(){},targetStop:function(){n.isPlaying=!1,n.isClickedTargetPlayMode=!1,tp(n,Bp,0),n.stopTimeupdate(),n.media.stop(n.isFullscreenMode)},targetClick:function(t){n.isClickedTargetPlayMode=!0,n.stop(),n.playAgain&&(n.playAgain.stop(),n.playAgain.isPlayedIndex=null),n.media.setCurrentTime(t.startTime),t.target.scrollTop>=0&&t.target.isScrollMove&&ep(n,Ep).autoScroll(t.target.scrollTop,ep(n,$p).call(n,n.languageScript)),n.play()}}})),ep(n,Xp).call(n,t),ep(n,Jp).call(n,e),n.callback.addLanguageScript()})),Kd(this,"addScene",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n.scenePlay=new Es({parent:n.container,container:e.container||O(".".concat(Jt,"[").concat(Ot,'="').concat(n.index,'"]'))[0],targets:e.targets,data:t,callback:{click:function(t){var e,r,o;("end"===t.time.end||t.time.end>n.duration)&&(t.time.end=n.duration-.02),n.stop(),null===(e=n.sentencePlay)||void 0===e||e.reset(),null===(r=n.controls.repeat)||void 0===r||r.close(),null===(o=n.playAgain)||void 0===o||o.reset(),tp(n,lp,!0),tp(n,sp,"end"===t.time.end?n.duration:t.time.end),n.currentTime=t.time.start,n.isClickedTargetPlayMode=!1,n.play()},stop:function(){n.options.includes(Lt)&&(tp(n,lp,!1),tp(n,sp,null))}}}),n.scenePlay.init=function(){var t=n.scenePlay.times.findIndex((function(t){return t.default}));t>-1&&n.scenePlay.targets[t].on()},n.scenePlay.reset=function(){n.scenePlay.stop(),tp(n,lp,!1),tp(n,sp,null),n.scenePlay.init()},n.scenePlay.init(),n.callback.addScene()})),Kd(this,"addData",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};loop((function(){return ep(n,rp)})).then((function(r){var o=function(t){return r.find((function(e){return e.hasOwnProperty(t)}))};r.forEach((function(e,n){return Y(e,t[n])})),o("char")&&n.options.includes(It)&&ep(n,Hp).call(n,r),n.playAgain&&(o("speed")||o("again"))&&n.playAgain.times.forEach((function(e,n){r[n].speed&&Y(e,{speed:r[n].speed}),!1===t[n].again&&Y(e,{start:void 0,end:void 0})})),o("mr")&&!n.speak&&ep(n,Up).call(n,r),o("group")&&n.options.includes(Tt)&&(n.sentencePlay.container.remove(),ep(n,Qp).call(n,ep(n,Zp).call(n,r))),ep(n,Jp).call(n,e),n.callback.addData()}))})),Kd(this,"disiblePlayAgain",(function(t){loop((function(){return n.playAgain})).then((function(){n.isPlayAgainMode=!t})).catch((function(){})),n.container.toggleClass("isPlayAgainMode",!t)})),Kd(this,"disibleRolePlay",(function(t){loop((function(){return n.rolePlay})).then((function(){tp(n,fp,!t)})).catch((function(){})),n.container.toggleClass("isRolePlayMode",!t)})),Kd(this,"disibleARMR",(function(t){loop((function(){return n.speakPlay})).then((function(){tp(n,gp,!t)})).catch((function(){})),n.container.toggleClass("isARMRMode",!t)})),Kd(this,"disibleMute",(function(t){ep(n,rp).filter((function(t){return t.hasOwnProperty("mute")})).forEach((function(e){e.mute=!t}))})),Y(ep(this,Ep),r),this.FIRSTDIV=O("div")[0],this.parent=e.parent,this.container=e,this.type=e.attr(St),this.index=Number(e.attr(Ot)),this.options=e.attr(Mt)?Q(e.attr(Mt)):[],"language"===this.type){var o=O(".".concat(Xt,"[").concat(Ot,'="').concat(this.index,'"]'))[0];this.media=new dd(o,ep(this,zp))}else this.media=new Na(this.container.getEl(".".concat(ft))[0],ep(this,zp));ep(this,Wp).call(this)}return function(t,e,n){e&&Xd(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"callback",get:function(){return ep(this,wp)},set:function(t){Y(ep(this,wp),t)}},{key:"callbackOnDT",get:function(){return ep(this,kp)}},{key:"currentTime",get:function(){return this.media.currentTime},set:function(t){ep(this,xp)&&this.multiVideoes.forEach((function(e){return e.currentTime=t})),this.media.currentTime=t}},{key:"duration",get:function(){return this.media.duration}},{key:"rate",get:function(){return this.media.currentTime/this.media.duration}},{key:"speed",get:function(){return this.controls.speed?this.controls.speed.value:1}},{key:"timeData",get:function(){return ep(this,rp)}},{key:"isPopMode",get:function(){return window.CONFIG&&window.CONFIG.FULLSCREEN_POP_MODE}},{key:"hasScript",get:function(){return!!this.script}},{key:"isMovingProgress",get:function(){return!!this.controls&&this.controls.isMovingProgress}},{key:"currentTimeData",get:function(){var t,e=this;return null===(t=ep(this,rp))||void 0===t?void 0:t.find((function(t){var n=t.start,r=t.end;return Oa(n)<e.currentTime&&Sa(r)>e.currentTime}))}},{key:"isStopOnProgress",get:function(){return this.isClickedTargetPlayMode&&ep(this,bp)},set:function(t){tp(this,bp,t)}},{key:"isOpenScript",get:function(){return this.options.includes("openScript")}}]),t}();function eh(){return this.multiVideoes.length>0}function nh(){return ep(this,dp)&&this.currentTime>ep(this,pp)}function rh(){var t,e;if(this.playAgain&&(this.isPlayAgainMode||!this.isPlaying)){var n=this.playAgain.isPlayedIndex!==this.playAgain.playIndex&&(null!==(t=this.playAgain.playIndex)&&void 0!==t?t:void 0)>=0&&this.playAgain.times[this.playAgain.playIndex],r=n&&n.end-.02*this.speed<=this.currentTime,o=(null!==(e=this.playAgain.playIndex)&&void 0!==e?e:void 0)&&"language"===this.type&&!this.playAgain.isPlaying&&this.media.isEnded;return r||o}}function oh(){return ep(this,cp)&&this.currentTime>ep(this,up)}function ih(){return ep(this,lp)&&this.currentTime>ep(this,sp)}function ah(t){return ah="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ah(t)}function ch(){ch=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),c=new O(o||[]);return r(a,"_invoke",{value:E(t,n,c)}),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f={};function d(){}function p(){}function h(){}var v={};u(v,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(S([])));y&&y!==e&&n.call(y,i)&&(v=y);var m=h.prototype=d.prototype=Object.create(v);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,a,c){var u=s(t[r],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==ah(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,c)}))}c(u.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function E(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=k(a,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function k(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=s(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:M}}function M(){return{value:void 0,done:!0}}return p.prototype=h,r(m,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:p,configurable:!0}),p.displayName=u(h,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,u(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),u(m,c,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function uh(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function lh(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){uh(i,r,o,a,c,"next",t)}function c(t){uh(i,r,o,a,c,"throw",t)}a(void 0)}))}}function sh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gh(r.key),r)}}function fh(t,e){return fh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},fh(t,e)}function dh(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ph(t){return ph=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ph(t)}function hh(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function vh(t,e,n){return(e=gh(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gh(t){var e=function(t,e){if("object"!==ah(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==ah(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===ah(e)?e:String(e)}function yh(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,mh(t,e,"get"))}function mh(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function bh(t,e){return new Th(t,e)}var wh=new WeakMap,Eh=new WeakMap,kh=new WeakMap,xh=new WeakMap,Ch=new WeakMap,Oh=new WeakMap,Sh=new WeakMap,Mh=new WeakMap,Ph=new WeakMap,Th=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fh(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ph(e);if(n){var o=ph(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return function(t,e){if(e&&("object"===ah(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return dh(t)}(this,t)});function o(t,e){var n,i,a,c,u,l,s;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),vh(dh(n=r.call(this,t,e)),"instance",{afterLoading:function(){},play:function(){yh(dh(n),Eh).call(dh(n))},pause:function(){},stop:function(){},timeupdate:function(){},reset:function(){}}),hh(dh(n),wh,{writable:!0,value:void 0}),vh(dh(n),"selectedTextTrackIndex",0),hh(dh(n),Eh,{writable:!0,value:function(){n.textTrack&&!document.querySelector(".isFullscreenMode")&&Object.values(n.textTracks).forEach((function(t){return t.mode="disabled"}))}}),hh(dh(n),kh,{writable:!0,value:function(){if(yh(dh(n),Ph).call(dh(n)),n.playButton.onclick((function(){n.isPlaying?n.pause():n.play()})),n.controls.zoomButton&&n.controls.initFullscreen(dh(n)),loop((function(){return n.textTrack})).then((function(){Object.values(n.textTracks).forEach((function(t){return t.mode="disabled"})),yh(dh(n),Sh).call(dh(n))})).catch((function(){})),n.controls.initAutoHiding({enter:function(){var t;n.FIRSTDIV.classList.add(xt),null===(t=n.script)||void 0===t||t.container.addClass(ht),n.callback.hidingControl()},cancel:function(){var t;n.FIRSTDIV.classList.remove(xt),null===(t=n.script)||void 0===t||t.container.removeClass(ht),n.callback.showingControl()}}),n.options.includes("quality")&&(n.controls.initVideoQuality({changeVideoQuality:yh(dh(n),Oh)}),n.controls.videoQuality.update(yh(dh(n),wh))),n.container.getEl(".".concat(ft)).length>1){var t=n.container.getEl(".".concat(ft));t.filter((function(t){return t.DOM!==n.media.DOM})).forEach((function(t){return n.multiVideoes.push(new Na(t))})),n.controls.initMultiSources(t,yh(dh(n),Ch))}}}),hh(dh(n),xh,{writable:!0,value:(i=lh(ch().mark((function t(e,r){return ch().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.media.DOM.load(),t.next=3,new Promise((function(t){var e=setInterval((function(){n.media.duration&&(clearInterval(e),t())}),100)}));case 3:n.media.currentTime=r,e&&n.play();case 5:case"end":return t.stop()}}),t)}))),function(t,e){return i.apply(this,arguments)})}),hh(dh(n),Ch,{writable:!0,value:function(t){}}),hh(dh(n),Oh,{writable:!0,value:(a=lh(ch().mark((function t(e){var r,o,i,a;return ch().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=n.isPlaying,o=n.currentTime,n.isPlaying&&n.pause(),i=n.media.DOM.querySelector("source")||n.media.DOM,(a=n.media.name.split("_")).pop(),a.push(e),i.src=n.media.src.replace(n.media.name,a.join("_")),yh(dh(n),xh).call(dh(n),r,o);case 9:case"end":return t.stop()}}),t)}))),function(t){return a.apply(this,arguments)})}),hh(dh(n),Sh,{writable:!0,value:(c=lh(ch().mark((function t(){var e,r,o,i,a,c,u;return ch().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:u=function(t,n){i.forEach((function(r,o){r[t].text.forEach((function(t){M({tag:"p",parent:n,text:t}).attr("data-track-label",e[o].DOM.label)}))}))},e=n.media.getEl("track"),(r=M({parent:n.container.DOM,className:"".concat(qt," ").concat("scriptContainer")})).attr(Ot,n.index),o=[],i=[],a=ch().mark((function t(n){return ch().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t){Ea(e[n].attr("src"),(function(e){ka(e).then((function(e){i.push(e),t()}))}))}));case 2:case"end":return t.stop()}}),t)})),c=0;case 8:if(!(c<e.length)){t.next=13;break}return t.delegateYield(a(c),"t0",10);case 10:c++,t.next=8;break;case 13:i[0].forEach((function(t,e){var n=M({parent:r.DOM,className:"".concat(Ut," ").concat("script")});u(e,n.DOM),o.push(t.time)})),n.addScript(o),n.media.addEvent("play",(function(){var t;"showing"===(null===(t=n.textTrack)||void 0===t?void 0:t.mode)&&n.isPlaying&&yh(dh(n),Mh).call(dh(n))}));case 16:case"end":return t.stop()}}),t)}))),function(){return c.apply(this,arguments)})}),hh(dh(n),Mh,{writable:!0,value:function(){Object.values(n.textTrack.cues).forEach((function(t,e){t.line=n.script.scriptList[e].line?n.script.targets[e].line:80,t.align="center",t.snapToLines=!1}))}}),hh(dh(n),Ph,{writable:!0,value:function(){var t=n.media.attr("poster")||"".concat(n.media.src.split(".mp4")[0],".png");n.poster.style({backgroundImage:"url(".concat(t,")")}),n.poster.DOM.querySelector("video")&&(n.previewThumbnail=n.poster.DOM.querySelector("video"))}}),vh(dh(n),"init",(function(){n.active(n.isShowing)})),n.poster=n.container.getEl(".js-".concat(dt))[0]||M({parent:n.container.DOM,className:dt}),n.playButton=n.container.getEl(".".concat(pt))[0]||M({tag:"button",parent:n.container.DOM,className:pt}).hover(),u=dh(n),l=wh,s=Number(n.container.attr("data-quality-default"))||720,function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(u,mh(u,l,"set"),s),yh(dh(n),kh).call(dh(n)),n}return function(t,e,n){e&&sh(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1})}(o,[{key:"textTracks",get:function(){return this.media.DOM.textTracks}},{key:"textTrack",get:function(){return this.media.DOM.textTracks[this.selectedTextTrackIndex]}},{key:"isMultiTracks",get:function(){return this.media.getEl("track").length>1}},{key:"isShowing",get:function(){return this.media.DOM.offsetWidth>0}}]),o}(th);function Lh(t){return Lh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lh(t)}function Ih(t,e){return Ih=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ih(t,e)}function jh(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dh(t){return Dh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Dh(t)}function _h(t){var e=function(t,e){if("object"!==Lh(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Lh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Lh(e)?e:String(e)}function Nh(t,e){return new Ah(t,e)}var Ah=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ih(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=Dh(e);if(n){var o=Dh(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return function(t,e){if(e&&("object"===Lh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return jh(t)}(this,t)});function o(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),function(t,e,n){(e=_h(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(jh(n=r.call(this,t,e)),"instance",{afterLoading:function(){},play:function(){},pause:function(){},stop:function(){},timeupdate:function(){},reset:function(){}}),n}return function(t,e,n){return Object.defineProperty(t,"prototype",{writable:!1}),t}(o)}(th),Bh={};function Rh(t,e,n){var r=e.items,o=e.resetControls;inheritanceProperties(Bh,n),t.type=t.attr(wr),t.playType=t.type,t.hasIndex=t.attr(Er).replace(/ /g,"").split(",").map((function(t){return Number(t)})),t.items=t.hasIndex.map((function(t){return r.filter((function(e){return e.index===t}))[0]})),t.options=t.attr(kr)?t.attr(kr).replace(/ /g,"").split(","):[],t.repeatCount=Number(t.attr(Or))||1,t.delay=Number(t.attr(Sr))||0,t.speakDelay=Number(t.attr(Mr))||0,t.playIndex=0,t.playing=!1,t.playCount=0,"controller"===t.type?(t.playType="play",t.playButton.onclick((function(){t.isSliderPageMove&&(t.playIndex=Bh.sliderGetCurrentIdx(Number(t.attr(xr)))-1),t.setCallback(),t.play()})),t.pauseButton&&t.pauseButton.onclick((function(){return t.pause()})),t.stopButton&&t.stopButton.onclick((function(){t.stop(),t.isSliderPageMove&&Bh.sliderPageChange(Number(t.attr(xr)),1)}))):t.onclick((function(){t.playing?t.options.includes(Lr)?t.stop():t.pause():(0===t.playIndex&&o(),t.setCallback(),t.play())})),t.options.includes(Pr)&&(t.isSliderPageMove=!0,t.sliderMoveLength=Number(t.attr(Cr))||null),t.options.includes(Tr)&&function(t){var e={};z(e,"shown",(function(){return r[0].matches(".".concat(nt))}));var n=t.getEl(".".concat(mr))[0],r=t.items.map((function(t){return t.getEl(".".concat(yr))})).flat();e.show=function(){r.forEach((function(t){return t.addClass(nt)}))},e.hide=function(){r.forEach((function(t){return t.removeClass(nt)}))},n.onclick((function(){playEfSound("click"),e.shown?e.hide():e.show()}))}(t),t.setCallback=function(){var e="play"===t.playType?"stop":"stopAgain";t.items.forEach((function(n){n.callback={},n.callback[e]=function(){t.playIndex<t.items.length-1?(t.playCount>=t.repeatCount&&(t.playIndex++,t.playCount=0),t.delay>0&&0===t.playCount?t.timeout=setTimeout((function(){return t.play()}),1e3*t.delay):t.play()):t.playCount>=t.repeatCount?(t.stop(),t.isSliderPageMove&&Bh.sliderPageChange(Number(t.attr(xr)),1)):t.play()}}))},t.play=function(){t.playing=!0,clearTimeout(t.timeout),t.playCount<t.repeatCount&&t.playCount++,t.addClass(mt),document.querySelector("div").classList.add("playingWord"),document.querySelector("div").setAttribute("data-playword-index",t.hasIndex[t.playIndex]);var e=t.items[t.playIndex];if(e[t.playType](),t.moveGroupIndex=e.moveGroup,t.isSliderPageMove)if(t.sliderMoveLength){if(0===t.playIndex)Bh.sliderPageChange(Number(t.attr(xr)),1);else if(t.moveGroupIndex>1&&t.moveGroupIndex%t.sliderMoveLength==1){var n=Math.floor(t.moveGroupIndex/t.sliderMoveLength)+1;n!==Bh.sliderGetCurrentIdx(Number(t.attr(xr)))&&Bh.sliderPageChange(Number(t.attr(xr)),n)}}else Bh.sliderPageChange(Number(t.attr(xr)),t.playIndex+1)},t.pause=function(){document.querySelector("div").classList.remove("playingWord"),document.querySelector("div").removeAttribute("data-playword-index"),t.playing=!1,t.removeClass(mt),clearTimeout(t.timeout),t.items.forEach((function(t){t.callback={stop:function(t){},stopAgain:function(t){}},t.stop(),t.stopAgain()}))},t.stop=function(){clearTimeout(t.timeout),document.querySelector("div").classList.remove("playingWord"),document.querySelector("div").removeAttribute("data-playword-index"),t.playCount=0,t.playIndex=0,t.pause()},t.reset=function(){return t.stop()}}function Fh(t){return Fh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fh(t)}function Wh(){Wh=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),c=new O(o||[]);return r(a,"_invoke",{value:E(t,n,c)}),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f={};function d(){}function p(){}function h(){}var v={};u(v,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(S([])));y&&y!==e&&n.call(y,i)&&(v=y);var m=h.prototype=d.prototype=Object.create(v);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,a,c){var u=s(t[r],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==Fh(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,c)}))}c(u.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function E(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=k(a,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function k(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=s(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:M}}function M(){return{value:void 0,done:!0}}return p.prototype=h,r(m,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:p,configurable:!0}),p.displayName=u(h,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,u(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),u(m,c,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function zh(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function Vh(t,e){var n={};return addGetter(n,"speakControls",(function(){return n.controls.filter((function(t){return"speak"===t.type}))})),addGetter(n,"playControls",(function(){return n.controls.filter((function(t){return"play"===t.type}))})),n.audio=new Audio,n._callback={reset:function(t){},offPointer:function(t){},onPointer:function(t){},allStop:function(t){},timeupdate:function(t){},play:function(t){},pause:function(t){},stop:function(t){}},Object.defineProperty(n,"callback",{set:function(t){inheritanceProperties(n._callback,t)},get:function(){return n._callback}}),n.items=t,n.controls=O(".".concat("js-wordPlayControl")),n.controllers=O(".".concat("js-wordPlayController")),n.targets=O(".".concat("js-wordPlayTarget")),n.stopItems=function(t){n.items.forEach((function(e){e.index!==t&&(e.stop(),e.speaking&&e.stopAgain())}))},n.resetControls=function(){n.controls.forEach((function(t){return t.reset()})),n.controllers.forEach((function(t){return t.reset()})),n.callback.reset(n)},n.offPointer=function(){n.items.forEach((function(t){return t.addClass(br)})),n.controls.forEach((function(t){return t.addClass(br)})),n.callback.offPointer(n)},n.onPointer=function(){n.items.forEach((function(t){return t.removeClass(br)})),n.controls.forEach((function(t){return t.removeClass(br)})),n.callback.onPointer(n)},n.stop=function(){n.resetControls(),n.stopItems(),n.callback.allStop(n)},n.reset=function(){return n.stop()},n.targets.forEach((function(t){t.index=t.attr(Er).replace(/ /g,"").split(",").map((function(t){return Number(t)})),x(t)})),n.items.forEach((function(t,e){t.index=e+1,function(t,e){var n,r=e.audio,o=e.stopItems,i=e.resetControls,a=e.offPointer,c=e.onPointer,u=e.targets;e.controls,t.hover(),t.src=t.attr(jr),t.fillTarget=t.getEl("i"),t.targets=u.filter((function(e){return e.index.includes(t.index)})),t.again=Vs({parent:t.DOM}),t.type=t.attr(Dr)||"play",t.moveGroup=Number(t.attr(Nr))||1,t.options=t.attr(_r)?t.attr(_r).replace(/ /g,"").split(","):[],t._callback={stopAgain:function(t){},stop:function(t){}},Object.defineProperty(t,"callback",{set:function(e){inheritanceProperties(t._callback,e)},get:function(){return t._callback}}),t.options.includes(Ar)&&(t.isKeepClassOnSpeak=!0),t.getter("rate",(function(){return r.currentTime/r.duration*100})),t.targetPlay=function(){return t.targets.forEach((function(t){return t.on()}))},t.targetStop=function(){return t.targets.forEach((function(t){return t.off()}))},t.speak=function(){t.speaking=!0,t.play()},t.playAgain=function(){r.muted=!0,t.again.container.addClass(nt),r.play().then((function(){t.targetPlay(),requestAnimationFrame(t.againTimeupdate)}))},t.againTimeupdate=function(){a(),t.addClass(Ir),t.again.update(r.currentTime),t.again.progress.update({rate:t.rate/100}),t.speaking&&r.currentTime<r.duration?requestAnimationFrame(t.againTimeupdate):(t.stopAgain(),t.callback.stopAgain&&t.callback.stopAgain(t))},t.stopAgain=function(){c(),t.speaking=!1,r.pause(),r.muted=!1,t.targetStop(),t.again.container.removeClass(nt),t.removeClass(Ir,mt)},t.play=function(){o(t.index),t.playing=!0,r.src=t.src,r.play().then((function(){t.targetPlay(),requestAnimationFrame(t.timeupdate)})),e.callback.play&&e.callback.play(t)},t.timeupdate=(n=Wh().mark((function n(){var o;return Wh().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.addClass(mt),t.fillTarget.forEach((function(e){return e.style({width:"".concat(t.rate+5,"%")})})),!t.playing){n.next=20;break}if(!(r.currentTime<r.duration)){n.next=7;break}requestAnimationFrame(t.timeupdate),n.next=18;break;case 7:if(t.stop(),!t.speaking){n.next=17;break}if(t.isKeepClassOnSpeak&&t.addClass(mt),!(o=e.speakControls.filter((function(t){return t.playing}))[0])||!o.speakDelay){n.next=14;break}return n.next=14,new Promise((function(e){t.speakDelayTime=setTimeout((function(){return e()}),1e3*o.speakDelay)}));case 14:t.playAgain(),n.next=18;break;case 17:t.callback.stop&&t.callback.stop(t);case 18:n.next=21;break;case 20:t.resetTarget();case 21:e.callback.timeupdate(t);case 22:case"end":return n.stop()}}),n)})),function(){var t=this,e=arguments;return new Promise((function(r,o){var i=n.apply(t,e);function a(t){zh(i,r,o,a,c,"next",t)}function c(t){zh(i,r,o,a,c,"throw",t)}a(void 0)}))}),t.pause=function(){t.playing=!1,r.pause(),t.targetStop(),e.callback.pause(t)},t.stop=function(){clearTimeout(t.speakDelayTime),t.pause(),t.resetTarget(),r.currentTime=.001,e.callback.stop(t)},t.resetTarget=function(){t.removeClass(mt),t.fillTarget.forEach((function(t){return t.style({width:""})}))},t.onclick((function(){i(),t.playing?t.stop():"speak"===t.type?t.speak():t.play()}))}(t,n)})),n.controls.forEach((function(t,r){Rh(t,n,e)})),n.controllers.forEach((function(t,r){t.playButton=t.getEl(".js-play")[0],t.pauseButton=t.getEl(".js-pause")[0],t.stopButton=t.getEl(".js-stop")[0],Rh(t,n,e)})),window.pushAudio(n.audio),n}for(var Gh=new Uint32Array(256),qh=0;qh<256;qh++){for(var Uh=qh,Hh=0;Hh<8;Hh++)Uh=0!=(1&Uh)?3988292384^Uh>>>1:Uh>>>1;Gh[qh]=Uh}var Yh=n(187);function Qh(t){return Qh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qh(t)}function Zh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tv(r.key),r)}}function Xh(t,e){return Xh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Xh(t,e)}function $h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kh(t){return Kh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Kh(t)}function Jh(t,e,n){return(e=tv(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tv(t){var e=function(t,e){if("object"!==Qh(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Qh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Qh(e)?e:String(e)}var ev=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xh(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=Kh(e);if(n){var o=Kh(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return function(t,e){if(e&&("object"===Qh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return $h(t)}(this,t)});function o(t,e,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),Jh($h(i=r.call(this)),"context",void 0),Jh($h(i),"playbackRate",1),Jh($h(i),"_apng",void 0),Jh($h(i),"_prevFrame",void 0),Jh($h(i),"_prevFrameData",void 0),Jh($h(i),"_currentFrameNumber",0),Jh($h(i),"_ended",!1),Jh($h(i),"_paused",!0),Jh($h(i),"_numPlays",0),i._apng=t,i.context=e,i.stop(),n&&i.play(),i}return function(t,e,n){e&&Zh(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1})}(o,[{key:"currentFrameNumber",get:function(){return this._currentFrameNumber}},{key:"currentFrame",get:function(){return this._apng.frames[this._currentFrameNumber]}},{key:"renderNextFrame",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._currentFrameNumber=t||(this._currentFrameNumber+1)%this._apng.frames.length,this._currentFrameNumber===this._apng.frames.length-1&&(this._numPlays++,0!==this._apng.numPlays&&this._numPlays>=this._apng.numPlays&&(this.isEndFrame||(this._ended=!0),this._paused=!0)),this._prevFrame&&1==this._prevFrame.disposeOp?this.context.clearRect(this._prevFrame.left,this._prevFrame.top,this._prevFrame.width,this._prevFrame.height):this._prevFrame&&2==this._prevFrame.disposeOp&&this.context.putImageData(this._prevFrameData,this._prevFrame.left,this._prevFrame.top);var e=this.currentFrame;this._prevFrame=e,this._prevFrameData=null,2==e.disposeOp&&(this._prevFrameData=this.context.getImageData(e.left,e.top,e.width,e.height)),0==e.blendOp&&this.context.clearRect(e.left,e.top,e.width,e.height),this.context.drawImage(e.imageElement,e.left,e.top),this.emit("frame",this._currentFrameNumber),this._ended&&this.emit("end")}},{key:"paused",get:function(){return this._paused}},{key:"ended",get:function(){return this._ended}},{key:"play",value:function(){var t=this;this.emit("play"),this._ended&&this.stop(),this._paused=!1;var e=performance.now()+this.currentFrame.delay/this.playbackRate;this.tick=function(n){if(!t._ended&&!t._paused){if(n>=e){for(;n-e>=t._apng.playTime/t.playbackRate;)e+=t._apng.playTime/t.playbackRate,t._numPlays++;do{t.renderNextFrame(),e+=t.currentFrame.delay/t.playbackRate}while(!t._ended&&n>e)}requestAnimationFrame(t.tick)}},requestAnimationFrame(this.tick)}},{key:"pause",value:function(){this._paused||(this.emit("pause"),this._paused=!0)}},{key:"stop",value:function(){this.emit("stop"),cancelAnimationFrame(this.tick),this._numPlays=0,this._ended=!1,this._paused=!0,this._currentFrameNumber=-1,this.context.clearRect(0,0,this._apng.width,this._apng.height),this.renderNextFrame()}}]),o}(n.n(Yh)());function nv(t){return nv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nv(t)}function rv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ov(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cv(r.key),r)}}function iv(t,e,n){return e&&ov(t.prototype,e),n&&ov(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function av(t,e,n){return(e=cv(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cv(t){var e=function(t,e){if("object"!==nv(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==nv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===nv(e)?e:String(e)}var uv=function(){function t(){rv(this,t),av(this,"width",0),av(this,"height",0),av(this,"numPlays",0),av(this,"playTime",0),av(this,"frames",[])}return iv(t,[{key:"createImages",value:function(){return Promise.all(this.frames.map((function(t){return t.createImage()})))}},{key:"getPlayer",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.createImages().then((function(){return new ev(e,t,n)}))}}]),t}(),lv=function(){function t(){rv(this,t),av(this,"left",0),av(this,"top",0),av(this,"width",0),av(this,"height",0),av(this,"delay",0),av(this,"disposeOp",0),av(this,"blendOp",0),av(this,"imageData",null),av(this,"imageElement",null)}return iv(t,[{key:"createImage",value:function(){var t=this;return this.imageElement?Promise.resolve():new Promise((function(e,n){var r=URL.createObjectURL(t.imageData);t.imageElement=document.createElement("img"),t.imageElement.onload=function(){URL.revokeObjectURL(r),e()},t.imageElement.onerror=function(){URL.revokeObjectURL(r),t.imageElement=null,n(new Error("Image creation error"))},t.imageElement.src=r}))}}]),t}(),sv=new Error("Not a PNG"),fv=new Error("Not an animated PNG"),dv=new Uint8Array([137,80,78,71,13,10,26,10]);function pv(t){var e=new Uint8Array(t);if(Array.prototype.some.call(dv,(function(t,n){return t!==e[n]})))return sv;var n=!1;if(hv(e,(function(t){return!(n="acTL"===t)})),!n)return fv;var r=[],o=[],i=null,a=null,c=0,u=new uv;if(hv(e,(function(t,e,n,l){var s=new DataView(e.buffer);switch(t){case"IHDR":i=e.subarray(n+8,n+8+l),u.width=s.getUint32(n+8),u.height=s.getUint32(n+12);break;case"acTL":u.numPlays=s.getUint32(n+8+4);break;case"fcTL":a&&(u.frames.push(a),c++),(a=new lv).width=s.getUint32(n+8+4),a.height=s.getUint32(n+8+8),a.left=s.getUint32(n+8+12),a.top=s.getUint32(n+8+16);var f=s.getUint16(n+8+20),d=s.getUint16(n+8+22);0===d&&(d=100),a.delay=1e3*f/d,a.delay<=10&&(a.delay=100),u.playTime+=a.delay,a.disposeOp=s.getUint8(n+8+24),a.blendOp=s.getUint8(n+8+25),a.dataParts=[],0===c&&2===a.disposeOp&&(a.disposeOp=1);break;case"fdAT":a&&a.dataParts.push(e.subarray(n+8+4,n+8+l));break;case"IDAT":a&&a.dataParts.push(e.subarray(n+8,n+8+l));break;case"IEND":o.push(gv(e,n,12+l));break;default:r.push(gv(e,n,12+l))}})),a&&u.frames.push(a),0==u.frames.length)return fv;var l=new Blob(r),s=new Blob(o);return u.frames.forEach((function(t){var e=[];e.push(dv),i.set(mv(t.width),0),i.set(mv(t.height),4),e.push(yv("IHDR",i)),e.push(l),t.dataParts.forEach((function(t){return e.push(yv("IDAT",t))})),e.push(s),t.imageData=new Blob(e,{type:"image/png"}),delete t.dataParts,e=null})),u}function hv(t,e){var n,r,o,i=new DataView(t.buffer),a=8;do{r=i.getUint32(a),o=e(n=vv(t,a+4,4),t,a,r),a+=12+r}while(!1!==o&&"IEND"!=n&&a<t.length)}function vv(t,e,n){var r=Array.prototype.slice.call(t.subarray(e,e+n));return String.fromCharCode.apply(String,r)}function gv(t,e,n){var r=new Uint8Array(n);return r.set(t.subarray(e,e+n)),r}var yv=function(t,e){var n=t.length+e.length,r=new Uint8Array(n+8),o=new DataView(r.buffer);o.setUint32(0,e.length),r.set(function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(t),4),r.set(e,8);var i=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1,r=e,o=e+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length-e);r<o;r++)n=n>>>8^Gh[255&(n^t[r])];return-1^n}(r,4,n);return o.setUint32(n+4,i),r},mv=function(t){return new Uint8Array([t>>>24&255,t>>>16&255,t>>>8&255,255&t])};function bv(t){return bv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bv(t)}function wv(){wv=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),c=new O(o||[]);return r(a,"_invoke",{value:E(t,n,c)}),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f={};function d(){}function p(){}function h(){}var v={};u(v,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(S([])));y&&y!==e&&n.call(y,i)&&(v=y);var m=h.prototype=d.prototype=Object.create(v);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,a,c){var u=s(t[r],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==bv(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,c)}))}c(u.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function E(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=k(a,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function k(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=s(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:M}}function M(){return{value:void 0,done:!0}}return p.prototype=h,r(m,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:p,configurable:!0}),p.displayName=u(h,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,u(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),u(m,c,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function Ev(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xv(r.key),r)}}function kv(t,e,n){return(e=xv(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xv(t){var e=function(t,e){if("object"!==bv(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==bv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===bv(e)?e:String(e)}function Cv(t,e){var n=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}(t,e);return function(t,e){return e.get?e.get.call(t):e.value}(t,n)}function Ov(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}var Sv="data-apng-opts",Mv="data-apng-speed",Pv="isPaused",Tv="isPlaying";function Lv(){var t;return t=wv().mark((function t(e){return wv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.send(null),n.onload=function(){if(200==n.status||0===n.status)return t(n.response)}})));case 1:case"end":return t.stop()}}),t)})),Lv=function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Ov(i,r,o,a,c,"next",t)}function c(t){Ov(i,r,o,a,c,"throw",t)}a(void 0)}))},Lv.apply(this,arguments)}var Iv,jv=new WeakMap,Dv=function(){function t(e){var n,r,o,i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o={writable:!0,value:{play:function(t){},pause:function(t){},stop:function(t){},timeupdate:function(t){}}},function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(n=this,r=jv),r.set(n,o),kv(this,"timeupdate",(function(){var t;requestAnimationFrame((function e(){t!=i.player.currentFrameNumber&&(t=i.player.currentFrameNumber,i.callback.timeupdate(i)),i.player.paused?i.player.ended&&(i.isLoop?setTimeout((function(){return i.play()}),50):i.stop()):requestAnimationFrame(e)}))})),kv(this,"togglePlay",(function(){i.player.paused||i.player.ended?i.play():i.pause()})),kv(this,"play",(function(){i.isEndFrame&&(i.player.isEndFrame=i.isEndFrame),i.player.play(),i.container.removeClass(Pv).addClass(Tv),i.callback.play(i),i.timeupdate()})),kv(this,"pause",(function(){i.player.pause(),i.container.removeClass(Tv).addClass(Pv),i.callback.pause(i)})),kv(this,"stop",(function(){i.player.stop(),i.container.removeClass(Tv,Pv),i.callback.stop(i)})),this.container=e.hover(),this.options=this.container.attr(Sv)?this.container.attr(Sv).replace(/ /g,"").split(","):[],this.canvas=M({tag:"canvas",parent:this.container.DOM,className:"apngCanvas"}),this.imageSrc=e.attr("data-src"),this.isCreatePlayButton=this.options.includes("playButton"),this.isClickableCanvas=this.options.includes("clickableCanvas"),this.isAutoPlay=this.options.includes("autoPlay"),this.isLoop=this.options.includes("loop"),this.isEndFrame=this.options.includes("endFrame"),this.isCreatePlayButton&&(this.playButton=M({tag:"button",parent:this.container.DOM,className:"apngPlayBtn"}).hover(),this.playButton.onclick(this.togglePlay)),function(t){return Lv.apply(this,arguments)}(this.imageSrc).then((function(t){var e=pv(t);e.playbackRate=e.playTime/e.frames.length,i.canvas.DOM.width=e.width,i.canvas.DOM.height=e.height,i.context=i.canvas.DOM.getContext("2d"),i.frameLength=e.frames.length,i.duration=(i.frameLength-1)/e.playbackRate,e.getPlayer(i.context).then((function(t){i.player=t,i.player.playbackRate=i.container.attr(Mv)?Number(i.container.attr(Mv)):1,i.isAutoPlay&&i.play()}))})),this.isClickableCanvas&&this.canvas.onclick(this.togglePlay)}return function(t,e,n){e&&Ev(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"callback",get:function(){return Cv(this,jv)},set:function(t){inheritanceProperties(Cv(this,jv),t)}},{key:"currentFrameNumber",get:function(){return this.player.currentFrameNumber}},{key:"currentFrame",get:function(){return this.player.currentFrame}}]),t}(),_v=(null===(Iv=window.CONFIG)||void 0===Iv?void 0:Iv.SND_SELF_CHECK)||"click";function Nv(t){var e={};addGetter(e,"clickedItems",(function(){return n.filter((function(t){return t.clicked}))})),e._callback={click:function(t,e){},reset:function(t){}},Object.defineProperty(e,"callback",{set:function(t){inheritanceProperties(e._callback,t)},get:function(){return e._callback}});var n=t.getEl(".".concat("js-selfCheckItem"));function r(){n.forEach((function(t){return t.off()}))}return n.forEach((function(t,o){t.index=o,t.clicked=!1,t.on=function(){t.clicked=!0,t.addClass(nt,En)},t.off=function(){t.clicked=!1,t.removeClass(nt,En)},t.hover(),t.onclick((function(){!function(t){if(e.clickedItems.length===t.index+1&&t.clicked)for(var o=0;o<=t.index;o++)n[o].off();else{playEfSound&&playEfSound(_v),r();for(var i=0;i<=t.index;i++)n[i].on()}}(t),e.callback.click(e,t)})),t.DOM.addEventListener("animationend",(function(e){e.animationName===En&&t.removeClass(En)}))})),e.container=t,e.items=n,e.reset=function(){r(),e.callback.reset(e)},e}function Av(t){return Av="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Av(t)}function Bv(){Bv=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),c=new O(o||[]);return r(a,"_invoke",{value:E(t,n,c)}),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f={};function d(){}function p(){}function h(){}var v={};u(v,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(S([])));y&&y!==e&&n.call(y,i)&&(v=y);var m=h.prototype=d.prototype=Object.create(v);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,a,c){var u=s(t[r],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==Av(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,c)}))}c(u.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function E(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=k(a,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function k(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=s(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:M}}function M(){return{value:void 0,done:!0}}return p.prototype=h,r(m,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:p,configurable:!0}),p.displayName=u(h,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,u(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),u(m,c,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function Rv(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function Fv(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Rv(i,r,o,a,c,"next",t)}function c(t){Rv(i,r,o,a,c,"throw",t)}a(void 0)}))}}function Wv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Vv(r.key),r)}}function zv(t,e,n){return(e=Vv(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vv(t){var e=function(t,e){if("object"!==Av(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Av(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Av(e)?e:String(e)}function Gv(t,e){var n=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}(t,e);return function(t,e){return e.get?e.get.call(t):e.value}(t,n)}var qv,Uv=new WeakMap,Hv=function(){function t(e){var n,r,o,i,a=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),i={writable:!0,value:{scroll:function(t,e){},startPos:function(t){},endPos:function(t){},reset:function(t){}}},function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(r=this,o=Uv),o.set(r,i),zv(this,"init",Fv(Bv().mark((function t(){var e,n,r;return Bv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t){return setTimeout(t,10)}));case 2:if(e=a.horizontal?a.scrollBox.DOM.offsetWidth:a.scrollBox.DOM.offsetHeight,n=a.horizontal?a.scrollBox.DOM.scrollWidth:a.scrollBox.DOM.scrollHeight,!(0==e||e>=n)){t.next=6;break}return t.abrupt("return",!1);case 6:a.scrollBg||a.browserScroll||(r=a.horizontal?"".concat(dn," ").concat("hscrollBg"):dn,a.scrollBg=M({parent:a.container.DOM,className:r}),a.scrollSize=M({parent:a.scrollBg.DOM,className:"scrollSize"}),a.scrollMove=M({parent:a.scrollSize.DOM,className:"scrollMove"}),a.btnMove&&(a.scrollBtnContainer=M({parent:a.scrollMove.DOM,className:pn}),a.scrollBtnUp=M({parent:a.scrollBtnContainer.DOM,className:"".concat(hn," ").concat(ut)}),a.scrollBtnDown=M({parent:a.scrollBtnContainer.DOM,className:vn}),a.btnMovePostion=a.container.attr("data-btn-move").split(",")),a.scrollEvent(),a.dragMove&&a.dragEvent(),a.btnMove&&a.btnEvent()),!a.scrollBtnContainer&&a.browserScroll&&(a.scrollBtnContainer=M({parent:a.container.DOM,className:pn,prepend:!0}),a.scrollBtnUp=M({tag:"button",parent:a.scrollBtnContainer.DOM,className:"".concat(hn," ").concat(ut)}),a.scrollBtnDown=M({tag:"button",parent:a.scrollBtnContainer.DOM,className:vn}),a.scrollBtnUp.attr("aria-label","스크롤 상단 이동 버튼").attr("title","스크롤 최상단입니다."),a.scrollBtnDown.attr("aria-label","스크롤 하단 이동 버튼"),a.setBrowserScroll());case 10:case"end":return t.stop()}}),t)})))),zv(this,"setBrowserScroll",(function(){var t=a.scrollBox;t.addEvent("scroll",(function(){a.scrollBtnUp.removeClass(ut),a.scrollBtnDown.removeClass(ut),a.scrollBtnUp.attr("title",""),a.scrollBtnDown.attr("title","");var e=t.DOM.scrollTop;0==e?(a.scrollBtnUp.addClass(ut),a.scrollBtnUp.attr("title","스크롤 최상단입니다.")):e+t.DOM.offsetHeight>=t.DOM.scrollHeight-3&&(a.scrollBtnDown.addClass(ut),a.scrollBtnDown.attr("title","스크롤 최하단입니다."))})),a.scrollBtnUp.addEvent(lt,(function(){return e("up")})),a.scrollBtnDown.addEvent(lt,(function(){return e("down")}));var e=function(e){var n=t.DOM.scrollTop;t.DOM.scrollTop="down"==e?n+40:n-40}})),zv(this,"scrollEvent",(function(){var t=a.scrollBox,e=a.scrollBg,n=t.DOM,r=!1;t.addEvent("mousewheel",(function(t){if(t.preventDefault(),t.stopPropagation(),"none"==e.computed.display)return!1;var r=a.horizontal?(n.scrollWidth-n.offsetWidth)/5:(n.scrollHeight-n.offsetHeight)/5,o=r<100?r:100,i=a.horizontal?n.scrollLeft:n.scrollTop;a.horizontal?t.deltaY>0?n.scrollLeft=i+o:n.scrollLeft=i-o:t.deltaY>0?n.scrollTop=i+o:n.scrollTop=i-o,a.setScroll()}));var o=function(t){if(r){t.preventDefault(),t.stopPropagation();var e=getZoomRate(a.scrollBg.DOM),o=Number(a.scrollMove.attr(mn)),i=a.horizontal?a.scrollSize.width-a.scrollMove.width:a.scrollSize.height-a.scrollMove.height,c=o+((a.horizontal?t.clientX||t.touches[0].pageX:t.clientY||t.touches[0].pageY)/e-Number(a.scrollMove.attr(bn)));c<0&&(c=0),c>i&&(c=i);var u=c/i,l=a.horizontal?n.scrollWidth-n.offsetWidth:n.scrollHeight-n.offsetHeight;a.horizontal?n.scrollLeft=l*u:n.scrollTop=l*u,a.setScroll()}},i=function t(){r&&(r=!1),document.removeEventListener("mousemove",o),document.removeEventListener("touchmove",o),document.removeEventListener("mouseup",t),document.removeEventListener("touchend",t)};a.scrollMove.addEvent("mousedown touchstart",(function(t){if(t.target===t.currentTarget){r=!0;var e=getZoomRate(a.scrollBg.DOM),n=a.horizontal?a.scrollMove.left:a.scrollMove.top,c=a.horizontal?t.clientX||t.touches[0].pageX:t.clientY||t.touches[0].pageY;a.scrollMove.attr(mn,n),a.scrollMove.attr(bn,c/e),document.addEventListener("mousemove",o),document.addEventListener("touchmove",o),document.addEventListener("mouseup",i),document.addEventListener("touchend",i)}}))})),zv(this,"dragEvent",(function(){tt({dragObj:a.scrollBox.DOM,callback:{start:function(t,e){t.start=a.horizontal?a.scrollBox.DOM.scrollLeft:a.scrollBox.DOM.scrollTop},move:function(t,e){var n=a.horizontal?t.start-t.moveX:t.start-t.moveY;a.horizontal?(a.scrollBox.DOM.scrollLeft=n,(t.moveX>5||t.moveX<-5)&&a.scrollBox.style({"pointer-events":"none"})):(a.scrollBox.DOM.scrollTop=n,(t.moveY>5||t.moveY<-5)&&a.scrollBox.style({"pointer-events":"none"})),a.setScroll()},end:function(t,e){a.scrollBox.style({"pointer-events":""})}}})})),zv(this,"btnEvent",(function(){a.scrollBtnUp.addEvent(lt,(function(){return t("up")})),a.scrollBtnDown.addEvent(lt,(function(){return t("down")}));var t=function(t){var e,n=a.scrollBox.DOM,r=a.horizontal?n.scrollLeft:n.scrollTop;a.btnMovePostion.forEach((function(t,n){r>=Number(t)&&(e=n)})),"up"==t?a.moveScroll(Number(a.btnMovePostion[e-1])):a.moveScroll(Number(a.btnMovePostion[e+1]))}})),zv(this,"setScroll",(function(){var t=a.scrollBox.DOM;loop((function(){return a.scrollSize})).then((function(){var e=setInterval((function(){var e=a.horizontal?t.scrollWidth-t.offsetWidth:t.scrollHeight-t.offsetHeight,n=a.horizontal?t.scrollLeft:t.scrollTop,r=n/e,o=a.horizontal?a.scrollSize.width-a.scrollMove.width:a.scrollSize.height-a.scrollMove.height;a.btnMove&&a.scrollBtnUp.removeClass(ut),a.btnMove&&a.scrollBtnDown.removeClass(ut);var i=o*r;i<=0?(i=0,a.btnMove&&a.scrollBtnUp.addClass(ut),a.callback.startPos(a)):i>=o&&(i=o,a.btnMove&&a.scrollBtnDown.addClass(ut),a.callback.endPos(a)),a.horizontal?a.scrollMove.style({left:"".concat(i,"px")}):a.scrollMove.style({top:"".concat(i,"px")}),a.callback.scroll(a,n)}),10);setTimeout((function(){return clearInterval(e)}),500)})).catch((function(t){}))})),zv(this,"moveScroll",(n=Fv(Bv().mark((function t(e){var n,r;return Bv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=a.horizontal?a.scrollBox.DOM.offsetWidth:a.scrollBox.DOM.offsetHeight,r=a.horizontal?a.scrollBox.DOM.scrollWidth:a.scrollBox.DOM.scrollHeight,!(0==n||n>=r)){t.next=4;break}return t.abrupt("return",!1);case 4:a.horizontal?a.scrollBox.DOM.scrollLeft=e:a.scrollBox.DOM.scrollTop=e,a.setScroll();case 6:case"end":return t.stop()}}),t)}))),function(t){return n.apply(this,arguments)})),zv(this,"reset",(function(){var t,e;null!=a.container.findParent(".".concat(We))&&(a.horizontal?(a.scrollBox.DOM.scrollLeft=0,null===(t=a.scrollMove)||void 0===t||t.style({left:"0px"})):(a.scrollBox.DOM.scrollTop=0,null===(e=a.scrollMove)||void 0===e||e.style({top:"0px"}))),a.callback.reset(a)})),this.binding(),this.container=e,this.index=Number(e.attr(gn))||e.index,O(".".concat("js-scrollBox")).forEach((function(t,n){t.index=Number(t.attr(gn))||n,t.index===e.index&&(a.scrollBox=t)})),this.options=e.attr(yn)?e.attr(yn).replace(/ /g,"").split(","):[],this.options.forEach((function(t){a[t]=!0})),this.init()}return function(t,e,n){e&&Wv(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"callback",get:function(){return Gv(this,Uv)},set:function(t){Y(Gv(this,Uv),t)}},{key:"binding",value:function(){this.init=this.init.bind(this),this.scrollEvent=this.scrollEvent.bind(this),this.dragEvent=this.dragEvent.bind(this),this.btnEvent=this.btnEvent.bind(this),this.setBrowserScroll=this.setBrowserScroll.bind(this),this.setScroll=this.setScroll.bind(this),this.moveScroll=this.moveScroll.bind(this),this.reset=this.reset.bind(this)}}]),t}();function Yv(t){var e={},n=Number(t.attr(Rr)),r=O(".".concat("js-clickTarget","[").concat(Rr,'="').concat(n,'"]')),o=O(".".concat("js-closeClickItem","[").concat(Rr,'="').concat(n,'"]'));function i(){t.opened=!0,t.on(),r.forEach((function(t){t.timeout=setTimeout((function(){return t.on()}),1e3*t.time)})),e.callback.open(e,t)}function a(){t.opened=!1,t.off(),r.forEach((function(t){clearTimeout(t.timeout),t.off()})),e.callback.close(e,t)}return e.index=n,t.opened=!1,t.hover(),x(t),e._callback={open:function(t,e){},close:function(t,e){},reset:function(t){}},Object.defineProperty(e,"callback",{set:function(t){inheritanceProperties(e._callback,t)},get:function(){return e._callback}}),r.forEach((function(t){t.time=Number(t.attr("data-target-time"))||.01,x(t)})),t.onclick((function(){t.opened?a():i()})),o.forEach((function(t){t&&t.onclick((function(){return a()}))})),e.item=t,e.targets=r,e.open=i,e.close=a,e.reset=function(){a(),e.callback.reset(e)},e}function Qv(t,e){var n;t.attr(Wr)||t.attr(Wr,e),t.index=Number(t.attr(Wr)),t.attr(zr)||t.attr(zr,50),t.startPer=Number(t.attr(zr)),t.container=t,t.imgContainer=t.getEl(".".concat("js-comparisonImgConatiner"))[0],t.img=t.getEl(".".concat("js-comparisonImg")),t.label=t.getEl(".".concat("js-comparisonLabel")),t.dragbar=t.getEl(".".concat("js-comparisonDragBar"))[0],t.dragbarArrow=t.dragbar.getEl("div"),t._callback={start:function(t){},move:function(t){},end:function(t){},reset:function(t){}},Object.defineProperty(t,"callback",{set:function(e){inheritanceProperties(t._callback,e)},get:function(){return t._callback}});var r=function(e){e.preventDefault(),e.stopPropagation();var r=b(t.DOM),o=(e.clientX||e.touches[0].pageX)/r-n,i=S(t.DOM).x/r;t.numberMove((o-i)/(t.imgContainer.width/100)),t.callback.move(t)},o=function e(){document.removeEventListener("mousemove",r),document.removeEventListener("touchmove",r),document.removeEventListener("mouseup",e),document.removeEventListener("touchend",e),t.callback.end(t)};return t.dragbar.addEvent("mousedown touchstart",(function(e){e.preventDefault(),e.stopPropagation();var i=b(t.DOM),a=(e.clientX||e.touches[0].pageX)/i;n=a-S(t.dragbar.DOM).x/i,document.addEventListener("mousemove",r),document.addEventListener("touchmove",r),document.addEventListener("mouseup",o),document.addEventListener("touchend",o),t.callback.start(t)})),t.numberMove=function(e){var n=e,r=t.dragbar.width,o=(t.imgContainer.width-r)/(t.imgContainer.width/100);e>=100?e=100:e<=0&&(e=0),n>=o?n=o:n<=0&&(n=0);var i=100-e;t.img[0].style({width:"".concat(e,"%")}),t.img[0].getEl("img")[0].style({opacity:"".concat(e/100)}),t.img[1].style({width:"".concat(i,"%")}),t.dragbar.style({left:"".concat(n,"%")}),t.label.forEach((function(t){return t.addClass(ut)})),t.dragbarArrow.forEach((function(t){return t.addClass(ut)})),e>=45&&e<=60?(t.label.forEach((function(t){return t.removeClass(ut)})),t.dragbarArrow.forEach((function(t){return t.removeClass(ut)}))):e>60?(t.label[0].removeClass(ut),t.dragbarArrow[0].removeClass(ut)):(t.label[1].removeClass(ut),t.dragbarArrow[1].removeClass(ut))},t.reset=function(){t.numberMove(t.startPer),t.callback.reset(t)},t.numberMove(t.startPer),t}var Zv=(null===(qv=window.CONFIG)||void 0===qv?void 0:qv.SND_MAGNIFY_CLICK)||"click";function Xv(t){var e={};addGetter(e,"centerForIndicator",(function(){return{y:t.height/2-e.indicator.height/2,x:t.width/2-e.indicator.width/2}})),addGetter(e,"center",(function(){return{y:t.height/2,x:t.width/2}})),e._callback={start:function(t){},move:function(t){},end:function(t){},reset:function(t){}},Object.defineProperty(e,"callback",{set:function(t){inheritanceProperties(e._callback,t)},get:function(){return e._callback}});var n=Number(t.attr(Ur)),r=Number(t.attr("data-mag-scale"))||3,o=O(".".concat("js-magnifyBtn","[").concat(Ur,'="').concat(n,'"]'));o.forEach((function(t){t.onclick((function(){playEfSound&&playEfSound(Zv),e.playing?e.end():e.start()}))})),e.playing=!1;var i=function(n){var o=(n.x/t.width).toFixed(5),i=(n.y/t.height).toFixed(5),a=t.height*r-t.height,c=t.width*r-t.width,u=-t.height*r,l=-t.width*r;return{top:u*i+a/2+e.indicator.halfHeight,left:l*o+c/2+e.indicator.halfWidth}},a=function(e){var n=b(t.DOM);return{x:(w(e).x-t.bounding.x)/n,y:(w(e).y-t.bounding.y)/n}},c=function(t){var n=a(t),r=i(n);e.indicator.style({left:"".concat(n.x-e.indicator.halfWidth,"px"),top:"".concat(n.y-e.indicator.halfHeight,"px")}),e.clone.style({top:"".concat(r.top,"px"),left:"".concat(r.left,"px")}),e.callback.move(e)};return e.init=function(){var n=window.event?{x:Math.min(Math.max(a(window.event).x,0),t.width),y:Math.min(Math.max(a(window.event).y,0),t.height)}:{x:0,y:0};e.clone&&e.clone.style({width:"".concat(t.width,"px"),height:"".concat(t.height,"px"),top:"".concat(i(n).top,"px"),left:"".concat(i(n).left,"px"),transform:"scale(".concat(r,")")}),e.indicator&&e.indicator.style({left:"".concat(n.x-e.indicator.halfWidth,"px"),top:"".concat(n.y-e.indicator.halfHeight,"px")})},e.start=function(){var n;e.playing=!0,e.clone=t.clone,e.indicator=((n=M({parent:t.DOM,className:"magnifyTarget"})).getter("halfWidth",(function(){return n.width/2})),n.getter("halfHeight",(function(){return n.height/2})),n),e.indicator.append(e.clone.DOM),e.init(),t.addEvent("mousemove touchmove",c),e.callback.start(e)},e.end=function(){e.playing=!1,e.indicator.remove(),t.removeEvent("mousemove touchmove",c),e.callback.end(e)},e.reset=function(){e.playing&&e.end(),e.callback.reset(e)},e.container=t,e.buttons=o,e.scale=r,e}function $v(t){return $v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$v(t)}function Kv(){Kv=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),c=new O(o||[]);return r(a,"_invoke",{value:E(t,n,c)}),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f={};function d(){}function p(){}function h(){}var v={};u(v,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(S([])));y&&y!==e&&n.call(y,i)&&(v=y);var m=h.prototype=d.prototype=Object.create(v);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,a,c){var u=s(t[r],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==$v(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,c)}))}c(u.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function E(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=k(a,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function k(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=s(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:M}}function M(){return{value:void 0,done:!0}}return p.prototype=h,r(m,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:p,configurable:!0}),p.displayName=u(h,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,u(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),u(m,c,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function Jv(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function tg(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Jv(i,r,o,a,c,"next",t)}function c(t){Jv(i,r,o,a,c,"throw",t)}a(void 0)}))}}var eg={};function ng(t,e){var n={};if(n.narOption=t.attr($r)?t.attr($r).replace(/ /g,"").split(","):[],n.narOption.forEach((function(t){n[t]=!0})),t.attr(eo)){var r=O("[".concat(no,"]"))[0].attr(no);t.attr(Xr,"".concat(r).concat(t.attr(eo)))}inheritanceProperties(eg,e),n._callback={play:function(t,e){},stop:function(t,e){},end:function(t,e){},reset:function(t){}},Object.defineProperty(n,"callback",{set:function(t){inheritanceProperties(n._callback,t)},get:function(){return n._callback}});var o=narrationSound||new Audio;window.pushAudio(o);var i=t.attr(Qr),a=i.split(",");n.src=!n.multi&&t.attr(Xr).split(",");var c=1e3*Number(t.attr("data-play-turm"))||1,u=Number(t.attr("data-multi-play-turm"))||0,l=O(".".concat("js-narrationTarget")).filter((function(t){var e=!1;if(a.forEach((function(n){for(var r=t.attr(Zr).split(","),o=0;o<r.length;o++)n==r[o]&&(e=!0)})),n.multi&&(e=t.attr(Zr)==i),e)return t}));function s(e){var r=t.getEl(".".concat(xn)).filter((function(t){return!t.matches(".js-noCheck")}));r.length>0&&r.filter((function(t){return t.matches(".complete")})).length!=r.length||n.container.matches(".".concat(On))&&!n.container.matches(".".concat(nt))||("multi"==e?h(e):h(),n.playing=!0,t.on(),n.src=!n.multi&&t.attr(Xr).split(","),o.src=n.src[0],f(),n.again&&(o.currentTime=.001),o.play(),o.onended=function(){n.playIndex++,n.playIndex===n.src.length?(p("soundEnd"),n.endFuc&&n.endFuc(),n.callback.end(n,t)):function(){d.apply(this,arguments)}()},n.container.parent.addClass(Yr),n.callback.play(n,t))}function f(){var t=!1;if(t=eg.targetPlay(n,t),l.filter((function(t){return"all"===t.playIndex||t.playIndex.includes(n.playIndex)})).forEach((function(t){t.matches(".".concat(mt))||t.play()})),null!=n.parentItem&&t){var e=n.parentTarget.filter((function(t){return"all"===t.playIndex||t.playIndex.includes(Number(i))}));0==e.length&&n.parentTarget.forEach((function(t){t.isPlaying=!1,t.stop()})),e.forEach((function(t){t.isPlaying||(t.isPlaying=!0,t.play())}))}}function d(){return(d=tg(Kv().mark((function t(){return Kv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t){return n.setTimeout=setTimeout(t,c)}));case 2:y(),o.src=n.src[n.playIndex],o.play(),f();case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function p(e){null!=n.parentItem&&(n.parentItem.removeClass(mt),eg.stop(n,e)),n.playing=!1,n.playIndex=0,y(),t.off(),o.pause(),o.currentTime=.001,clearTimeout(n.setTimeout),e&&(null!=n.parentItem||n.noEnd)||(n.parentTarget&&n.parentTarget.length>0&&n.parentTarget[0].stop(),l.forEach((function(t){return t.stop()}))),n.container.parent.removeClass(Yr),n.callback.stop(n,t)}function h(t){"multi"!=t&&eg.reset()}function v(){h();var e=t.attr(Qr).split(",");n.again&&(o.currentTime=.001),n.multiPlayMode=!0,l.forEach((function(t){return t.isPlaying=!1})),m(e[n.playIndex],"noTurm"),t.on();for(var r=0;r<e.length;r++)eg.multiPlay(n,e,r,t,l)}function g(){h()}function y(){t.attr(to,n.playIndex),l.forEach((function(t){t.attr(to,n.playIndex)}))}function m(t,e){return b.apply(this,arguments)}function b(){return(b=tg(Kv().mark((function e(r,o){return Kv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=3;break}return e.next=3,new Promise((function(t){return n.setTimeout=setTimeout(t,u)}));case 3:eg.controlMultiPlay(n,t,r,l),n.playing=!0;case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return n.playing=!1,n.playIndex=0,n.multiPlayMode=!1,y(),t.hover(),x(t,mt),l.forEach((function(t){if(t.playIndex=t.attr(Kr)?t.attr(Kr).split(",").map((function(t){return Number(t)})):"all",t.attr(Jr))switch(t.attr(Jr)){case"apng":t.playMode="apng",t.DOM.children.length<1&&(t.DOM.apng=new Dv(t));break;case"gif":t.playMode="img",t.src=t.attr("src");break;case"background":t.playMode="backgroundImage",t.src=t.attr("data-src")}else t.playMode="default";t.play=function(){switch(t.addClass(mt),t.playMode){case"apng":t.DOM.apng.play();break;case"img":t.attr("src","".concat(t.src,".gif?").concat(Math.random().toFixed(10)));break;case"backgroundImage":t.style({backgroundImage:"url(".concat(t.src,".gif?").concat(Math.random().toFixed(10),")")})}},t.stop=function(){switch(t.removeClass(mt),t.playMode){case"apng":t.DOM.apng.stop();break;case"img":t.attr("src","".concat(t.src,".png"));break;case"backgroundImage":t.style({backgroundImage:"url(".concat(t.src,".png)")})}}})),n.multi?t.addEvent("click",(function(){n.playing&&!n.again?g():v()})):t.addEvent("click",(function(){n.playing&&!n.again?p():s()})),n.index=n.multi?"multi".concat(i):i,n.container=t,n.targets=l,n.play=s,n.stop=p,n.multiPlay=v,n.multiStop=g,n.controlMultiPlay=m,n.reset=function(){p(),clearTimeout(n.setTimeout),n.callback.reset(n)},n}function rg(t,e){t.attr(un)||t.attr(un,e),t.index=Number(t.attr(un)),t.attr(ln)||t.attr(ln,30),t.scratchSize=Number(t.attr(ln)),t.attr(sn)||t.attr(sn,70),t.scratchPer=Number(t.attr(sn)),t.container=t,t.canvas=new f(document.createElement("canvas")),t.img=t.getEl(".".concat("js-scratchImg"))[0],t._callback={start:function(t){},move:function(t){},end:function(t){},finish:function(t){},reset:function(t){}},Object.defineProperty(t,"callback",{set:function(e){Y(t._callback,e)},get:function(){return t._callback}});var n,r=new f(document.querySelector("div")),o=t.canvas.DOM.getContext("2d"),i=t.img.DOM.width,a=t.img.DOM.height;t.canvas.attr("width",i),t.canvas.attr("height",a),t.append(t.canvas.DOM),t.createCanvasImg=function(){var e=new Image;e.src=t.img.DOM.src,e.onload=function(){o.drawImage(e,0,0,i,a)},o.drawImage(e,0,0,i,a)};var c=function(e){e.preventDefault(),e.stopPropagation();var n=b(t.canvas.DOM),r=((e.clientX||e.touches[0].pageX)-S(t.canvas.DOM).x)/n,i=((e.clientY||e.touches[0].pageY)-S(t.canvas.DOM).y)/n;o.globalCompositeOperation="destination-out",o.lineTo(r,i),o.stroke(),t.callback.move(t)},u=function e(){n&&(clearInterval(n),n=null),document.removeEventListener("mousemove",c),document.removeEventListener("touchmove",c),document.removeEventListener("mouseup",e),document.removeEventListener("touchend",e),t.callback.end(t)};t.canvas.addEvent("mousedown touchstart",(function(e){n=setInterval((function(){return l()}),100);var r=b(t.canvas.DOM);o.lineWidth=t.scratchSize,o.lineCap="round",o.lineJoin="round",o.imageSmoothingEnabled=!0;var i=((e.clientX||e.touches[0].pageX)-S(t.canvas.DOM).x)/r,a=((e.clientY||e.touches[0].pageY)-S(t.canvas.DOM).y)/r;o.beginPath(),o.moveTo(i,a),document.addEventListener("mousemove",c),document.addEventListener("touchmove",c),document.addEventListener("mouseup",u),document.addEventListener("touchend",u),t.callback.start(t)}));var l=function(){if(0==o.canvas.clientWidth)return n&&(clearInterval(n),n=null),!1;for(var e=0,r=0,c=o.getImageData((i-t.width)/2,(a-t.height)/2,t.width,t.height),u=c.data.length;u>r;r+=4)0===c.data[r]&&0===c.data[r+1]&&0===c.data[r+2]&&0===c.data[r+3]&&e++;e/(Math.ceil(t.width)*Math.ceil(t.height))*100>t.scratchPer&&(n&&(clearInterval(n),n=null),t.addClass(ut),t.callback.finish(t))};return t.createCanvasImg(),t.reset=function(){o.globalCompositeOperation="source-over",t.createCanvasImg(),t.removeClass(ut),t.callback.reset(t)},window.scratchCursor=window.scratchCursor||M({parent:r.DOM,className:"scratchCursor"}),t.canvas.addEvent("mouseover",(function(){return window.scratchCursor.addClass(ct)})),t.canvas.addEvent("mouseout",(function(){return window.scratchCursor.removeClass(ct)})),t.canvas.addEvent("mousemove",(function(t){var e=b(r.DOM);window.scratchCursor.style({top:"".concat((t.pageY-r.top)/e,"px"),left:"".concat((t.pageX-r.left)/e,"px")})})),t}function og(t,e){if(t.attr(Qe)||t.attr(Qe,e),t.index=Number(t.attr(Qe)),t.attr(Ke)||t.attr(Ke,0),t.start=Number(t.attr(Ke)),t.container=t,t._callback={start:function(t){},move:function(t,e,n){},end:function(t){},reset:function(t){}},Object.defineProperty(t,"callback",{set:function(e){inheritanceProperties(t._callback,e)},get:function(){return t._callback}}),t.handlerContainer=t.getEl(".".concat("js-progressControl"))[0],t.bar=t.getEl(".".concat("js-progressControlBar"))[0],t.handler=t.getEl(".".concat("js-progressControlDot"))[0],t.target=t.getEl(".".concat("js-progressTarget"))[0],t.options=t.attr(Ze)?t.attr(Ze).replace(/ /g,"").split(","):[],t.options.forEach((function(e){t[e]=!0})),t.bar.backgroundChange=function(e){var n=getComputedStyle(t.bar.DOM)["background-image"];if("none"!=n){var r=n.split(", "),o=6==r.length,i=o?"to bottom":r[0].split("(")[1],a=o?[r[0].split("t(")[1],r[1],r[2].split(" ")[0]].join(", "):[r[1],r[2],r[3].split(" ")[0]].join(", "),c=o?[r[3],r[4],r[5].split(" ")[0]].join(", "):[r[4],r[5],r[6].split(" ")[0]].join(", ");t.bar.style({backgroundImage:"linear-gradient(".concat(i,", ").concat(a," ").concat(e,"%, ").concat(c," ").concat(e,"%)")})}},t.changeDot||t.changeSrc){t.srcMoveDiv=[];for(var n=0;n<Number(t.attr($e));n++){t.srcMoveDiv[n]=M({parent:t.bar.DOM,className:"progressMoveDiv"});var r=t.reverse?Number(t.attr($e))-n:n+1;t.srcMoveDiv[n].attr(Xe,r)}}return t.numberMove=function(e){e>=100?e=100:e<=0&&(t.srcMoveDiv&&(t.moveDivs=t.srcMoveDiv[0]),e=0),t.vertical?t.handler.style({top:"".concat(e,"%")}):t.handler.style({left:"".concat(e,"%")}),t.bar.backgroundChange(e),t.video&&function(e){loop((function(){return t.target.DOM.duration})).then((function(){if(t.target.DOM.duration){var n=t.reverse?(100-e)*(t.target.DOM.duration/100):e*(t.target.DOM.duration/100);t.target.DOM.currentTime=n}}))}(e),(t.changeDot||t.changeSrc)&&t.handler.width&&loop((function(){return t.handler.width})).then((function(){t.srcMoveDiv.forEach((function(e){var n=t.vertical?e.height/2:e.width/2;(t.vertical?t.handler.top>=e.top+n:t.handler.left>=e.left+n)?(t.moveDivs=e,e.addClass(ut)):e.removeClass(ut)})),t.moveDivs&&t.changeSrc&&(t.target.DOM.src="".concat(t.attr("data-src")).concat(t.moveDivs.attr(Xe),".").concat(t.attr("data-src-type")))})),t.opacity&&function(e){var n=t.reverse?100-e:e;t.target.style({opacity:n/100})}(e)},t.dotMove=function(e){var n=t.srcMoveDiv[e-1],r=t.vertical?n.height/2:n.width/2,o=t.vertical?n.top+r:n.left+r,i=t.vertical?o/(t.bar.height/100):o/(t.bar.width/100);t.srcMoveDiv.forEach((function(t,n){e-1>=n?t.addClass(ut):t.removeClass(ut)})),t.numberMove(i)},tt({dragObj:t.handler.DOM,callback:{start:function(e,n){t.handler.start=t.vertical?t.handler.top:t.handler.left,t.handler.style({"pointer-events":"none"}),t.callback.start(t)},move:function(e,n){var r=t.vertical?t.handler.start+e.moveY:t.handler.start+e.moveX,o=t.vertical?r/(t.bar.height/100):r/(t.bar.width/100);t.handler.result=o<0?0:o>100?100:o,t.numberMove(t.handler.result),t.callback.move(t,t.handler.result,t.moveDivs)},end:function(e,n){t.handler.style({"pointer-events":""}),t.callback.end(t)}}}),t.reset=function(){t.numberMove(t.start),t.callback.reset(t)},t.numberMove(t.start),t}var ig=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"audio",n=JSON.parse(sessionStorage.getItem("allVolumePer"));null!=n&&(t.volume=Number(n)/100),window.soundArr["video"===e?"video":"audio"].push(t)};function ag(t){return getEl(t).length>0}var cg,ug,lg,sg,fg,dg=function(t,e){var n=e||"_blank";window.jj&&jj.native&&jj.native.explorer?window.jj.link.html(t):g().APP?g().APP.openBrowser(t):window.open(t,n)},pg=function(t,e){var n=e||"_blank";window.jj&&jj.native&&jj.native.explorer?window.jj.native.exe(t):g().APP?g().APP.openFile({url:t,location:location.href}):window.open(t,n)};function hg(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new f(document.querySelector("div"));t.container=t,t.getVolumePer=100,t.cloneArr=[],t.funcArr=[];var e=createEl({parent:t.DOM,className:sr}),n=createEl({parent:e.DOM,className:fr});if(createEl({parent:n.DOM,className:dr}),createEl({parent:n.DOM,className:pr}),createEl({parent:n.DOM,className:hr}),t.init=function(e){e.hover();var n={verticalVolume:!0};e.getEl(".".concat(fr))[0].hover(),n.volumeButton=e.getEl(".".concat(dr))[0].hover(),n.bar=e.getEl(".".concat(pr))[0],n.bar.backgroundChange=function(t){var e=getComputedStyle(n.bar.DOM)["background-image"];if("none"!=e){var r=e.split(", "),o=n.verticalVolume,i=o?"to bottom":r[0].split("(")[1],a=o?[r[0].split("t(")[1],r[1],r[2].split(" ")[0]].join(", "):[r[1],r[2],r[3].split(" ")[0]].join(", "),c=o?[r[3],r[4],r[5].split(" ")[0]].join(", "):[r[4],r[5],r[6].split(" ")[0]].join(", ");n.bar.style({backgroundImage:"linear-gradient(".concat(i,", ").concat(a," ").concat(t,"%, ").concat(c," ").concat(t,"%)")})}},n.bar.addEvent("click",(function(t){var e=n.verticalVolume?n.bar.height:n.bar.width,r=(n.verticalVolume?getEventPosition(t).y-n.bar.bounding.top:getEventPosition(t).x-n.bar.bounding.left)/getZoomRate(n.bar.DOM);r<0&&(r=0);var o=n.verticalVolume?100-r/(e/100):r/(e/100);n.volumeControl(o)})),n.handler=e.getEl(".".concat(hr))[0],initDrag({dragObj:n.handler.DOM,callback:{start:function(t,e){n.handler.start=n.verticalVolume?n.handler.top:n.handler.left},move:function(t,e){var r=n.verticalVolume?t.moveY:t.moveX,o=n.handler.start+r,i=n.verticalVolume?n.bar.height:n.bar.width;n.handler.result=o<0?0:o>i?i:o;var a=n.verticalVolume?100-n.handler.result/(i/100):n.handler.result/(i/100);n.volumeControl(a)},end:function(t,e){}}}),n.volumeControl=function(r,o,i){e.removeClass(gt),0==r&&e.addClass(gt),n.verticalVolume&&(r=100-r),n.verticalVolume?n.handler.style({top:"".concat(r,"%")}):n.handler.style({left:"".concat(r,"%")}),n.bar.backgroundChange(r),t.volumePer=n.verticalVolume?100-r:r,"toggle"!=o&&(t.getVolumePer=n.verticalVolume?100-r:r);var a=[];if(window.soundArr.audio.forEach((function(t){return a.push(t)})),window.soundArr.video.forEach((function(t){return a.push(t)})),0==window.frames.length)a.forEach((function(e){return e.volume=t.volumePer/100}));else for(var c=function(e){loop((function(){return window.frames[e].soundArr})).then((function(){window.frames[e].soundArr&&window.frames[e].soundArr.audio.forEach((function(t){return a.push(t)})),window.frames[e].soundArr&&window.frames[e].soundArr.video.forEach((function(t){return a.push(t)})),e==window.frames.length-1&&a.forEach((function(e){return e.volume=t.volumePer/100}))}))},u=0;u<window.frames.length;u++)c(u);i||(t.funcArr.forEach((function(e){"toggle"==o?e.volumeControl(t.volumePer,"toggle","controlAll"):e.volumeControl(t.volumePer,"","controlAll")})),sessionStorage.setItem("allVolumePer",t.volumePer))},n.toggleVolumeContainer=function(t){if(!t.target.className.includes(sr))return!1;e.matches(".".concat(ct))?e.removeClass(ct):e.addClass(ct)},n.toggleVolume=function(){e.matches(".".concat(gt))?0!=t.getVolumePer&&(n.volumeControl(t.getVolumePer),e.removeClass(gt)):(n.volumeControl(0,"toggle"),e.addClass(gt))},n.reset=function(){e.removeClass(ct)},n.volumeButton.addEvent(lt,n.toggleVolume),e.addEvent(lt,(function(t){"IOS"==window.isRunMode?n.toggleVolume():n.toggleVolumeContainer(t)}));var r=JSON.parse(sessionStorage.getItem("allVolumePer"));return null!=r&&n.volumeControl(r),n},t.reset=function(){t.funcArr.forEach((function(t){t.reset()}))},pageManager.players)for(var r=pageManager.players.filter((function(t){return"video"==t.type})),o=0;o<r.length;o++)t.cloneArr[o]=e.clone,r[o].controls.container.DOM.append(t.cloneArr[o].DOM),t.funcArr.push(t.init(t.cloneArr[o]));function i(e){e.target&&e.target.className&&(e.target.className.animVal?t.reset():e.target.className.includes(sr)||e.target.className.includes(fr)||e.target.className.includes(dr)||e.target.className.includes(pr)||e.target.className.includes(hr)||t.reset())}return t.funcArr.push(t.init(e)),document.addEventListener("mousedown",i),document.addEventListener("touchstart",i),g()&&(g().document.addEventListener("mousedown",i),g().document.addEventListener("touchstart",i)),t}function vg(t){var e={};function n(t,n,r){t.cloneItem=t.clone,e.container.append(t.cloneItem.DOM),t.startX=t.bounding.x/n.zoomRate,t.startY=t.bounding.y/n.zoomRate,t.parentX=e.container.bounding.x/n.zoomRate,t.parentY=e.container.bounding.y/n.zoomRate,t.cloneItem.addClass(Yn),t.cloneItem.style({top:"".concat(t.startY-t.parentY,"px"),left:"".concat(t.startX-t.parentX,"px")}),e.callback.start(e,t.draggingItem,r)}function r(t,n,r){t.cloneItem.style({top:"".concat(t.startY-t.parentY+n.moveY,"px"),left:"".concat(t.startX-t.parentX+n.moveX,"px")}),e.callback.move(e,t,r)}function o(t,n,r){var o=n.dropElement;null!=o&&o.matches(".".concat(Gr))&&(o.value=t.attr("data-value"),o.dispatchEvent(new Event("input"))),t.cloneItem.remove(),e.callback.end(e,t,r)}return e.container=t,e.dragItem=t.getEl(".".concat("js-inputDragItem")),e.dropItem=t.getEl(".".concat(Gr)),e._callback={start:function(t,e,n){},move:function(t,e,n){},end:function(t,e,n){}},Object.defineProperty(e,"callback",{set:function(t){inheritanceProperties(e._callback,t)},get:function(){return e._callback}}),e.dragItem.forEach((function(t){tt({dragObj:t.DOM,container:document.querySelector("div"),callback:{start:n.bind(e,t),move:r.bind(e,t),end:o.bind(e,t)}})})),e}var gg,yg,mg,bg,wg,Eg,kg,xg,Cg,Og,Sg,Mg=(null===(cg=window.CONFIG)||void 0===cg?void 0:cg.SND_QUIZ_EACH_SHOW_ANSWER)||"click",Pg=(null===(ug=window.CONFIG)||void 0===ug||ug.SND_QUIZ_EACH_HIDE_ANSWER,(null===(lg=window.CONFIG)||void 0===lg?void 0:lg.SND_QUIZ_EACH_CORRECT)||"success"),Tg=(null===(sg=window.CONFIG)||void 0===sg?void 0:sg.SND_QUIZ_EACH_INCORRECT)||"fail",Lg=(null===(fg=window.CONFIG)||void 0===fg?void 0:fg.SND_QUIZ_EACH_REDO)||"click";function Ig(t){return Ig="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ig(t)}function jg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_g(r.key),r)}}function Dg(t,e,n){return(e=_g(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _g(t){var e=function(t,e){if("object"!==Ig(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Ig(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Ig(e)?e:String(e)}function Ng(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function Ag(t,e){var n=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}(t,e);return function(t,e){return e.get?e.get.call(t):e.value}(t,n)}Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,value:function t(){var e=isNaN(arguments[0])?1:Number(arguments[0]);return e?Array.prototype.reduce.call(this,(function(n,r){return Array.isArray(r)?n.push.apply(n,t.call(r,e-1)):n.push(r),n}),[]):Array.prototype.slice.call(this)},writable:!0}),Array.prototype.flatMap||Object.defineProperty(Array.prototype,"flatMap",{configurable:!0,value:function(t){return Array.prototype.map.apply(this,arguments).flat()},writable:!0});var Bg=(null===(gg=window.CONFIG)||void 0===gg?void 0:gg.SND_QUIZ_ANS)||"click",Rg=(null===(yg=window.CONFIG)||void 0===yg?void 0:yg.SND_QUIZ_REDO)||"click",Fg=(null===(mg=window.CONFIG)||void 0===mg?void 0:mg.SND_QUIZ_SHOW)||"click",Wg=(null===(bg=window.CONFIG)||void 0===bg?void 0:bg.SND_QUIZ_HIDE)||"click",zg=(null===(wg=window.CONFIG)||void 0===wg?void 0:wg.SND_QUIZ_CORRECT)||"success",Vg=(null===(Eg=window.CONFIG)||void 0===Eg?void 0:Eg.SND_QUIZ_INCORRECT)||"fail",Gg=(null===(kg=window.CONFIG)||void 0===kg?void 0:kg.SND_QUIZ_EACH_SHOW_ANSWER)||"click",qg=(null===(xg=window.CONFIG)||void 0===xg?void 0:xg.SND_QUIZ_EACH_HIDE_ANSWER)||"click",Ug=(null===(Cg=window.CONFIG)||void 0===Cg||Cg.SND_QUIZ_EACH_CORRECT,null===(Og=window.CONFIG)||void 0===Og||Og.SND_QUIZ_EACH_INCORRECT,null===(Sg=window.CONFIG)||void 0===Sg||Sg.SND_QUIZ_EACH_REDO,["solve","correct","first","second","answer","example"]),Hg=new WeakMap,Yg=new WeakMap,Qg=new WeakMap,Zg=function(){function t(e,n){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Ng(this,Hg,{writable:!0,value:{correct:function(t){},incorrect:function(t){},finish:function(t){},redo:function(t){},reset:function(t){},itemCheck:function(t,e){}}}),Ng(this,Yg,{writable:!0,value:{reset:function(){}}}),Ng(this,Qg,{writable:!0,value:{reset:function(){},finish:function(){}}}),Dg(this,"exshowAnswer",(function(){r.container.addClass(Pn),r.isToggleAnswerMode&&r.items.forEach((function(t){return t.toShowAnswer()})),r.setStateButton()})),Dg(this,"exhideAnswer",(function(){r.container.removeClass(Pn),r.isToggleAnswerMode&&r.items.forEach((function(t){return t.toHideAnswer()})),r.setStateButton()})),Dg(this,"setHandler",(function(t){r.handler=r.handler||[],r.handler.push(t)})),Dg(this,"checkItemCorrect",(function(){var t=r.items;"dragdrop"===r.type?t=r.items.filter((function(t){return"drop"===t.type})):"dragline"===r.type&&(t=r.items.filter((function(t){return"drag"===t.type}))),t.forEach((function(t){return t.checkItemCorrect()}))})),Dg(this,"showAnswer",(function(){r.items.forEach((function(t){t.complete()}))})),Dg(this,"hideAnswer",(function(){r.items.forEach((function(t){return t.reset()})),r.exhideAnswer()})),Dg(this,"resetAllItem",(function(){r.items.forEach((function(t){return t.reset()}))})),Dg(this,"redoAllItem",(function(){r.items.forEach((function(t){return t.redo()}))})),Dg(this,"correct",(function(){r.isNoSound||playEfSound&&playEfSound(zg),r.callback.correct(r),r.container.addClass("QUIZ_CORRECT"),r.isNoAlert?r.finish():r.alert.on(Ug[1]).then((function(){r.finish()}))})),Dg(this,"incorrect",(function(){if(r.isNoSound||playEfSound&&playEfSound(Vg),r.userTryCount<r.tryCount){var t=1===r.userTryCount?Ug[2]:Ug[3];r.callback.incorrect(r),r.isNoAlert?r.redo():r.alert.on(t).then((function(){return r.redo()}))}else{r.callback.incorrect(r),r.container.addClass("QUIZ_INCORRECT");var e=r.isExampleQuiz?Ug[5]:Ug[4];r.isNoAlert?r.finish():r.alert.on(e).then((function(){return r.finish()}))}})),Dg(this,"checkCorrect",(function(){r.checkItemCorrect(),r.isSolved||r.isNoSolve?r.isCorrect?r.correct():r.incorrect():(r.redoAllItem(),r.isNoAlert||r.alert.on(Ug[0]))})),Dg(this,"autoComplete",(function(){r.checkItemCorrect(),r.isCorrect?(r.callback.correct(r),r.container.addClass("QUIZ_CORRECT"),r.finish(!0)):(r.callback.incorrect(r),r.container.addClass("QUIZ_INCORRECT"),r.finish(!0))})),Dg(this,"finish",(function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];document.querySelector("div").classList.add(Mn),r.showAnswer(),r.isComplete=!0,r.setStateButton(),r.items.forEach((function(t){t.addClass(it)})),r.callback.finish(r),r.container.addClass("QUIZ_FINISH"),!t&&r.callbackOnDT.finish(r),r.handler&&r.handler.length>0&&r.handler.forEach((function(t){return t.container.addClass(Mn)}))})),Dg(this,"redo",(function(){r.userTryCount++,r.isResetAllItem?r.resetAllItem():r.isResetEachItem&&r.resetEachItem(),r.setStateButton(),r.redoAllItem(),r.callback.redo(r)})),Dg(this,"reset",(function(){r.hideAnswer(),document.querySelector("div").classList.remove(Mn),r.userTryCount=1,r.isComplete=!1,r.setStateButton(),r.container.removeClass(Pn,"QUIZ_CORRECT","QUIZ_INCORRECT","QUIZ_FINISH"),r.targets.forEach((function(t){t.attr(Qr)&&r.pageCallback.reset(r,t)})),r.items.forEach((function(t){t.parent.removeClass("ITEM_CORRECT","ITEM_INCORRECT"),t.removeClass("ITEM_CORRECT","ITEM_INCORRECT")})),r.handler&&r.handler.length>0&&r.handler.forEach((function(t){return t.container.removeClass(Mn)})),r.callbackOnDT.reset(r),r.callback.reset(r)})),Dg(this,"setStateButton",(function(){r.isComplete||r.isAutoChangeRedoButton&&r.isCorrect?(r.redoButton&&r.redoButton.on(),r.answerButton&&r.answerButton.off()):(r.redoButton&&r.redoButton.off(),r.isShowButton?r.answerButton&&r.answerButton.on():r.isSolved||r.isNoSolve?r.isShowRedoButton?r.redoButton&&r.redoButton.on():r.answerButton&&r.answerButton.on():r.answerButton&&r.answerButton.off()),r.handler&&r.handler.length>0&&r.handler.forEach((function(t){return t.setStateButton()})),r.isToggleAnswerMode&&(r.isShowAnswer?(r.hideButton&&r.hideButton.on(),r.showButton&&r.showButton.off(),r.hideAnsButton&&r.hideAnsButton.on(),r.showAnsButton&&r.showAnsButton.off()):(r.hideButton&&r.hideButton.off(),r.showButton&&r.showButton.on(),r.hideAnsButton&&r.hideAnsButton.off(),r.showAnsButton&&r.showAnsButton.on()))})),Dg(this,"itemShowAnswerToggle",(function(t){t.isShowAnswer?(playEfSound&&playEfSound(qg),t.toHideAnswer()):(playEfSound&&playEfSound(Gg),t.isCorrect?t.ansButton&&t.ansButton.addClass(Un):t.ansButton&&t.ansButton.addClass(Hn),t.toShowAnswer())})),Dg(this,"start",(function(){r.isItemButton&&function(t){var e=this,n=t.container.getEl(".".concat(Vn));addGetter(t,"itemCompleted",(function(){return n.filter((function(t){return t.isComplete})).length===n.length})),n.forEach((function(n){var r=n.attr(Dn).split(",");x(n),n.itemData=[],n.setState=function(){n.isQuizComplete()?(n.removeClass(Gn).addClass(qn),n.isComplete=!0,n.isQuizCorrect()?n.addClass(Un):n.addClass(Hn)):(n.removeClass(qn).addClass(Gn).removeClass(Un).removeClass(Hn),n.isComplete=!1),t.itemCompleted?t.isComplete=!0:t.isComplete=!1,t.setStateButton()},n.isQuizCorrect=function(){return n.itemData.filter((function(t){return t.checkItemCorrect()})),n.itemData.filter((function(t){return t.isCorrect})).length==n.itemData.length},n.isQuizComplete=function(){return n.itemData.filter((function(t){return t.isComplete})).length==n.itemData.length},n.itemReset=function(){return n.itemData.forEach((function(t){return t.reset()}))},n.itemComplete=function(){return n.itemData.forEach((function(t){return t.complete()}))},t.items.forEach((function(t,e){r.filter((function(t){return Number(t)==e})).length>0&&(t.ansButton=n,n.itemData.push(t))})),n.addEvent(lt,(function(r){r.preventDefault(),r.stopPropagation(),t.isToggleAnswerMode?n.itemData.forEach((function(e){return t.itemShowAnswerToggle(e)})):n.isQuizComplete()||n.matches(".".concat(qn))?(playEfSound&&playEfSound(Lg),n.itemReset(),t.isComplete=!1):(playEfSound&&playEfSound(Mg),(t.isSolved||t.isNoSolve)&&(n.isQuizCorrect()?(t.isNoSound||playEfSound&&playEfSound(Pg),n.addClass(Un)):(t.isNoSound||playEfSound&&playEfSound(Tg),n.addClass(Hn)),n.itemComplete())),t.itemCompleted&&(t.isComplete=!0),t.setStateButton(),t.callback.itemCheck(e,n)}))}))}(r),r.setStateButton()})),inheritanceProperties(Ag(this,Yg),n),this.container=e,this.index=e.index,this.type=e.type,this.name=e.attr("data-quiz-name")||"quiz_".concat(this.index),this.options=e.attr(In)?e.attr(In).replace(/ /g,"").split(","):[],this.group=e.attr("data-quiz-group")||1,this.tryCount="infinity"==e.attr(jn)?1/0:Number(e.attr(jn))||1,this.userTryCount=1,this.isItemButton=e.getEl(".".concat(Vn)).length>0,this.isNoAlert=this.options.includes("noAlert"),this.isShowButton=this.options.includes("showAnsButton"),this.isShowRedoButton=this.options.includes("showRedoButton"),this.isAllSolve=this.options.includes("allSolve"),this.isNoSolve=this.options.includes("noSolve"),this.isExampleQuiz=this.options.includes("example"),this.isResetAllItem=this.options.includes("resetAllItem"),this.isResetEachItem=this.options.includes("resetEachItem"),this.isNoSound=this.options.includes("noSound"),this.isSaveUserAnswer=this.options.includes("saveUserAnswer"),this.isAutoChangeRedoButton=this.options.includes("autoChangeButton"),this.isToggleAnswerMode=this.options.includes("toggleAnswer"),this.onlyFirstAnswer=this.options.includes("onlyFirstAnswer"),this.isNoRemoveSpace=this.options.includes("noRemoveSpace"),this.trueEmpty=this.options.includes("trueEmpty"),setTimeout((function(){var t=sessionStorage.getItem("DTEXT_USER_TYPE");t&&"TE"==t&&(r.isAllSolve=!1,r.isNoSolve=!0,r.isShowButton=!0,r.isTeacherMode=!0,r.setStateButton())}),100),this.items=e.getEl(".".concat(xn)).map((function(t,n){return t.attr(Dn)||t.attr(Dn,n),t.itemIndex=Number(t.attr(Dn)),t.targets=t.targets||[],r.isToggleAnswerMode&&(t.isShowAnswer=!1,t.answerTarget=e.getEl(".".concat("js-quizAnswer")).filter((function(e){return Number(e.attr(Dn))===t.itemIndex}))[0],t.answerTarget&&x(t.answerTarget),t.toShowAnswer=function(){t.isShowAnswer=!0,t.addClass(Tn),t.answerTarget&&t.answerTarget.on(),t.ansButton&&t.ansButton.setState()},t.toHideAnswer=function(){t.isShowAnswer=!1,t.removeClass(Tn),t.answerTarget&&t.answerTarget.off(),t.ansButton&&t.ansButton.setState(!1)}),t})),this.answerButton=e.getEl(".".concat("js-answerBtn"))[0],this.redoButton=e.getEl(".".concat("js-redoBtn"))[0],this.showButton=e.getEl(".".concat("js-showAnsBtn"))[0],this.hideButton=e.getEl(".".concat("js-hideAnsBtn"))[0],this.showAnsButton=e.getEl(".".concat("js-exShowAnswer"))[0],this.hideAnsButton=e.getEl(".".concat("js-exHideAnswer"))[0],this.answerButton&&this.answerButton.addEvent("click",(function(){playEfSound&&playEfSound(Bg);var t=sessionStorage.getItem("DTEXT_USER_TYPE");t&&"TE"==t?r.finish():r.checkCorrect()})),this.redoButton&&this.redoButton.addEvent("click",(function(){playEfSound&&playEfSound(Rg),r.isToggleAnswerMode&&(r.container.removeClass(Pn),r.items.forEach((function(t){return t.toHideAnswer()}))),r.reset()})),this.showButton&&this.showButton.addEvent("click",(function(){playEfSound&&playEfSound(Fg),r.container.addClass(Pn),r.items.forEach((function(t){return t.toShowAnswer()})),r.setStateButton()})),this.hideButton&&this.hideButton.addEvent("click",(function(){playEfSound&&playEfSound(Wg),r.container.removeClass(Pn),r.items.forEach((function(t){return t.toHideAnswer()})),r.setStateButton()})),this.showAnsButton&&this.showAnsButton.addEvent("click",(function(){playEfSound&&playEfSound(Fg),r.exshowAnswer()})),this.hideAnsButton&&this.hideAnsButton.addEvent("click",(function(){playEfSound&&playEfSound(Wg),r.exhideAnswer()})),this.alert=Wi(O(".".concat(Cn))[0],this),this.targets=e.getEl(".".concat(On)).map((function(t,e){return t.attr(Dn)||t.attr(Dn,e),t.itemIndex=Number(t.attr(Dn)),r.items.forEach((function(e){e.itemIndex===t.itemIndex&&e.targets.push(t)})),t})),[this.answerButton,this.redoButton,this.targets,this.showButton,this.hideButton,this.hideAnsButton,this.showAnsButton].flat().forEach((function(t){return t&&x(t)}))}return function(t,e,n){e&&jg(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"callback",get:function(){return Ag(this,Hg)},set:function(t){inheritanceProperties(Ag(this,Hg),t)}},{key:"pageCallback",get:function(){return Ag(this,Yg)}},{key:"callbackOnDT",get:function(){return Ag(this,Qg)},set:function(t){inheritanceProperties(Ag(this,Qg),t)}}]),t}();function Xg(t){return Xg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xg(t)}function $g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ny(r.key),r)}}function Kg(t,e){return Kg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Kg(t,e)}function Jg(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ty(t){return ty=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ty(t)}function ey(t,e,n){return(e=ny(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ny(t){var e=function(t,e){if("object"!==Xg(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Xg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Xg(e)?e:String(e)}var ry=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kg(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ty(e);if(n){var o=ty(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return function(t,e){if(e&&("object"===Xg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Jg(t)}(this,t)});function o(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o);for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return ey(Jg(t=r.call.apply(r,[this].concat(n))),"resetEachItem",(function(){t.items.filter((function(t){return!t.isCorrect})).forEach((function(t){return t.reset()}))})),ey(Jg(t),"init",(function(){t.items.forEach((function(e){e.getter("value",(function(){return e.DOM.value})),e.isNoAnswer=""===e.attr(er)?" ":e.attr(er),e.checkItemCorrect=function(){null==e.isCorrect&&(e.isCorrect=!!e.isNoAnswer||(t.isNoRemoveSpace?e.answerValue.filter((function(t){return t.trim()===e.value.trim()})).length>0:e.answerValue.filter((function(t){return N(t)===N(e.value)})).length>0))},t.container.getEl(".js-quizInputBox").forEach((function(t,e){t.attr("data-idx")||t.attr("data-idx",e)})),e.answerValue=e.attr(_n)?e.attr(_n).split("|"):[],e.placeholder=e.attr("placeholder"),e.parentItem=t.container.getEl(".js-quizInputBox").filter((function(t){return Number(t.attr("data-idx"))==e.itemIndex})),e.onclick((function(){return e.addClass(lr)})),e.addEvent("input",(function(){e.value&&e.addClass(lr),e.ansButton&&t.isAutoChangeRedoButton&&e.ansButton.setState(),t.setStateButton(),t.callback.input(Jg(t),e)})),e.addEvent("blur",(function(){N(e.value)||e.removeClass(lr)})),e.complete=function(){var n;e.addClass(lr,it),n=e.isCorrect?"ITEM_CORRECT":"ITEM_INCORRECT",e.parentItem.length>0?e.parentItem.forEach((function(t){return t.addClass(n)})):e.addClass(n),""==e.DOM.value&&(e.parentItem.length>0?e.parentItem.forEach((function(t){return t.addClass("ITEM_NO_VALUE")})):e.addClass("ITEM_NO_VALUE")),t.trueEmpty?e.isCorrect&&(e.DOM.value=""):(!t.isSaveUserAnswer&&!e.isCorrect||t.onlyFirstAnswer)&&(e.DOM.value=e.answerValue[0]||"정답이 없습니다"),e.isComplete=!0,e.targets.length>0&&e.targets.forEach((function(t){return t.on()})),e.ansButton&&e.ansButton.setState()},e.reset=function(){e.parentItem.length>0&&e.parentItem.forEach((function(t){return t.removeClass(it,"ITEM_CORRECT","ITEM_INCORRECT","ITEM_NO_VALUE")})),e.removeClass(it,"ITEM_CORRECT","ITEM_INCORRECT","ITEM_NO_VALUE"),e.removeClass(lr),e.DOM.value="",e.isComplete=!1,e.redo(),e.targets.length>0&&e.targets.forEach((function(t){return t.off()})),e.ansButton&&e.ansButton.setState(!1)},e.redo=function(){e.isCorrect=void 0},e.reset()}))})),t.callback={input:function(t,e){}},t.init(),t.start(),t}return function(t,e,n){e&&$g(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1})}(o,[{key:"length",get:function(){return this.items.length}},{key:"isSolved",get:function(){var t=this.items.filter((function(t){return t.value||t.isComplete}));return this.isAllSolve?t.length===this.length:t.length>0}},{key:"isCorrect",get:function(){return this.items.filter((function(t){return t.isCorrect})).length===this.length}},{key:"isShowAnswer",get:function(){return this.items.filter((function(t){return t.isShowAnswer})).length===this.length}}]),o}(Zg);function oy(t){return oy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oy(t)}function iy(){iy=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),c=new O(o||[]);return r(a,"_invoke",{value:E(t,n,c)}),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f={};function d(){}function p(){}function h(){}var v={};u(v,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(S([])));y&&y!==e&&n.call(y,i)&&(v=y);var m=h.prototype=d.prototype=Object.create(v);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,a,c){var u=s(t[r],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==oy(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,c)}))}c(u.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function E(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=k(a,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function k(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=s(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:M}}function M(){return{value:void 0,done:!0}}return p.prototype=h,r(m,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:p,configurable:!0}),p.displayName=u(h,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,u(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),u(m,c,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function ay(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function cy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dy(r.key),r)}}function uy(t,e){return uy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},uy(t,e)}function ly(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sy(t){return sy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},sy(t)}function fy(t,e,n){return(e=dy(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dy(t){var e=function(t,e){if("object"!==oy(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==oy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===oy(e)?e:String(e)}var py,hy=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uy(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=sy(e);if(n){var o=sy(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return function(t,e){if(e&&("object"===oy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ly(t)}(this,t)});function o(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o);for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return fy(ly(t=r.call.apply(r,[this].concat(n))),"resetEachItem",(function(){t.items.filter((function(t){return!t.isCorrect})).forEach((function(t){return t.reset()}))})),fy(ly(t),"init",(function(){t.items.forEach((function(e){x(e),e.isNoAnswer=""===e.attr(er)?" ":e.attr(er),e.checkItemCorrect=function(){null==e.isCorrect&&(e.isCorrect=e.list.findIndex((function(t){return t.selected}))===e.answerValue)},e.getter("isAnswerList",(function(){return e.list.filter((function(t){return t.index===e.answerValue}))[0]})),e.list=e.getEl(".".concat("js-selectList"," > li")),e.title=e.getEl(".".concat("js-selectTitle"))[0],e.answerValue=Number(e.attr(_n))-1,e.title.defaultValue=e.title.html;var n,r,o=(n=iy().mark((function t(){return iy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.list.forEach((function(t){return t.reset()}));case 1:case"end":return t.stop()}}),t)})),r=function(){var t=this,e=arguments;return new Promise((function(r,o){var i=n.apply(t,e);function a(t){ay(i,r,o,a,c,"next",t)}function c(t){ay(i,r,o,a,c,"throw",t)}a(void 0)}))},function(){return r.apply(this,arguments)}),i=function(t){e.title.html=t};e.onclick((function(){return e.toggle()})),e.open=function(){t.items.forEach((function(t){return t.close()})),e.on(),e.opened=!0,document.onclick=function(t){C(t,e)||e.close()}},e.close=function(){e.off(),e.opened=!1},e.toggle=function(){e.opened?e.close():e.open()},e.complete=function(){var n;n=e.isCorrect?"ITEM_CORRECT":"ITEM_INCORRECT",e.addClass(n),e.close(),e.addClass(it),t.isSaveUserAnswer||(o(),e.isNoAnswer?e.reset():e.isAnswerList.select()),e.isComplete=!0,e.targets.length>0&&e.targets.forEach((function(t){return t.on()})),e.ansButton&&e.ansButton.setState()},e.reset=function(){e.close(),e.removeClass(it,"ITEM_CORRECT","ITEM_INCORRECT"),o(),e.solved=!1,i(e.title.defaultValue),e.removeClass("ENTER").removeAttr("data-selcted-list"),e.isComplete=!1,e.redo(),e.targets.length>0&&e.targets.forEach((function(t){return t.off()})),e.ansButton&&e.ansButton.setState(!1)},e.redo=function(){e.isCorrect=void 0},e.list.forEach((function(n,r){n.selected=!1,n.index=r,n.select=function(){n.selected=!0,n.addClass(at),i(n.html),e.solved=!0,t.isAutoChangeRedoButton&&e.ansButton&&e.ansButton.setState(),e.addClass("ENTER").attr("data-selcted-list",n.index+1),t.setStateButton(),t.callback.select(ly(t),n)},n.reset=function(){n.selected=!1,n.removeClass(at)},n.onclick((function(){o().then((function(){return n.select()})),e.close()}))})),e.reset()}))})),t.callback={select:function(t,e){}},t.init(),t.start(),t}return function(t,e,n){e&&cy(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1})}(o,[{key:"length",get:function(){return this.items.length}},{key:"isSolved",get:function(){var t=this.items.filter((function(t){return t.solved}));return this.isAllSolve?t.length===this.length:t.length>0}},{key:"isCorrect",get:function(){return this.items.filter((function(t){return t.isCorrect})).length===this.length}},{key:"isShowAnswer",get:function(){return this.items.filter((function(t){return t.isShowAnswer})).length===this.length}}]),o}(Zg);function vy(t){return vy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vy(t)}function gy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ey(r.key),r)}}function yy(t,e){return yy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},yy(t,e)}function my(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function by(t){return by=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},by(t)}function wy(t,e,n){return(e=Ey(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ey(t){var e=function(t,e){if("object"!==vy(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==vy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===vy(e)?e:String(e)}function ky(){ky=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),c=new O(o||[]);return r(a,"_invoke",{value:E(t,n,c)}),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f={};function d(){}function p(){}function h(){}var v={};u(v,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(S([])));y&&y!==e&&n.call(y,i)&&(v=y);var m=h.prototype=d.prototype=Object.create(v);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,a,c){var u=s(t[r],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==vy(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,c)}))}c(u.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function E(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=k(a,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function k(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=s(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:M}}function M(){return{value:void 0,done:!0}}return p.prototype=h,r(m,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:p,configurable:!0}),p.displayName=u(h,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,u(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),u(m,c,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function xy(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function Cy(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){xy(i,r,o,a,c,"next",t)}function c(t){xy(i,r,o,a,c,"throw",t)}a(void 0)}))}}var Oy,Sy,My=(null===(py=window.CONFIG)||void 0===py?void 0:py.SND_QUIZ_CHOICE_CLICK)||"click",Py=(Oy=Cy(ky().mark((function t(e){return ky().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.forEach((function(t){return t.reset()}));case 1:case"end":return t.stop()}}),t)}))),function(t){return Oy.apply(this,arguments)}),Ty=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yy(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=by(e);if(n){var o=by(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return function(t,e){if(e&&("object"===vy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return my(t)}(this,t)});function o(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o);for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return wy(my(t=r.call.apply(r,[this].concat(n))),"resetEachItem",(function(){t.items.filter((function(t){return!t.isCorrect})).forEach((function(t){return t.reset()}))})),wy(my(t),"init",(function(){t.items.forEach((function(e){e.getter("selectedItems",(function(){return e.choiceItems.filter((function(t){return t.selected}))})),e.getter("isAnswerItems",(function(){return e.choiceItems.filter((function(t){return e.answerValue.includes(t.index)}))})),e.choiceItems=e.getEl(".".concat("js-choiceItem")),e.answerValue=N(e.attr(_n)).split(",").map((function(t){return Number(t)-1})),e.checkItemCorrect=function(){null==e.isCorrect&&(e.isCorrect=_(e.selectedItems.map((function(t){return t.index})),e.answerValue)||e.isComplete)},e.complete=function(){var n;e.solved=!0,n=e.isCorrect?"ITEM_CORRECT":"ITEM_INCORRECT",e.addClass(n),e.addClass(it),e.choiceItems.forEach((function(n,r){t.isTeacherMode?n.addClass(Wn):e.answerValue.includes(n.index)?n.selected?n.addClass(Fn):n.addClass(Wn):n.selected?n.addClass(Wn):n.addClass(Fn)})),t.isSaveUserAnswer||Py(e.choiceItems),e.isAnswerItems.forEach((function(t){t.select("answer"),t.addClass(Sn)})),e.isComplete=!0,e.targets.length>0&&e.targets.forEach((function(t){return t.on()})),e.ansButton&&e.ansButton.setState()},e.reset=function(){Py(e.choiceItems),e.solved=!1,e.removeClass(it,"ITEM_CORRECT","ITEM_INCORRECT"),e.isComplete=!1,e.redo(),e.targets.length>0&&e.targets.forEach((function(t){return t.off()})),e.ansButton&&e.ansButton.setState(!1)},e.redo=function(){e.isCorrect=void 0},e.choiceItems.forEach((function(n,r){n.selected=!1,n.index=r,n.input=n.prev,n.input.addEvent("change",(function(){n.input.DOM.checked?n.select("noCheck"):n.reset("noCheck")})),n.select=function(r){e.solved=!0,n.selected=!0,"noCheck"!=r&&"answer"!=r&&(n.input.DOM.checked=!0),n.addClass(at),t.isAutoChangeRedoButton&&"click"==r&&t.checkCorrect(),t.isAutoChangeRedoButton&&e.ansButton&&e.ansButton.setState(),t.setStateButton(),"radio"==n.input.DOM.type&&"answer"!=r&&e.choiceItems.forEach((function(t){t.DOM!=n.DOM&&t.reset("noCheck")})),t.callback.select(my(t),n)},n.reset=function(t){n.selected=!1,t||(n.input.DOM.checked=!1),n.removeClass(at),n.removeClass(Sn),n.removeClass(Fn,Wn)},n.onclick(Cy(ky().mark((function r(){var o;return ky().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(playEfSound&&playEfSound(My),!t.isMultiChoice){r.next=16;break}if(!n.selected){r.next=7;break}n.reset(),t.setStateButton(),r.next=13;break;case 7:if(!t.container.attr(zn)){r.next=11;break}if(o=e.choiceItems.filter((function(t){return t.selected})),!(o.length>=Number(t.container.attr(zn)))){r.next=11;break}return r.abrupt("return");case 11:n.select();case 13:r.next=17;break;case 16:t.isToggleChoice&&n.selected?n.reset():Py(e.choiceItems).then((function(){return n.select("click")}));case 17:case"end":return r.stop()}}),r)}))))})),e.reset()}))})),t.callback={select:function(t,e){}},t.isMultiChoice=t.options.includes("multiChoice"),t.isToggleChoice=t.options.includes("toggleChoice"),t.init(),t.start(),t}return function(t,e,n){e&&gy(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1})}(o,[{key:"length",get:function(){return this.items.length}},{key:"isSolved",get:function(){var t=this.items.filter((function(t){return t.solved}));return this.isAllSolve?t.length===this.length:t.length>0}},{key:"isCorrect",get:function(){return this.items.filter((function(t){return t.isCorrect})).length===this.length}},{key:"isShowAnswer",get:function(){return this.items.filter((function(t){return t.isShowAnswer})).length===this.length}}]),o}(Zg);function Ly(t){return Ly="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ly(t)}function Iy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ay(r.key),r)}}function jy(t,e){return jy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},jy(t,e)}function Dy(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _y(t){return _y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_y(t)}function Ny(t,e,n){return(e=Ay(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ay(t){var e=function(t,e){if("object"!==Ly(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Ly(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Ly(e)?e:String(e)}var By,Ry,Fy=(null===(Sy=window.CONFIG)||void 0===Sy?void 0:Sy.SND_QUIZ_TOGGLE_CLICK)||"click",Wy=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jy(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=_y(e);if(n){var o=_y(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return function(t,e){if(e&&("object"===Ly(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Dy(t)}(this,t)});function o(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o);for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return Ny(Dy(t=r.call.apply(r,[this].concat(n))),"resetEachItem",(function(){t.items.filter((function(t){return!t.isCorrect})).forEach((function(t){return t.reset()}))})),Ny(Dy(t),"init",(function(){t.items.forEach((function(e){x(e),e.hover(),e.checkItemCorrect=function(){null==e.isCorrect&&(e.isCorrect=e.opened)},e.getter("prevItem",(function(){return t.items.filter((function(t){return t.itemIndex===e.prevIndex-1}))[0]})),e.prevIndex=e.attr(Nn)?Number(e.attr(Nn))+1:null,e.prevIndex&&(e.prevItem.nextItem=e),e.onclick((function(){playEfSound&&playEfSound(Fy),e.prevIndex&&!e.prevItem.opened||e.toggle(),t.setStateButton()})),e.open=function(){e.on(),e.opened=!0,e.isComplete=!0,t.callback.toggleOpen(Dy(t),e)},e.close=function(){e.nextItem&&e.nextItem.close(),e.off(),e.opened=!1,e.removeClass(it),e.isComplete=!1,t.isComplete=!1,t.callback.toggleClose(Dy(t),e)},e.toggle=function(){e.opened?e.close():e.complete()},e.complete=function(){e.opened||e.open(),e.addClass(it),e.isComplete=!0,e.targets.length>0&&e.targets.forEach((function(t){return t.on()})),e.ansButton&&e.ansButton.setState(),t.items.filter((function(t){return t.isComplete})).length===t.length&&t.isAutoChangeRedoButton&&(t.isComplete=!0)},e.reset=function(){e.close(),e.removeClass(it),e.redo(),e.targets.length>0&&e.targets.forEach((function(t){return t.off()})),e.ansButton&&e.ansButton.setState(!1)},e.redo=function(){e.isCorrect=void 0},e.reset()}))})),t.callback={toggleOpen:function(t,e){},toggleClose:function(t,e){}},t.init(),t.start(),t}return function(t,e,n){e&&Iy(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1})}(o,[{key:"length",get:function(){return this.items.length}},{key:"isSolved",get:function(){var t=this.items.filter((function(t){return t.opened}));return this.isAllSolve?t.length===this.length:t.length>0}},{key:"isCorrect",get:function(){return this.items.filter((function(t){return t.isCorrect})).length===this.length}},{key:"isShowAnswer",get:function(){return this.items.filter((function(t){return t.isShowAnswer})).length===this.length}}]),o}(Zg);function zy(t){return zy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zy(t)}function Vy(){Vy=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),c=new O(o||[]);return r(a,"_invoke",{value:E(t,n,c)}),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f={};function d(){}function p(){}function h(){}var v={};u(v,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(S([])));y&&y!==e&&n.call(y,i)&&(v=y);var m=h.prototype=d.prototype=Object.create(v);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,a,c){var u=s(t[r],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==zy(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,c)}))}c(u.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function E(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=k(a,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function k(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=s(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:M}}function M(){return{value:void 0,done:!0}}return p.prototype=h,r(m,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:p,configurable:!0}),p.displayName=u(h,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,u(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),u(m,c,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function Gy(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function qy(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Gy(i,r,o,a,c,"next",t)}function c(t){Gy(i,r,o,a,c,"throw",t)}a(void 0)}))}}function Uy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Xy(r.key),r)}}function Hy(t,e){return Hy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Hy(t,e)}function Yy(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qy(t){return Qy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Qy(t)}function Zy(t,e,n){return(e=Xy(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xy(t){var e=function(t,e){if("object"!==zy(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==zy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===zy(e)?e:String(e)}var $y=(null===(By=window.CONFIG)||void 0===By?void 0:By.SND_QUIZ_DRAG_CORRECT)||"success",Ky=(null===(Ry=window.CONFIG)||void 0===Ry?void 0:Ry.SND_QUIZ_DRAG_INCORRECT)||"fail";function Jy(t){var e=t.parent,n=b(e.DOM);return{top:(t.origin.bounding.top-e.bounding.top)/n,left:(t.origin.bounding.left-e.bounding.left)/n}}var tm,em,nm,rm=function(t){t.forEach((function(t){return t.addClass(Xn)}))},om=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hy(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=Qy(e);if(n){var o=Qy(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return function(t,e){if(e&&("object"===zy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Yy(t)}(this,t)});function o(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o);for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return Zy(Yy(t=r.call.apply(r,[this].concat(n))),"positionInit",(function(){})),Zy(Yy(t),"resetEachItem",(function(){t.isMultiDrop?t.drops.forEach((function(t){var e=t.droppedClones.filter((function(e){return!t.answerValue.includes(e.origin.answerValue)}));null==e||e.forEach((function(e){t.droppedClones=t.droppedClones.filter((function(t){return t!==e})),e.origin.reset(),e.remove()}))})):t.drops.filter((function(t){return!t.isCorrect&&t.droppedClones.length>0})).forEach((function(t){return t.reset()}))})),Zy(Yy(t),"init",(function(){var e=function(e){tt({dragObj:e.DOM,container:document.querySelector("div"),callback:{start:n.bind(Yy(t),e),move:o.bind(Yy(t),e),end:i.bind(Yy(t),e)}})};function n(t,e,n){t.droppedItem.removeClone(t),t.origin.draggingItem=t,t.addClass(Yn),t.startValue={top:t.bounding.top,left:t.bounding.left},this.isAutoChangeRedoButton&&(t.droppedItem.redo(),t.droppedItem.isComplete=!1,this.isComplete=this.drops.filter((function(t){return t.isComplete})).length==this.length,t.droppedItem.ansButton&&t.droppedItem.ansButton.setState(),this.setStateButton()),(this.isFreeDrag||this.isCopyDrag)&&rm(this.clones),this.container.append(t.DOM),t.origin.setMove(e,n),this.callback.start(this,t,n)}function r(t,e,n){var r=t.addClone();r.addClass(Yn),r.startValue={top:t.bounding.top,left:t.bounding.left},(this.isFreeDrag||this.isCopyDrag)&&rm(this.clones),this.container.append(r.DOM),t.setMove(e,n),this.callback.start(this,t.draggingItem,n)}function o(t,e,n){(t.isClone?t.origin:t).setMove(e,n),this.callback.move(this,t,n)}function i(t,e,n){var r=this,o=t.isClone?t:t.draggingItem;o.style({pointerEvents:""}),this.clones.forEach((function(t){return t.removeClass(Xn)})),this.callback.end(this,t,e,n);var i=this.drops.filter((function(t){return t.contains(e.dropElement)}))[0];i&&this.isExchange&&i.exchange();var a=this.isFreeDrag;i&&(a||function(e){return e.checkCorrect(t)||r.isNoAnswer}(i)&&function(t){return t.droppedClones.length<1||r.isCopyDrag||r.isMultiDrop&&!t.hasClone(o)}(i))?(this.isNoSound||playEfSound&&playEfSound($y),i.drop(t,o),this.isAutoChangeRedoButton&&i.droppedClones.length==i.answerValue.length&&(i.isComplete=!0),this.callback.dragCorrect(this,t,i)):(!this.isNoSound&&i&&playEfSound&&playEfSound(Ky),ii({targets:o.DOM,top:"".concat(Jy(o).top,"px"),left:"".concat(Jy(o).left,"px"),duration:300}),setTimeout((function(){o.DOM.remove(),(t.isClone?t.origin:t).removeClass(Zn)}),300),this.callback.dragIncorrect(this,t)),(t.isClone?t.origin:t).draggingItem=null,this.isAutoChangeRedoButton&&(i&&i.ansButton&&i.ansButton&&i.ansButton.setState(),this.isComplete=this.drops.filter((function(t){return t.isComplete})).length==this.length),this.setStateButton()}t.setClone=e,t.drags.forEach((function(e,n){e.index=n,e.answerValue=Number(e.attr(Kn)),tt({dragObj:e.DOM,container:document.querySelector("div"),callback:{start:r.bind(Yy(t),e),move:o.bind(Yy(t),e),end:i.bind(Yy(t),e)}}),e.setMove=function(t,n){var r,o,i,a=(i=b((o=(r=e.draggingItem).parent).DOM),{top:(r.startValue.top-o.bounding.top)/i,left:(r.startValue.left-o.bounding.left)/i});e.draggingItem.style({top:"".concat(Math.max(a.top+t.moveY,0),"px"),left:"".concat(a.left+t.moveX,"px")})},e.complete=function(){e.addClass(Zn,it)},e.reset=function(){e.removeClass(Zn,Yn,it),e.draggingItem=null},e.addClone=function(){var t=e.clone;return t.origin=e,e.addClass(Zn),e.draggingItem=t,t},e.redo=function(){},e.reset()})),t.drops.forEach((function(n,r){var o;n.checkItemCorrect=function(){null==n.isCorrect&&(n.isNoAnswer?n.isCorrect=0===n.droppedClones.length:n.isCorrect=_(n.droppedClones.map((function(t){return t.origin.answerValue})),n.answerValue))},n.index=r,n.type=n.attr(Jn),n.answerValue=N(n.attr(Kn)).split(",").map((function(t){return Number(t)})),n.droppedClones=[],n.droppedIndex=0,n.isNoAnswer=n.attr(er)||!1,n.checkCorrect=function(t){var e=t.isClone?t.origin.answerValue:t.answerValue;return n.answerValue.includes(e)},n.hasClone=function(t){return n.droppedClones.filter((function(e){return e.origin.index===t.origin.index})).length>0},n.getCorrectDrags=function(){return t.drags.filter((function(t){return n.checkCorrect(t)}))},n.appendClone=function(){var e=qy(Vy().mark((function e(r){return Vy().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.isFreeDrag||t.isCopyDrag||n.append(r.DOM),n.droppedClones.push(r),r.droppedIndex=n.droppedIndex,n.droppedIndex++,n.solved=!0,n.addClass(Qn),n.attr(tr,n.droppedClones.length);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.removeClone=(o=qy(Vy().mark((function t(e){return Vy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.droppedClones=n.droppedClones.filter((function(t){return t.droppedIndex!==e.droppedIndex})),0===n.droppedClones.length&&(n.removeClass(Qn,it),n.solved=!1),n.attr(tr,n.droppedClones.length),n.ansButton&&n.ansButton.setState(!1);case 4:case"end":return t.stop()}}),t)}))),function(t){return o.apply(this,arguments)}),n.complete=function(){var e=n.isCorrect?"ITEM_CORRECT":"ITEM_INCORRECT";n.addClass(Qn,it),t.isSaveUserAnswer?n.droppedClones.length>0?n.droppedClones.forEach((function(e){if(n.answerValue.includes(e.origin.answerValue))t.isTeacherMode?e.addClass("item_incorrect"):e.addClass("item_correct"),n.getCorrectDrags().forEach((function(t){var e=t.clone;e.origin=t,n.droppedClones.some((function(t){return t.origin.answerValue===e.origin.answerValue}))||(n.appendClone(e),e.addClass("item_blank",Zn))}));else{var r=n.getCorrectDrags().filter((function(t){return!n.droppedClones.map((function(t){return t.origin.answerValue})).includes(t.answerValue)}));r.forEach((function(t){var e=t.clone;e.origin=t,e.addClass("item_added"),n.appendClone(e)})),e.addClass("item_incorrect")}})):n.getCorrectDrags().forEach((function(t){var e=t.clone;e.origin=t,n.droppedClones.some((function(t){return t.origin.answerValue===e.origin.answerValue}))||(n.appendClone(e),e.addClass("item_blank",Zn))})):(n.reset(!0),n.getCorrectDrags().forEach((function(e){var r=e.clone;r.origin=e,n.appendClone(r),t.isFreeDrag||t.isCopyDrag||t.isMultiDrop||e.addClass(Zn)}))),n.addClass(e),n.getCorrectDrags().forEach((function(e){t.isFreeDrag||t.isCopyDrag||e.addClass($n)})),n.isComplete=!0,n.targets.length>0&&n.targets.forEach((function(t){return t.on()})),n.ansButton&&n.ansButton.setState()},n.exchange=function(){n.solved=!1,n.droppedClones.forEach((function(t){t.remove(),t.origin.removeClass(Zn)})),n.droppedClones=[],n.droppedIndex=0,n.removeClass(Qn,it),n.attr(tr,n.droppedClones.length),n.isComplete=!1,n.targets.length>0&&n.targets.forEach((function(t){return t.off()})),n.ansButton&&n.ansButton.setState(!1)},n.drop=function(r,o){r.isClone||e(o),n.addClass(Qn),n.appendClone(o),o.droppedItem=n,(t.isFreeDrag||t.isCopyDrag)&&(r.isClone?r.origin:r).removeClass(Zn),t.isFreeDrag||t.isCopyDrag?o.addClass("freeDrag"):o.style({top:"",left:""}),o.removeClass(Yn)},n.reset=function(e){t.isClearSameDrag&&n.getCorrectDrags().forEach((function(e){e.matches(".".concat(Zn))&&t.drops.filter((function(t){return t.droppedClones.length>0})).forEach((function(t){t.droppedClones.filter((function(t){return t.origin===e})).forEach((function(e){e.remove(),e.origin.removeClass(Zn),t.droppedClones=t.droppedClones.filter((function(t){return t!==e}))}))}))})),n.solved=!1,n.droppedClones.forEach((function(t){t.remove(),t.origin.removeClass(Zn)})),n.droppedClones=[],n.droppedIndex=0,n.removeClass(Qn,it,"ITEM_CORRECT","ITEM_INCORRECT"),n.attr(tr,n.droppedClones.length),n.getCorrectDrags().forEach((function(t){t.removeClass(Zn,it,$n)})),n.isComplete=!1,e||n.redo(),n.targets.length>0&&n.targets.forEach((function(t){return t.off()})),n.ansButton&&n.ansButton.setState(!1)},n.redo=function(){n.isCorrect=void 0},n.reset()}))})),t.callback={start:function(t,e,n){},move:function(t,e,n){},end:function(t,e,n){},dragCorrect:function(t,e,n){},dragIncorrect:function(t,e){}},t.isNoAnswer=t.options.includes(An),t.isMultiDrop=t.options.includes(Bn),t.isFreeDrag=t.options.includes(Rn),t.isCopyDrag=t.options.includes("copyDrag"),t.isExchange=t.options.includes("exchange"),t.isClearSameDrag=t.options.includes("clearSameDrag"),t.init(),t.start(),t}return function(t,e,n){e&&Uy(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1})}(o,[{key:"drops",get:function(){return this.items.filter((function(t){return"drop"===t.attr(Jn)}))}},{key:"drags",get:function(){return this.items.filter((function(t){return"drag"===t.attr(Jn)}))}},{key:"clones",get:function(){return this.drops.map((function(t){return t.droppedClones})).flat()}},{key:"length",get:function(){return this.drops.length}},{key:"isSolved",get:function(){var t=this,e=this.drops.filter((function(e){return t.isAllSolve&&e.isNoAnswer||e.solved}));return this.isAllSolve?e.length===this.length:e.length>0}},{key:"isCorrect",get:function(){return this.drops.filter((function(t){return t.isCorrect})).length===this.length}},{key:"isShowAnswer",get:function(){return this.drops.filter((function(t){return t.isShowAnswer})).length===this.length}}]),o}(Zg);function im(t){return im="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},im(t)}function am(){am=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),c=new O(o||[]);return r(a,"_invoke",{value:E(t,n,c)}),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f={};function d(){}function p(){}function h(){}var v={};u(v,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(S([])));y&&y!==e&&n.call(y,i)&&(v=y);var m=h.prototype=d.prototype=Object.create(v);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,a,c){var u=s(t[r],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==im(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,c)}))}c(u.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function E(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=k(a,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function k(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=s(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:M}}function M(){return{value:void 0,done:!0}}return p.prototype=h,r(m,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:p,configurable:!0}),p.displayName=u(h,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,u(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),u(m,c,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function cm(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function um(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pm(r.key),r)}}function lm(t,e){return lm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},lm(t,e)}function sm(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fm(t){return fm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},fm(t)}function dm(t,e,n){return(e=pm(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pm(t){var e=function(t,e){if("object"!==im(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==im(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===im(e)?e:String(e)}var hm=(null===(tm=window.CONFIG)||void 0===tm?void 0:tm.SND_QUIZ_LINE_NOANSWER)||"click",vm=(null===(em=window.CONFIG)||void 0===em?void 0:em.SND_QUIZ_LINE_CORRECT)||"success",gm=(null===(nm=window.CONFIG)||void 0===nm?void 0:nm.SND_QUIZ_LINE_INCORRECT)||"fail";function ym(t){var e=t.svgContainer,n=document.createElementNS("http://www.w3.org/2000/svg","line");return e.append(n),n}function mm(t,e,n,r,o){var i=r.getComputed("left")?r.getComputed("left"):0,a=r.getComputed("top")?r.getComputed("top"):0;t.setAttribute("x1",e.x-i),t.setAttribute("y1",e.y-a),t.setAttribute("x2",n.x-i),t.setAttribute("y2",n.y-a),o&&t.classList.add("answerd"),r.getEl(".answerd").forEach((function(t){return r.DOM.appendChild(t.DOM)}))}function bm(t,e){var n=e.getComputed("left")?e.getComputed("left"):0,r=e.getComputed("top")?e.getComputed("top"):0;return{y:(t.eventPointer.y-e.bounding.top)/t.zoomRate+r,x:(t.eventPointer.x-e.bounding.left)/t.zoomRate+n}}function wm(t,e){return t.filter((function(t){return t.answerValue[0]===e}))[0]}var Em=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lm(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=fm(e);if(n){var o=fm(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return function(t,e){if(e&&("object"===im(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return sm(t)}(this,t)});function o(){var t,e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return dm(sm(t=r.call.apply(r,[this].concat(i))),"positionInit",(function(){t.showSampleAnswer()})),dm(sm(t),"resetEachItem",(function(){t.items.filter((function(t){return!t.isCorrect})).forEach((function(t){return t.reset()}))})),dm(sm(t),"showSampleAnswer",(e=am().mark((function e(){return am().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.preAnswered){e.next=8;break}if(t.thisHasPointer){e.next=5;break}return e.next=4,new Promise((function(t){return setTimeout(t,10)}));case 4:t.initialPointer();case 5:t.svgContainer.getEl(".answerd").forEach((function(t){return t.remove()})),t.drags.filter((function(t){return t.hasAttr(or)})).forEach((function(e){e.answerValue.forEach((function(n){if(""!=e.attr(or)&&e.attr(or)!=n)return!1;e.answerLine=ym(sm(t));var r=wm(t.drops.filter((function(t){return t.group===e.group})),n);mm(e.answerLine,e.pointer,r.pointer,t.svgContainer,"answerd"),e.answerLine.setAttribute(or,n),0==e.dropped.filter((function(t){return t.index==r.answerValue[0]})).length&&e.dropped.push({line:e.answerLine,item:r,index:r.answerValue[0]}),e.addClass(it),t.isMultiDrop||r.addClass(it),t.isMultiDrop||(e.addClass(it),r.addClass(it))}))}));case 8:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(t){cm(i,r,o,a,c,"next",t)}function c(t){cm(i,r,o,a,c,"throw",t)}a(void 0)}))})),dm(sm(t),"reset",(function(){t.isNoReset||t.hideAnswer(),t.userTryCount=1,t.isComplete=!1,t.setStateButton(),t.items.forEach((function(t){return t.removeClass(it)})),t.container.removeClass("QUIZ_CORRECT","QUIZ_INCORRECT","QUIZ_FINISH"),document.querySelector("div").classList.remove(Mn),t.svgContainer.html="",t.showSampleAnswer(),t.handler&&t.handler.length>0&&t.handler.forEach((function(t){return t.container.removeClass(Mn)})),t.callback.reset(sm(t))})),dm(sm(t),"getDragItem",(function(e){return t.drags.filter((function(t){return t.solved})).filter((function(t){return t.containsDropItem(e)}))[0]})),t.callback={start:function(t,e){},move:function(t,e){},end:function(t,e){},dragCorrect:function(t,e,n){},dragIncorrect:function(t,e){}},t.isNoAnswer=t.options.includes(An),t.isMultiDrop=t.options.includes(Bn),t.isOneMultiDrop=t.options.includes("oneMultiDrop"),t.isFreeDrag=t.options.includes(Rn),t.init(),t.start(),t}return function(t,e,n){e&&um(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1})}(o,[{key:"drops",get:function(){return this.items.filter((function(t){return"drop"===t.attr(rr)}))}},{key:"drags",get:function(){return this.items.filter((function(t){return"drag"===t.attr(rr)}))}},{key:"length",get:function(){return this.drags.length}},{key:"isSolved",get:function(){var t=this.drags.filter((function(t){return t.solved}));return this.isAllSolve?t.length===this.length:t.length>0}},{key:"isCorrect",get:function(){return this.drags.filter((function(t){return t.isCorrect})).length===this.length}},{key:"isShowAnswer",get:function(){return this.drags.filter((function(t){return t.isShowAnswer})).length===this.length}},{key:"preAnswered",get:function(){return this.drags.find((function(t){return t.hasAttr(or)}))}},{key:"thisHasPointer",get:function(){return this.items.filter((function(t){return t.pointer&&!(0===t.pointer.x&&0===t.pointer.y)})).length===this.items.length}},{key:"initialPointer",value:function(){this.items.forEach((function(t){t.pointer={x:t.left-t.width/2,y:t.top-t.height/2}}))}},{key:"init",value:function(){var t=this,e=function(e,n){e.removeClass(Zn),e.solved=!1,e.dropped.forEach((function(r){var o;n?n==r&&(r.line.remove(),e.dropped.forEach((function(t,e){t==n&&(o=e)})),e.dropped.splice(o,1),t.getDragItem(r.item)||r.item.removeClass(Qn)):(r.line.remove(),t.getDragItem(r.item)||r.item.removeClass(Qn))})),t.isOneMultiDrop||(e.dropped=[]),e.ansButton&&t.isAutoChangeRedoButton&&e.ansButton.setState(!1)};function n(t,n,r){if(this.initialPointer(),!this.isMultiDrop)if(this.isOneMultiDrop)t.matches(".".concat(Qn))&&this.drags.forEach((function(n){var r=n.dropped&&n.dropped.filter((function(e){if(t==e.item)return e}))[0];r&&e(n,r)}));else if("drag"===t.type)t.dropped.length>0&&e(t);else if(t.matches(".".concat(Qn))){var o=this.drags.filter((function(e){return t.answerValue.includes(e.droppedIndex[0])}))[0];e(o)}t.newLine=ym(this),t.addClass(Yn);var i=bm(n,this.svgContainer);mm(t.newLine,t.pointer,i,this.svgContainer),this.callback.start(this,t,r)}function r(t,e,n){var r=bm(e,this.svgContainer);t.pointer.x,e.moveX,t.pointer.y,e.moveY,mm(t.newLine,t.pointer,r,this.svgContainer),this.callback.move(this,t,n)}function o(t,n,r){var o=this;t.removeClass(Yn),this.callback.end(this,t);var i=("drag"===t.type?this.drops:this.drags).filter((function(t){return t.contains(n.dropElement)}))[0],a=this.isFreeDrag,c="drag"===t.type?t:i,u="drag"===t.type?i:t;if(i&&function(e){return e.group===t.group}(i)&&(a||function(e){return e.checkCorrect(t)||o.isNoAnswer}(i))&&!function(e){var n="drag"===t.type?t:e,r="drag"===t.type?e:t;return n.dropped.filter((function(t){return t.item===r})).length>0}(i)?(this.isNoSound||(this.isNoAnswer?playEfSound&&playEfSound(hm):playEfSound&&playEfSound(vm)),mm(t.newLine,t.pointer,i.pointer,this.svgContainer),this.isMultiDrop||this.isOneMultiDrop||(c.dropped.length>0?e(c):u.matches(".".concat(Qn))&&e(this.getDragItem(u))),this.isOneMultiDrop&&"drag"===t.type&&this.drags.forEach((function(t){var n=t.dropped&&t.dropped.filter((function(t){if(i==t.item)return t}))[0];n&&e(t,n)})),c.addClass(Zn),u.addClass(Qn),c.dropped.push({line:t.newLine,item:u,index:u.answerValue[0]}),c.solved=!0,this.isAutoChangeRedoButton&&c.ansButton?(c.checkItemCorrect(),c.complete(),c.ansButton&&c.ansButton.setState()):c.isCorrect||(c.ansButton&&c.ansButton.setState(!1),c.removeClass(it)),this.callback.dragCorrect(this,c,u)):(!this.isNoSound&&i&&(this.isNoAnswer?playEfSound&&playEfSound(hm):playEfSound&&playEfSound(gm)),t.newLine.remove(),this.callback.dragIncorrect(this,t)),this.isAutoChangeRedoButton&&!c.ansButton){var l=this.drags.filter((function(t){return t.dropped.length==t.answerValue.length}));l.length==this.drags.length&&this.checkCorrect()}t.newLine=null,this.setStateButton()}this.svgContainer=this.container.getEl(".".concat("js-quizSvgContainer"))[0],this.items.forEach((function(e){e.answerValue=e.attr(nr)&&N(e.attr(nr)).split(",").map((function(t){return Number(t)}))||"noAnswer",e.type=e.attr(rr),e.group=Number(e.attr("data-group"))||1,e.dropped=[],e.newLine=null,tt({dragObj:e.DOM,container:t.container.DOM,callback:{start:n.bind(t,e),move:r.bind(t,e),end:o.bind(t,e)}})})),this.drags.forEach((function(n){n.checkItemCorrect=function(){if(null==n.isCorrect)if("noAnswer"==n.answerValue)n.isCorrect=null==n.droppedIndex[0];else{var t=_(n.answerValue,n.droppedIndex);n.isCorrect=t}},n.getter("droppedIndex",(function(){return n.dropped.map((function(t){return t.index}))})),n.complete=function(){t.initialPointer();var r,o=n.isCorrect;r=o?"ITEM_CORRECT":"ITEM_INCORRECT",n.addClass(r),n.dropped.length>0&&!t.isSaveUserAnswer&&e(n),n.solved=!0,n.addClass(it),"noAnswer"!=n.answerValue&&n.answerValue.forEach((function(e){if(!n.answerLine||n.answerLine&&n.answerLine.getAttribute(or)!=e){var o=wm(t.drops.filter((function(t){return t.group===n.group})),e);n.drawline(o,r)}})),t.showSampleAnswer(),n.isComplete=!0,n.targets.length>0&&n.targets.forEach((function(t){return t.on()})),n.ansButton&&n.ansButton.setState()},n.drawline=function(e,r){var o=ym(t);n.dropped.push({line:o,item:e,index:e.answerValue[0]}),o.classList.add(it),o.classList.add(r),t.isMultiDrop||e.complete(),mm(o,n.pointer,e.pointer,t.svgContainer)},n.reset=function(){n.dropped.length>0&&(n.dropped.forEach((function(t){return t.item.removeClass(it)})),e(n)),n.dropped=[],n.newLine=null,n.solved=!1,n.removeClass(Zn,Qn,it,"ITEM_CORRECT","ITEM_INCORRECT"),n.isComplete=!1,n.redo(),t.isMultiDrop&&t.drops.forEach((function(t){return t.removeClass(it)})),n.targets.length>0&&n.targets.forEach((function(t){return t.off()})),t.showSampleAnswer(),n.ansButton&&n.ansButton.setState(!1)},n.checkCorrect=function(t){return n.answerValue.includes(t.answerValue[0])},n.containsDropItem=function(t){return n.dropped.filter((function(e){return e.item.itemIndex===t.itemIndex})).length>0},n.redo=function(){n.isCorrect=void 0},n.reset()})),this.drops.forEach((function(t){t.complete=function(){t.solved=!0,t.addClass(Qn,it)},t.reset=function(){t.newLine=null,t.solved=!1,t.removeClass(Zn,Qn,it)},t.checkCorrect=function(e){return e.answerValue.includes(t.answerValue[0])},t.redo=function(){},t.reset()}))}}]),o}(Zg);function km(t,e,n){var r;switch(t.index=Number(t.attr(Ln))||e,t.type=t.attr("data-quiz-type"),t.attr(Ln,t.index),t.type){case"input":case"essay":r=new ry(t,n);break;case"select":r=new hy(t,n);break;case"choice":r=new Ty(t,n);break;case"toggle":r=new Wy(t,n);break;case"dragdrop":r=new om(t,n);break;case"dragline":r=new Em(t,n)}return window.CONTENTS_QUIZ.push(r),r}function xm(t){return xm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xm(t)}function Cm(){Cm=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),c=new O(o||[]);return r(a,"_invoke",{value:E(t,n,c)}),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f={};function d(){}function p(){}function h(){}var v={};u(v,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(S([])));y&&y!==e&&n.call(y,i)&&(v=y);var m=h.prototype=d.prototype=Object.create(v);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,a,c){var u=s(t[r],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==xm(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,c)}))}c(u.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function E(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=k(a,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function k(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=s(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:M}}function M(){return{value:void 0,done:!0}}return p.prototype=h,r(m,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:p,configurable:!0}),p.displayName=u(h,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,u(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),u(m,c,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function Om(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function Sm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Im(r.key),r)}}function Mm(t,e){return Mm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Mm(t,e)}function Pm(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Tm(t){return Tm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Tm(t)}function Lm(t,e,n){return(e=Im(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Im(t){var e=function(t,e){if("object"!==xm(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==xm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===xm(e)?e:String(e)}function jm(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function Dm(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,_m(t,e,"get"))}function _m(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function Nm(t,e){return new Rm(t,e)}var Am=new WeakMap,Bm=new WeakMap,Rm=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mm(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=Tm(e);if(n){var o=Tm(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return function(t,e){if(e&&("object"===xm(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Pm(t)}(this,t)});function o(t,e){var n,i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),jm(Pm(n=r.call(this,t,e)),Am,{writable:!0,value:void 0}),Lm(Pm(n),"instance",{play:function(){},pause:function(){},stop:function(){},timeupdate:function(t){if(!n.isPlayAgainMode){var e=Sa(n.media.currentList.data.end);!n.isClickedTargetPlayMode&&!n.isLastPlaying&&t>=e&&n.nextMediaPlay()}},afterLoading:function(){var t,e,r;t=Pm(n),e=Am,r=n.media.list.map((function(t){return t.data})),function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,_m(t,e,"set"),r),n.addLanguageScript(Dm(Pm(n),Am)),Dm(Pm(n),Bm).call(Pm(n))},reset:function(){}}),jm(Pm(n),Bm,{writable:!0,value:function(){var t=getEl(".".concat("js-sceneBox","[").concat(Ot,'="').concat(n.index,'"]'))[0];if(t){var e=t.getEl(".".concat("js-scene")),r=e.map((function(t){return t.attr("data-scene")})).map((function(t){var e=t.split(",").map((function(t){return Number(t.trim())})),r=e[0],o=e[1]||e[0];return{start:Oa(Dm(Pm(n),Am)[r].start),end:Sa(Dm(Pm(n),Am)[o].end)}}));n.addScene(r,{container:t,targets:e})}}}),Lm(Pm(n),"nextMediaPlay",(i=Cm().mark((function t(){return Cm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:getIsMobile()&&n.languageScript.listOff(n.playIndex),n.media.changeSrc(n.media.playIndex+1),n.media.DOM.playbackRate=n.speed,n.media.play(),n.callback.changeMediaIndex(n.media.playIndex);case 5:case"end":return t.stop()}}),t)})),function(){var t=this,e=arguments;return new Promise((function(n,r){var o=i.apply(t,e);function a(t){Om(o,n,r,a,c,"next",t)}function c(t){Om(o,n,r,a,c,"throw",t)}a(void 0)}))})),n.media.DOM.addEventListener("ended",(function(){n.media.isEnded=!0,!1!==n.media.currentList.data.again&&n.isPlaying||(n.isLastPlaying?n.stop():n.nextMediaPlay())})),n}return function(t,e,n){e&&Sm(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1})}(o,[{key:"isLastPlaying",get:function(){return this.media.playIndex===this.languageScript.scriptList.length-1}}]),o}(th),Fm={initTimer:function(t,e){var n={_callback:{timeUpdate:function(t){}}};Object.defineProperty(n,"callback",{set:function(t){inheritanceProperties(n._callback,t)},get:function(){return n._callback}}),n.container=t,n.type=t.attr("data-timer-type")||"horizon",n.totalTime=Number(t.attr("data-timer-time"))||60,n.audio=t.attr("data-timer-audio"),n.progressbar=M({parent:t.DOM,className:"timerProgress"}),n.current=M({parent:t.DOM,className:"timerClock"});var r=n.container.width,o=n.container.height,i=new Audio;return window.pushAudio(i),n.start=function(){cancelAnimationFrame(n.request);var t=0;r=n.container.width,o=n.container.height,n.setRate(0),n.audio&&(i.src=n.audio,i.loop=!0,i.play()),function r(o){0===t&&o&&(t=o);var a=(o-t)/1e3;if(n.setRate(a/n.totalTime),n.setTime(n.totalTime-a),n.callback.timeUpdate(Number(a)),a>=n.totalTime)return cancelAnimationFrame(n.request),e(),void(n.audio&&(i.currentTime=0,i.pause()));n.request=requestAnimationFrame(r)}()},n.setTime=function(t){n.current.html=isNaN(t)?n.totalTime:Math.floor(t)+1},n.setRate=function(t){switch(n.type){case"vertical":n.progressbar.style({height:"".concat(o*(1-t),"px")});break;case"horizon":n.progressbar.style({width:"".concat(r*(1-t),"px")})}},n.stop=function(){cancelAnimationFrame(n.request),n.audio&&(i.currentTime=0,i.pause())},n},initEnlarger:function(t){var e={};function n(t){var n=t.top,r=t.left;e.target.style({left:"".concat(Math.min(0,Math.max(r,-e.target.maxX)),"px"),top:"".concat(Math.min(0,Math.max(n,-e.target.maxY)),"px")})}return addGetter(e,"scale",(function(){return e.currentScale})),e.container=t,e.fontSize=t.getComputed("fontSize")||50,e.type=t.attr("data-type")||"vertical",e.max=Number(t.attr("data-max"))||3,e.min=Number(t.attr("data-min"))||1,e.step=Number(t.attr("data-step"))||10,e.target=t.getEl(".".concat("js-target"))[0],e.controls=function(t){var e=M({parent:t.container.DOM,className:"enlargerControls"}),n=M({parent:e.DOM,className:"progressBar"}),r=M({tag:"button",parent:e.DOM,className:"zoominButton"}).hover(),o=M({tag:"button",parent:e.DOM,className:"zoomoutButton"}).hover(),i=M({tag:"button",parent:n.DOM,className:"controller"}).hover();function a(n){var r=n.eventPointer,o=n.zoomRate;if("vertical"===t.type){var i=(r.y-e.bounding.top)/o,a=Math.max(0,Math.min(i,e.height)),c=t.scaleRange*(a/e.height);t.setScale(t.min+c)}else{var u=(r.x-e.bounding.left)/o,l=Math.max(0,Math.min(u,e.width)),s=t.scaleRange*(l/e.width);t.setScale(t.min+s)}}return e.addClass(t.type),tt({dragObj:n.DOM,callback:{start:function(t,e){a(t)},move:function(t,e){a(t)},end:function(t,e){}}}),r.onclick((function(){return t.zoomin()})),o.onclick((function(){return t.zoomout()})),{container:e,controller:i,moveToController:function(e){"vertical"===t.type?i.style({top:"".concat((e-t.min)/t.scaleRange*100,"%")}):i.style({left:"".concat((e-t.min)/t.scaleRange*100,"%")})}}}(e),e.currentScale=e.min,e.scaleRange=e.max-e.min,e.changeValue=e.scaleRange/e.step,e._callback={max:function(t){},min:function(t){},controlling:function(t){}},Object.defineProperty(e,"callback",{set:function(t){inheritanceProperties(e._callback,t)},get:function(){return e._callback}}),tt({dragObj:e.target.DOM,callback:{start:function(t,e){},move:function(t,r){1!==e.scale&&n({top:t.movedY,left:t.movedX})},end:function(t,e){}}}),e.zoomin=function(){e.currentScale<e.max&&e.setScale(Math.min(e.max,e.currentScale+e.changeValue)),e.currentScale===e.max&&e.callback.max(e)},e.zoomout=function(){e.currentScale>e.min&&e.setScale(Math.max(e.min,e.currentScale-e.changeValue)),e.currentScale===e.min&&e.callback.min(e)},e.setScale=function(t){var r=e.container.width*t,o=e.container.height*t;e.target.maxX=r-e.container.width,e.target.maxY=o-e.container.height,n({top:e.target.top-(o-e.target.height)/2,left:e.target.left-(r-e.target.width)/2}),e.target.style({width:"".concat(r,"px"),height:"".concat(o,"px"),fontSize:"".concat(e.fontSize*t,"px")}),e.controls.moveToController(t),e.currentScale=Number(t.toFixed(1)),e.callback.controlling(e)},e.init=function(){e.setScale(e.min)},document.addEventListener("wheel",(function(t){t.preventDefault(),e.container.contains(E(t))&&(t.wheelDelta>0?e.zoomin():e.zoomout())}),{passive:!1}),e},initDiffusion:function(t){var e={},n=new Image,r=new Image,o=Number(t.attr("data-speed"))||25,i=t.DOM.getContext("2d");e._callback={finish:function(t){},start:function(t){},reset:function(t){}},Object.defineProperty(e,"callback",{set:function(t){inheritanceProperties(e._callback,t)},get:function(){return e._callback}});var a=0,c=null;return t.attr("width",t.width),t.attr("height",t.height),n.src=t.attr("data-src"),n.onload=function(){t.addClass("show"),i.drawImage(n,0,0,t.width,t.height)},r.src=t.attr("data-spread")||"../include/images/diffusion/diffusion_sample_shape_1.png",r.onload=function(){},e.play=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!e.played){e.played=!0,i.globalCompositeOperation="destination-out";var u=n?n.x:t.width/2,l=n?n.y:t.height/2,s=t.width/2<u?u:t.width-u,f=t.height/2<l?l:t.height-l,d=s>f?s:f;c=requestAnimationFrame((function t(){a+=o,i.drawImage(r,u-a/2,l-a/2,a,a),a<3.5*d?c=requestAnimationFrame(t):e.callback.finish(e)})),e.callback.start(e)}},e.reset=function(){e.played=!1,a=0,i.globalCompositeOperation="source-over",i.drawImage(n,0,0,t.width,t.height),e.callback.reset(e),c&&(cancelAnimationFrame(c),c=null)},t.onclick((function(){var n=b(t.DOM),r={x:(w(event).x-t.bounding.left)/n,y:(w(event).y-t.bounding.top)/n};e.play(r)})),e.canvas=t,e.context=i,e},initAgain:Vs,APNG:Dv,initDrag:tt,initScale:function(t){var e={width:t.clientWidth,height:t.clientHeight},n=function(){var n={width:document.body.clientWidth,height:document.body.clientHeight},r=function(t){var e=t.containerSize,n=t.target,r=e.width,o=e.height,i=r/n.width,a=o/n.height;return n.width*a>r?i:a}({containerSize:n,target:e}),o=function(t){var e=t.target,n=t.zoomRate;return(t.containerSize.width-e.width*n)/2}({containerSize:n,target:e,zoomRate:r}),i=function(t){var e=t.target,n=t.zoomRate;return(t.containerSize.height-e.height*n)/2}({containerSize:n,target:e,zoomRate:r});!function(t){var e=t.zoomRate,n=t.leftValue,r=t.topValue,o=t.element.style;o.transform="scale(".concat(e,")"),o.MsTransform="scale(".concat(e,")"),o.MozTransform="scale(".concat(e,")"),o.WebkitTransform="scale(".concat(e,")"),o.transformOrigin="0% 0%",o.MsTransformOrigin="0% 0%",o.MozTransformOrigin="0% 0%",o.WebkitTransformOrigin="0% 0%",o.left="".concat(n,"px"),o.top="".concat(r,"px")}({zoomRate:r,leftValue:o,topValue:i,element:t})};n(),window.addEventListener("resize",n)},initMedia:function(t,e){return new Na(t,e)},playEfSound:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"correct";g().CONTENTS_UI&&g().CONTENTS_UI.cornerSound&&g().CONTENTS_UI.cornerSound.pause();var e=H();effectSound.src="".concat(e).concat(t,".mp3"),effectSound.load(),window.pushAudio(effectSound),effectSound.onloadedmetadata=function(){return effectSound.play()}},stopEfSound:function(){effectSound.pause()},setBgm:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"mute",e=H();bgmSound.src="".concat(e).concat(t,".mp3"),bgmSound.load(),window.pushAudio(bgmSound)},playBgm:function(){bgmSound.play()},stopBgm:function(){bgmSound.pause()},createAudio:function(t){var e=new Audio,n={};return n.DOM=e,n.src=t,e.src=n.src,e.preload="metadata",e.load(),ig(e),n.stop=function(){e.pause(),e.currentTime=.001},n.play=function(){e.play()},n},pushAudio:ig};for(var Wm in Fm)window[Wm]=Fm[Wm];for(var zm in t)window[zm]=t[zm];function Vm(t){var e=getPath();t.isPlayed||(t.src="".concat(e,"mute.mp3"),t.play(),t.isPlayed=!0)}window.CONTENTS_QUIZ=[],window.soundArr={video:[],audio:[]},window.narrationSound=new Audio,window.bgmSound=new Audio,window.effectSound=new Audio,window.narrationSound.isPlayed=!1,window.bgmSound.isPlayed=!1,window.effectSound.isPlayed=!1,window.bgmSound.loop=!0,window.addEventListener("mousedown",(function(){[narrationSound,bgmSound,effectSound].forEach(Vm)})),window.addEventListener("touchstart",(function(){[narrationSound,bgmSound,effectSound].forEach(Vm)})),window.onload=function(){return window.loaded=!0},window.runPageManager=function(){window.loaded?(document.querySelector("main")||document.querySelector("div")).classList.add("loaded"):setTimeout((function(){(document.querySelector("main")||document.querySelector("div")).classList.add("loaded")}),100),window.pageManager=window.pageManager||{},pageManager.contentsList=["players","sliders","popups","quizzes","drawings","magnify","scrolls","comparisons","narrations","scratches","progressControls","records","wordPlay"],pageManager.contentsList.forEach((function(t){return pageManager[t]=[]}));var t,e=getEl(".".concat("js-resetManagerCont"));null==e||e.forEach((function(t){t.addEvent(lt,(function(){var e,n=getArrayToString(t.attr("data-reset")),r=t.attr("data-container"),o=r?null===(e=getEl(".".concat(r))[0])||void 0===e?void 0:e.DOM:document.body;pageManager.resetContents(n,o)}))})),ag(".".concat(et))&&getEl(".".concat(et)).forEach((function(t){initScale(t.DOM),t.classList.add("Loaded")})),function(){var t=document.querySelector("div");window.orientationAngle=screen.orientation&&screen.orientation.angle||0,null!=navigator.userAgent.match(/iPad|iPhone|iPod/i)?(window.isRunMode="IOS",window.orientationAngle=window.orientation,t.classList.add("IOS")):null!=navigator.userAgent.match(/Android|Windows CE|BlackBerry|Symbian|Windows Phone|webOS|Opera Mini|Opera Mobi|POLARIS|IEMobile|lgtelecom|nokia|SonyEricsson/i)?(window.isRunMode="ANDROID",t.classList.add("ANDROID")):m()?(window.isRunMode="Mobile",t.classList.add("Mobile")):(window.isRunMode="PC",t.classList.add("PC")),setOrientation(window.orientationAngle),window.addEventListener("orientationchange",(function(){setOrientation(window.orientationAngle)}))}(),(g().MYCLASSPACKAGER||(null===(t=g().parent[0])||void 0===t?void 0:t.MYCLASSPACKAGER))&&firstDiv.classList.add("RUN_MYCLASSPACKAGE"),document.addEventListener("touchend",(function(){var t=getEl(".hover");t&&t.length>0&&t.forEach((function(t){t.removeClass("hover")}))})),ag(".draglayout")&&getEl(".draglayout").forEach((function(t){t.style({position:"absolute"}),initDrag({dragObj:t.DOM,callback:{start:function(t){},move:function(e){t.style({top:"".concat(e.movedY.toFixed(0),"px"),left:"".concat(e.movedX.toFixed(0),"px")})},end:function(){}}})})),ag("button")&&getEl("button").forEach((function(t){addHoverEvent(t.DOM)})),pageManager.initViewSound=hg,pageManager.openBrowser=dg,pageManager.openFile=pg,pageManager.initContents=function(t){["drawings","sliders","magnify","scrolls","quizzes"].forEach((function(e){var n=pageManager.findContents(e,t);n&&("quizzes"==e?n.forEach((function(t){return t.positionInit&&t.positionInit()})):n.forEach((function(t){return t.init()})))})),pageManager.runActivePlayer()},pageManager.resetContents=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body;[].concat(t).filter((function(t){return pageManager[t]})).forEach((function(t){"wordPlay"==t?pageManager.wordPlay.length>0&&pageManager.wordPlay.reset():pageManager[t].filter((function(t){return e.contains(t.container.DOM)})).forEach((function(t){var e;null!==(e=t.options)&&void 0!==e&&e.includes("noReset")||t.reset()}))}))},pageManager.findContents=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body;return pageManager[t]?pageManager[t].filter((function(t){return e.contains(t.container.DOM)})):null};var n={beforePlay:function(t){pageManager.players.filter((function(e){return e.index!==t})).forEach((function(t){return t.options.includes("noReset")?t.pause():t.stop()})),pageManager.resetContents(["narrations","wordPlay"])},autoScroll:function(t,e){var n=pageManager.getScrollByIndex(e);n&&!isNaN(t)&&n.moveScroll(t)}};function r(t){switch(t.attr(St)){case"video":return new Th(t,n);case"audio":return new Ah(t,n);case"language":return new Rm(t,n)}}ag(".".concat(st))&&(pageManager.players=getEl(".".concat(st)).map((function(t,e){!t.hasAttr(Ot)&&t.attr(Ot,e+1);var n=r(t);return window.pushAudio(n.media.DOM,n.type),n}))),pageManager.getPlayerByIndex=function(t){return pageManager.players?pageManager.players.find((function(e){return e.index===Number(t)})):[]},pageManager.getVideoPlayers=function(){return pageManager.players?pageManager.players.filter((function(t){return"video"===t.type})):[]},pageManager.getAudioPlayers=function(){return pageManager.players?pageManager.players.filter((function(t){return"audio"===t.type})):[]},pageManager.stopPlayers=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null===(t=pageManager.players)||void 0===t||t.forEach((function(t){t.index!==e&&(t.isPlaying||t.isPaused)&&t.stop()}))},pageManager.initVideoPlayer=bh,pageManager.initAudioPlayer=Nh,pageManager.initLanguagePlayer=Nm,pageManager.registPlayer=function(t){var e=r(t);return window.pushAudio(e.media.DOM,e.type),pageManager.players.push(e),e},pageManager.runActivePlayer=function(){0!==pageManager.getVideoPlayers().length&&pageManager.getVideoPlayers().forEach((function(t){return t.init()}))};var o={pageChange:function(t){pageManager.initContents(t.currentContent.DOM);var e=pageManager.findContents("scrolls",t.currentContent.DOM);null==e||e.forEach((function(t){return t.reset()}))},reset:function(t){pageManager.resetContents(pageManager.contentsList,t.currentContent),pageManager.findContents("players",t.currentContent).forEach((function(t){var e;null!==(e=t.options)&&void 0!==e&&e.includes("noReset")&&t.isPlaying&&t.pause()}))}};ag(".".concat(je))&&(getEl(".".concat(je)).forEach(yi),pageManager.sliders=getEl(".".concat(je)).map((function(t){return gi(t,o)}))),pageManager.initSlider=gi,pageManager.registSlider=function(t){var e=gi(t,o);pageManager.sliders.push(e)},pageManager.getSliderByIndex=function(t){return pageManager.sliders.find((function(e){return e.index===Number(t)}))},pageManager.getSliderByName=function(t){return pageManager.sliders.find((function(e){return e.name===t}))},pageManager.getSliderByElement=function(t){return pageManager.sliders.find((function(e){return e.container.contains(t)}))},pageManager.getPopupByIndex=function(t){return pageManager.popups.find((function(e){return e.index==Number(t)}))},pageManager.getPopupByName=function(t){return pageManager.popups.find((function(e){return e.name===t}))},pageManager.getPopupByElement=function(t){return pageManager.popups.find((function(e){return e.hasElement(t)}))};var i={closePop:function(t){return pageManager.closePopups(t)},open:function(t){var e;null===(e=pageManager)||void 0===e||e.initContents(t.container.DOM);var n=pageManager.findContents("scrolls",t.container.DOM);null==n||n.forEach((function(t){return t.reset()})),t.playNarrationIndex&&pageManager.getNarrationByIndex(t.playNarrationIndex).play()},resetNarrWord:function(t){return pageManager.resetContents(["narrations","wordPlay","players"])},reset:function(t){for(var e=[],n=0;n<pageManager.contentsList.length;n++)"popups"!=pageManager.contentsList[n]&&e.push(pageManager.contentsList[n]);pageManager.resetContents(e,t.container),pageManager.findContents("players",t.container).forEach((function(t){var e;null!==(e=t.options)&&void 0!==e&&e.includes("noReset")&&t.isPlaying&&t.pause()}))}};ag(".".concat(We))&&(getEl(".".concat(We)).forEach(Oi),pageManager.popups=getEl(".".concat(We)).map((function(t){return Ci(t,i)})),pageManager.popups.forEach((function(t){t.container.attr(He)&&(t.inners=t.container.attr(He).split(",").map((function(e){var n=pageManager.getPopupByIndex(Number(e));return n.isInner=!0,n.parentPopup=t,n})))}))),pageManager.initPopup=Ci,pageManager.regisPopup=function(t){var e=Ci(t,i);pageManager.popups.push(e),setInnerPopup([e])},pageManager.closePopups=function(t){pageManager.popups.forEach((function(e){e.index!==t.index&&e.isOpened&&!e.hasNoClose&&e.close()}))};var a={reset:function(t,e){return pageManager.getNarrationByIndex(e.attr("data-narr-idx")).reset()}};ag(".".concat(kn))&&(pageManager.quizzes=getEl(".".concat(kn)).map((function(t,e){return km(t,e,a)}))),pageManager.initQuiz=km,pageManager.regisQuiz=function(t){var e=km(t,pageManager.quizzes.length,a);pageManager.quizzes.push(e)},pageManager.findQuizByIndex=function(t){return pageManager.quizzes.find((function(e){return e.index==Number(t)}))},pageManager.findQuizByName=function(t){return pageManager.quizzes.find((function(e){return e.name===t}))},pageManager.findQuizByElement=function(t){return pageManager.quizzes.find((function(e){return e.container.contains(t)}))},pageManager.initQuizHandlers=function(t){return new oa(t)},ag(".".concat(ir))&&(pageManager.quizHandlers=getEl(".".concat(ir)).map(pageManager.initQuizHandlers)),pageManager.initDrawings=function(t,e){return t.index=Number(t.attr(Pe))||e,new wa(t)},ag(".".concat(Se))&&(pageManager.drawings=getEl(".".concat(Se)).map(pageManager.initDrawings)),pageManager.getDrawByIndex=function(t){return pageManager.drawings.find((function(e){return e.index==t}))},pageManager.initScrolls=function(t,e){return t.index=Number(t.attr(gn))||e,new Hv(t)},ag(".".concat(fn))&&(pageManager.scrolls=getEl(".".concat(fn)).map(pageManager.initScrolls)),pageManager.getScrollByIndex=function(t){return pageManager.scrolls.find((function(e){return e.index==t}))},ag(".".concat(wn))&&(pageManager.selfChecks=getEl(".".concat(wn)).map(Nv)),pageManager.initSelfCheck=Nv,ag(".".concat(Br))&&(pageManager.clickItems=getEl(".".concat(Br)).map(Yv)),pageManager.initClick=Yv,ag(".".concat(Fr))&&(pageManager.comparisons=getEl(".".concat(Fr)).map(Qv)),pageManager.initComparison=Qv,pageManager.getComparisonByIndex=function(t){return pageManager.comparisons.find((function(e){return e.index==t}))},ag(".".concat(qr))&&(pageManager.magnify=getEl(".".concat(qr)).map(Xv)),pageManager.initMagnify=Xv;var c={targetPlay:function(t){var e=!1;return pageManager.narrations.forEach((function(t){t.multiPlayMode&&(e=!0)})),e},controlMultiPlay:function(t,e,n,r){pageManager.getNarrationByIndex(n).parentItem=e,pageManager.getNarrationByIndex(n).parentTarget=r,pageManager.getNarrationByIndex(n).play("multi")},multiPlay:function(t,e,n,r,o){pageManager.getNarrationByIndex(e[n]).endFuc=function(){t.multiPlayMode&&(e.length==n+1?(t.multiPlayMode=!1,t.playing=!1,t.stop("soundEnd"),o.forEach((function(t){t.isPlaying=!1,t.stop()})),r.off()):(t.controlMultiPlay(e[n+1]),r.on()))}},stop:function(t,e){pageManager.narrations.forEach((function(t){var n;"soundEnd"!=e&&(t.multiPlayMode=!1),t.playing=!1,t.multiPlayMode||(null===(n=t.parentTarget)||void 0===n?void 0:n.length)>0&&t.targets.filter((function(e){return e.DOM!=t.parentTarget[0].DOM})).forEach((function(t){t.isPlaying=!1,t.stop()}))}))},reset:function(){pageManager.narrations.forEach((function(t){t.multiPlayMode=!1})),pageManager.resetContents(["players","narrations"])}};ag(".".concat(Hr))&&(pageManager.narrations=getEl(".".concat(Hr)).map((function(t){return ng(t,c)}))),pageManager.getNarrationByIndex=function(t){return pageManager.narrations.find((function(e){return e.index==t}))},pageManager.initNarration=ng,pageManager.registNarration=function(t){var e=ng(t,c);pageManager.narrations.push(e)},ag(".".concat(cn))&&(pageManager.scratches=getEl(".".concat(cn)).map(rg)),pageManager.initScratch=rg,pageManager.getScratchByIndex=function(t){return pageManager.scratches.find((function(e){return e.index==t}))},ag(".".concat(Ye))&&(pageManager.progressControls=getEl(".".concat(Ye)).map((function(t,e){return og(t,e)}))),pageManager.initProgressControl=og,pageManager.getProgressControlByIndex=function(t){return pageManager.progressControls.find((function(e){return e.index==t}))},ag(".".concat(Je))&&(pageManager.records=getEl(".".concat(Je)).map((function(t,e){var n=Ud(t,e,{reset:function(){},play:function(){},end:function(){},onePageReset:function(){pageManager.records.forEach((function(t){return t.onePageReset()}))}});return n.ready(),n}))),pageManager.initRecord=Ud,pageManager.getRecordByIndex=function(t){return pageManager.records.find((function(e){return e.index==t}))};var u={sliderPageChange:function(t,e){return pageManager.getSliderByIndex(t).pageChange(e)},sliderGetCurrentIdx:function(t){return pageManager.getSliderByIndex(t).currentContentIndex}};return ag(".".concat(gr))&&(pageManager.wordPlay=Vh(getEl(".".concat(gr)),u)),pageManager.initWordPlay=Vh,ag(".".concat(Vr))&&(pageManager.inputDrag=getEl(".".concat(Vr)).map(vg)),pageManager.initInputDrag=vg,pageManager.runActivePlayer(),new Promise((function(t){return t()}))}})()})();